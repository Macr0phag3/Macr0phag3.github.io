

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head><!-- hexo injector head_begin start --><script defer src="/injector/toolbox.js"></script><!-- hexo injector head_begin end -->
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/apple-touch-icon.png">
  <link rel="icon" href="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Tr0y">
  <meta name="keywords" content="Tr0y, tr0y, Hexo, Blog, ÂçöÂÆ¢, ‰ø°ÊÅØÂÆâÂÖ®">
  
    <meta name="description" content="Êú¨Êù•‰ª•‰∏∫ 2 ÁØáÂ∞±ËÉΩËØ¥ÂÆåÔºåÂêéÊù•ÂèëÁé∞ÂÜÖÂÆπËøòÊòØÊå∫Â§öÁöÑÔºåÊâÄ‰ª•ÊàëÊãÜÊàê‰∫Ü 3 ÁØáÔºåÊú¨ÁØáÊòØÁ¨¨ 2 ÁØáÔºö‚ÄúÈíàÂØπ DNS ÂçèËÆÆÁöÑÊîª‰∏éÈò≤‚ÄùÔºå‰∏ã‰∏ÄÁØáÊòØ‚ÄúÂà©Áî® DNS ÁöÑÊîª‰∏éÈò≤‚Äù„ÄÇ">
<meta property="og:type" content="article">
<meta property="og:title" content="DNS ÂÆâÂÖ®Ôºà‰∫åÔºâÔºöÈíàÂØπ DNS ÂçèËÆÆÁöÑÊîªÂáª">
<meta property="og:url" content="https://www.tr0y.wang/2020/09/30/DNS-2-attack-dns/">
<meta property="og:site_name" content="Tr0y&#39;s Blog">
<meta property="og:description" content="Êú¨Êù•‰ª•‰∏∫ 2 ÁØáÂ∞±ËÉΩËØ¥ÂÆåÔºåÂêéÊù•ÂèëÁé∞ÂÜÖÂÆπËøòÊòØÊå∫Â§öÁöÑÔºåÊâÄ‰ª•ÊàëÊãÜÊàê‰∫Ü 3 ÁØáÔºåÊú¨ÁØáÊòØÁ¨¨ 2 ÁØáÔºö‚ÄúÈíàÂØπ DNS ÂçèËÆÆÁöÑÊîª‰∏éÈò≤‚ÄùÔºå‰∏ã‰∏ÄÁØáÊòØ‚ÄúÂà©Áî® DNS ÁöÑÊîª‰∏éÈò≤‚Äù„ÄÇ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blogcovers-1252075454.cos.ap-shanghai.myqcloud.com/dns.jpg/cover">
<meta property="article:published_time" content="2020-09-30T16:40:26.000Z">
<meta property="article:modified_time" content="2023-12-13T10:02:13.000Z">
<meta property="article:author" content="Tr0y">
<meta property="article:tag" content="DNS">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://blogcovers-1252075454.cos.ap-shanghai.myqcloud.com/dns.jpg/cover">
  
  
  
  <title>DNS ÂÆâÂÖ®Ôºà‰∫åÔºâÔºöÈíàÂØπ DNS ÂçèËÆÆÁöÑÊîªÂáª - Tr0y&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ‰∏ªÈ¢ò‰æùËµñÁöÑÂõæÊ†áÂ∫ìÔºå‰∏çË¶ÅËá™Ë°å‰øÆÊîπ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/my.css">
<link rel="stylesheet" href="/css/my-piczoom.css">
<link rel="stylesheet" href="/css/my-code.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"www.tr0y.wang","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":60,"cursorChar":"‰∏®","loop":false,"scope":["archives","post","tags","categories","about","links","page","404"]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":"üåß"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":true,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":5},"lazyload":{"enable":true,"loading_img":"https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":false,"baidu":"8e9bf819abf5fa586aeb29b27a17930f","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"HvSx6ik6SYrERWriMqKHJgxY-gzGzoHsz","app_key":"Ehx7kqAi6icjCXaw5jdD5sIs","server_url":"https://hvsx6ik6.lc-cn-n1-shared.com","path":"window.location.pathname","ignore_local":true}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  
    <!-- Baidu Analytics -->
    <script async>
      if (!Fluid.ctx.dnt) {
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?8e9bf819abf5fa586aeb29b27a17930f";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
      }
    </script>
  

  

  

  

  

  

  
    
  



  
<!-- hexo injector head_end start --><script defer src="/injector/post.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Tr0y's Blog" type="application/atom+xml">
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Tr0y&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                È¶ñÈ°µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-books"></i>
                ÁîüÂëΩÁ∫ø
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Ê†áÁ≠æ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-archive-fill"></i>
                ÂàÜÁ±ª
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/gallery/">
                <i class="iconfont icon-images"></i>
                ÊëÑÂΩ±ÈõÜ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                ÂÖ≥‰∫é
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/page.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="DNS ÂÆâÂÖ®Ôºà‰∫åÔºâÔºöÈíàÂØπ DNS ÂçèËÆÆÁöÑÊîªÂáª"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2020-09-30 16:40" pubdate>
          2020Âπ¥9Êúà30Êó• 16:40:26
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          <!-- compatible with older versions-->
          14k Â≠ó
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          <!-- compatible with older versions-->
          91 ÂàÜÈíü
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> Ê¨°
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar category-bar" style="margin-right: -1rem">
    





<div class="category-list">
  
  
    
    
    
    <div class="category row nomargin-x">
      <a class="category-item 
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="ÁªèÈ™åÊÄªÁªì"
        id="heading-14f81b61393e65e2be86c2b4bcc0434a" role="tab" data-toggle="collapse" href="#collapse-14f81b61393e65e2be86c2b4bcc0434a"
        aria-expanded="true"
      >
        ÁªèÈ™åÊÄªÁªì
        <span class="list-group-count">(85)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse show" id="collapse-14f81b61393e65e2be86c2b4bcc0434a"
           role="tabpanel" aria-labelledby="heading-14f81b61393e65e2be86c2b4bcc0434a">
        
        
          
          
  <div class="category-post-list">
    
    
      
      
        <a href="/2021/12/31/2021/" title="2021 Âπ¥Â∫¶ÊÄªÁªì"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">2021 Âπ¥Â∫¶ÊÄªÁªì</span>
        </a>
      
    
      
      
        <a href="/2021/01/12/flag-in-2021/" title="2021ÔºåÊù•Á´ã‰∫õ flag Âêß"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">2021ÔºåÊù•Á´ã‰∫õ flag Âêß</span>
        </a>
      
    
      
      
        <a href="/2023/01/31/2022/" title="2022 Âπ¥Â∫¶ÊÄªÁªì"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">2022 Âπ¥Â∫¶ÊÄªÁªì</span>
        </a>
      
    
      
      
        <a href="/2024/03/15/2023/" title="2023 Âπ¥Â∫¶ÊÄªÁªì"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">2023 Âπ¥Â∫¶ÊÄªÁªì</span>
        </a>
      
    
      
      
        <a href="/2024/05/06/%E4%BA%91%E5%8D%97%E4%B9%8B%E6%97%85/" title="2024 ‰∫ëÂçó‰πãÊóÖ"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">2024 ‰∫ëÂçó‰πãÊóÖ</span>
        </a>
      
    
      
      
        <a href="/2025/03/14/2024/" title="2024 Âπ¥Â∫¶ÊÄªÁªì"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">2024 Âπ¥Â∫¶ÊÄªÁªì</span>
        </a>
      
    
      
      
        <a href="/2025/02/20/%E6%96%90%E6%B5%8E%E4%B9%8B%E6%97%85/" title="2024 üá´üáØ ÊñêÊµé‰πãÊóÖ"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">2024 üá´üáØ ÊñêÊµé‰πãÊóÖ</span>
        </a>
      
    
      
      
        <a href="/2019/06/02/CSRF%E6%8C%87%E5%8C%97/" title="CSRF ÊåáÂåó"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">CSRF ÊåáÂåó</span>
        </a>
      
    
      
      
        <a href="/2017/06/07/CtfMiscStega/" title="CTF ÊùÇÈ°π‰πãÈöêÂÜôÊúØ"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">CTF ÊùÇÈ°π‰πãÈöêÂÜôÊúØ</span>
        </a>
      
    
      
      
        <a href="/2020/09/14/DNS-1-basic/" title="DNS ÂÆâÂÖ®Ôºà‰∏ÄÔºâÔºöÂü∫Á°ÄÁü•ËØÜÂ§ç‰π†"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DNS ÂÆâÂÖ®Ôºà‰∏ÄÔºâÔºöÂü∫Á°ÄÁü•ËØÜÂ§ç‰π†</span>
        </a>
      
    
      
      
        <a href="/categories/%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/" class="list-group-item list-group-item-action">
          <span class="category-post">More...</span>
        </a>
        
  </div>

          
  
    
    
    
    <div class="category-sub row nomargin-x">
      <a class="category-subitem collapsed
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="ËøáÁ®ãËÆ∞ÂΩï"
        id="heading-82bd63cbf8d855f8a95d66283f2e4114" role="tab" data-toggle="collapse" href="#collapse-82bd63cbf8d855f8a95d66283f2e4114"
        aria-expanded="false"
      >
        ËøáÁ®ãËÆ∞ÂΩï
        <span class="list-group-count">(1)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse " id="collapse-82bd63cbf8d855f8a95d66283f2e4114"
           role="tabpanel" aria-labelledby="heading-82bd63cbf8d855f8a95d66283f2e4114">
        
        
          
  <div class="category-post-list">
    
    
      
      
        <a href="/2023/12/22/qwb2023-pyjail/" title="2023 Âº∫ÁΩëÊùØ‰∏âÈÅì pyjail ÁöÑÈ¢òËß£"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">2023 Âº∫ÁΩëÊùØ‰∏âÈÅì pyjail ÁöÑÈ¢òËß£</span>
        </a>
      
    
  </div>

        
      </div>
    </div>
  
        
      </div>
    </div>
  
</div>


  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">DNS ÂÆâÂÖ®Ôºà‰∫åÔºâÔºöÈíàÂØπ DNS ÂçèËÆÆÁöÑÊîªÂáª</h1>
            
              <p class="note note-info">
                
                  
                    Êú¨ÊñáÊúÄÂêéÊõ¥Êñ∞‰∫éÔºö2 Âπ¥Ââç
                  
                
              </p>
            
            
              <div class="markdown-body">
                
                <p>Êú¨Êù•‰ª•‰∏∫ 2 ÁØáÂ∞±ËÉΩËØ¥ÂÆåÔºåÂêéÊù•ÂèëÁé∞ÂÜÖÂÆπËøòÊòØÊå∫Â§öÁöÑÔºåÊâÄ‰ª•ÊàëÊãÜÊàê‰∫Ü 3 ÁØáÔºåÊú¨ÁØáÊòØÁ¨¨ 2 ÁØáÔºö‚ÄúÈíàÂØπ DNS ÂçèËÆÆÁöÑÊîª‰∏éÈò≤‚ÄùÔºå‰∏ã‰∏ÄÁØáÊòØ‚ÄúÂà©Áî® DNS ÁöÑÊîª‰∏éÈò≤‚Äù„ÄÇ</p>
<span id="more"></span>
<h2 id="ÂâçÁΩÆÁü•ËØÜ">ÂâçÁΩÆÁü•ËØÜ</h2>
<p>Âú®ÈòÖËØªÊú¨Êñá‰πãÂâçÔºåÂº∫ÁÉàÂª∫ËÆÆ‰Ω†ÂÖàÁúã‰∏ä‰∏ÄÁØá„ÄÇËøôÈáåË°•‰∏Ä‰∫õ‰∏ä‰∏ÄÁØáÈÅóÊºèÁöÑÁü•ËØÜÁÇπ„ÄÇ</p>
<h3 id="dns-ÂèëÂ±ïÂéÜÂè≤">DNS ÂèëÂ±ïÂéÜÂè≤</h3>
<p>ÊúÄËøëÁúã‰∫Ü‰∏ÄÁØáÊñáÁ´†Ôºöhttp://suo.im/6b7UFl „ÄÇÊÄªÁªìÁöÑÂæà‰∏çÈîôÔºå‰∏ªË¶ÅÊòØÂèëÂ±ïÂéÜÂè≤ÔºåÊàëËøôÈáåÊëòÊäÑ‰∏Ä‰∏ãÔºö</p>
<p>‚ÄúÊàë‰ª¨ÂèØ‰ª•ÁÆÄÂçïÊÄªÁªì‰∏Ä‰∏ã DNS ÁöÑÂèëÂ±ïÂè≤Ôºå1987 Âπ¥ÁöÑ RFC1034 Âíå RFC1035 ÂÆö‰πâ‰∫ÜÊúÄÂàùÁâàÊú¨ÁöÑ DNS ÂçèËÆÆÔºåÂàöË¢´ËÆæËÆ°Âá∫Êù•ÁöÑ DNS Â∞±‰ºöÂêåÊó∂‰ΩøÁî® UDP Âíå TCP ÂçèËÆÆÔºåÂØπ‰∫éÁªùÂ§ßÂ§öÊï∞ÁöÑ DNS Êü•ËØ¢Êù•ËØ¥ÈÉΩ‰ºö‰ΩøÁî® UDP Êï∞ÊçÆÊä•ËøõË°å‰º†ËæìÔºåTCP ÂçèËÆÆÂè™‰ºöÂú®Âå∫Âüü‰º†ËæìÁöÑÂú∫ÊôØ‰∏≠‰ΩøÁî®ÔºåÂÖ∂‰∏≠ UDP Êï∞ÊçÆÂåÖÂè™‰ºö‰º†ËæìÊúÄÂ§ß 512 Â≠óËäÇÁöÑÊï∞ÊçÆÔºåÂ§ö‰ΩôÁöÑ‰ºöË¢´Êà™Êñ≠Ôºõ‰∏§Âπ¥ÂêéÂèëÂ∏ÉÁöÑ RFC1123 È¢ÑÊµã‰∫Ü DNS ËÆ∞ÂΩï‰∏≠Â≠òÂÇ®ÁöÑÊï∞ÊçÆ‰ºöË∂äÊù•Ë∂äÂ§öÔºåÂêåÊó∂‰πüÁ¨¨‰∏ÄÊ¨°ÊòæÂºèÁöÑÊåáÂá∫‰∫ÜÂèëÁé∞ UDP ÂåÖË¢´Êà™Êñ≠Êó∂Â∫îËØ•ÈÄöËøá TCP ÂçèËÆÆÈáçËØï„ÄÇËøá‰∫ÜÂ∞ÜËøë 20 Âπ¥ÁöÑÊó∂Èó¥ÔºåÁî±‰∫é‰∫íËÅîÁΩëÁöÑÂèëÂ±ïÔºå‰∫∫‰ª¨ÂèëÁé∞ IPv4 Â∑≤Áªè‰∏çÂ§üÂàÜÈÖç‰∫ÜÔºåÊâÄ‰ª•ÂºïÂÖ•‰∫ÜÊõ¥ÈïøÁöÑ IPv6ÔºåDNS ‰πüÂú® 2003 Âπ¥ÂèëÂ∏ÉÁöÑ RFC3596 ‰∏≠ËøõË°å‰∫ÜÂçèËÆÆ‰∏äÁöÑÊîØÊåÅÔºõÈöèÂêéÂèëÂ∏ÉÁöÑ RFC5011ÔºàDNSSECÔºâÂíå RFC6376ÔºàDKIMÔºâÂ¢ûÂä†‰∫ÜÂú®Èâ¥ÊùÉÂíåÂÆâÂÖ®ÊñπÈù¢ÁöÑÊîØÊåÅÔºå‰ΩÜÊòØ‰πüÂ∏¶Êù•‰∫ÜËæÉÈïøÁöÑ DNS ËÆ∞ÂΩïÔºåUDP Êï∞ÊçÆÂåÖË¢´Êà™Êñ≠ÂèòÂæóÈùûÂ∏∏Â∏∏ËßÅ„ÄÇRFC6891 Êèê‰æõÁöÑ DNS Êâ©Â±ïÊú∫Âà∂ËÉΩÂ§üÂ∏ÆÂä©Êàë‰ª¨Âú®‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äËß£ÂÜ≥Â§ßÊï∞ÊçÆÂåÖË¢´Êà™Êñ≠ÁöÑÈóÆÈ¢òÔºåÂáèÂ∞ë‰∫Ü‰ΩøÁî® TCP ÂçèËÆÆËøõË°åÈáçËØïÁöÑÈúÄË¶ÅÔºå‰ΩÜÊòØÁî±‰∫éÊúÄÂ§ß‰º†ËæìÂçïÂÖÉÁöÑÈôêÂà∂ÔºåËøôÂπ∂‰∏çËÉΩËß£ÂÜ≥ÊâÄÊúâÈóÆÈ¢ò„ÄÇDNS Âá∫Áé∞‰πãÂêéÁöÑ 30 Â§öÂπ¥ÔºåRFC7766 ÊâçÁªà‰∫éÊèêÂá∫‰∫Ü‰ΩøÁî® TCP ÂçèËÆÆ‰Ωú‰∏∫‰∏ªË¶ÅÂçèËÆÆÊù•Ëß£ÂÜ≥ UDP Êó†Ê≥ïËß£ÂÜ≥ÁöÑÈóÆÈ¢òÔºåTCP ÂçèËÆÆ‰πü‰∏çÂÜçÂè™ÊòØ‰∏ÄÁßçÈáçËØïÊó∂‰ΩøÁî®ÁöÑÊú∫Âà∂ÔºåÈöèÂêéÂá∫Áé∞ÁöÑ DNS over TLS Âíå DNS over HTTPS ‰πüÈÉΩÊòØÂØπ DNS ÂçèËÆÆÁöÑ‰∏ÄÁßçË°•ÂÖÖ„ÄÇ‚Äù</p>
<p>ÁúüÊòØÈïøË∑ØÊº´Êº´Âïä„ÄÇ</p>
<h3 id="any-Á±ªÂûãÁöÑÊü•ËØ¢">any Á±ªÂûãÁöÑÊü•ËØ¢</h3>
<p><code>ANY</code> ÊàëÊÑüËßâÁÆóÊòØ DNS ÁöÑ‚ÄúËØ≠Ê≥ïÁ≥ñ‚Äù„ÄÇANY ‰∏çÊòØÊü•ËØ¢Âçï‰∏™Á±ªÂûãÁöÑËÆ∞ÂΩïÔºà‰æãÂ¶Ç A Êàñ MXÔºâÔºåËÄåÊòØËøîÂõûÊâÄÊúâÁ±ªÂûãÁöÑËÆ∞ÂΩïÔºåÊâÄ‰ª• ANY Êü•ËØ¢ÁöÑÂõûÂ§çÊòØ DNS ÊúçÂä°Âô®ÂØπËøô‰∏™ÂüüÂêçÊâÄËÉΩÊèê‰æõÁöÑÊúÄÂ§ßÁöÑÂõûÂ§çÔºàÂüü‰º†ÈÄÅÂ∞±‰∏çÁÆó‰∫ÜÔºåÂÆÉ‰∏ÄËà¨ÈÉΩÈúÄË¶ÅÊéàÊùÉÔºâ„ÄÇ</p>
<h3 id="dns-‰ΩøÁî®ÂèåÂçèËÆÆtcp-‰∏é-udp">DNS ‰ΩøÁî®ÂèåÂçèËÆÆÔºöTCP ‰∏é UDP</h3>
<p>Ë∂ÖËøá UDP ÈôêÂà∂ÁöÑ DNS Êï∞ÊçÆ‰ºöËΩ¨‰∏∫ TCP Êù•‰º†ËæìÔºåÊâÄ‰ª• DNS Êó¢‰ºö‰ΩøÁî® UDPÔºå‰πü‰ºö‰ΩøÁî® TCP„ÄÇ‰æãÂ≠êÔºö</p>
<p><img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/DNS-2-attack-dns/20200930044314680.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload /></p>
<p><img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/DNS-2-attack-dns/20200930044323320.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload /></p>
<p>ÂèØ‰ª•ÁúãÂà∞ÔºåÂ¶ÇÊûúÂìçÂ∫îÊï∞ÊçÆÂåÖÂ§™Â§ßÔºåDNS ÊúçÂä°Âô®‰ºöËøîÂõû‰∏çÂê´ answer ÁöÑÂìçÂ∫îÂåÖÔºåÂπ∂‰∏î <code>tc</code> ‰ΩçÊòØ <code>1</code>ÔºåÂç≥Âõæ‰∏≠ÁöÑ <code>Truncated: Message is truncated</code>ÔºåË°®ÊòéËøô‰∏™Êï∞ÊçÆË∂ÖÈïøËÄåÊúâÂà†ËäÇ„ÄÇdig ‰∏ÄÁúãÂìçÂ∫îÔºåÂ∞±‰ºö‰ΩøÁî® TCP ÈáçÂèë request„ÄÇÂΩìÁÑ∂Â¶ÇÊûú DNS ÊúçÂä°Âô®‰∏çÊîØÊåÅËøôÊ†∑ËΩ¨ TCP ÁöÑÊñπÂºèÔºåÂ∞±Ê≤°Ê≥ï‰º†ËæìÂ§ßÈáèÁöÑÊï∞ÊçÆ‰∫Ü„ÄÇ</p>
<h3 id="dns-ÁºìÂ≠òÂàÜÂ∏É">DNS ÁºìÂ≠òÂàÜÂ∏É</h3>
<p><img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/DNS-2-attack-dns/20200930044333857.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload /></p>
<p>Êù•Ê∫ê‰∫éÁΩëÂõæÔºöhttp://suo.im/6b7rft</p>
<h3 id="dns-ÈîôËØØÂìçÂ∫îÂàÜÂ∏É">DNS ÈîôËØØÂìçÂ∫îÂàÜÂ∏É</h3>
<p><img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/DNS-2-attack-dns/20200930044347913.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload /></p>
<p>Êù•Ê∫ê‰∫éÁΩëÂõæÔºöhttp://suo.im/63JBWU</p>
<h3 id="edns">EDNS</h3>
<p>Êâ©Â±ï DNS Êú∫Âà∂ÔºàExtension Mechanisms for DNSÔºâÔºåÂ∞±ÊòØÂú®ÈÅµÂæ™Â∑≤ÊúâÁöÑ DNS Ê∂àÊÅØÊ†ºÂºèÁöÑÂü∫Á°Ä‰∏äÂ¢ûÂä†‰∏Ä‰∫õÂ≠óÊÆµÔºåÊù•ÊîØÊåÅÊõ¥Â§öÁ±ªÂûãÁöÑ DNS ËØ∑Ê±Ç‰∏öÂä°„ÄÇRFC2671 ÊåáÂá∫‰∫Ü EDNS Ë¢´ÊèêÂá∫Êù•ÁöÑÂá†‰∏™ÁêÜÁî±Ôºö</p>
<ol type="1">
<li>DNS ÂçèËÆÆÂ§¥ÈÉ®ÁöÑÁ¨¨‰∫å‰∏™ 16 Â≠óËäÇ‰∏≠ÈÉΩÂ∑≤ÁªèË¢´Áî®ÁöÑÂ∑Æ‰∏çÂ§ö‰∫ÜÔºåÈúÄË¶ÅÊ∑ªÂä†Êñ∞ÁöÑËøîÂõûÁ±ªÂûãÔºàRCODEÔºâÂíåÊ†áËÆ∞ÔºàFLAGSÔºâÊù•ÊîØÊåÅÂÖ∂‰ªñÈúÄÊ±Ç</li>
<li>Âè™‰∏∫Ê†áÁ§∫ domain Á±ªÂûãÁöÑÊ†áÁ≠æÂàÜÈÖç‰∫Ü‰∏§‰ΩçÔºåÁé∞Âú®Â∑≤ÁªèÁî®Êéâ‰∫Ü‰∏§‰ΩçÔºà00 Ê†áÁ§∫Â≠óÁ¨¶‰∏≤Á±ªÂûãÔºå11 Ë°®Á§∫ÂéãÁº©Á±ªÂûãÔºâÔºåÂêéÈù¢Â¶ÇÊûúÊúâÊõ¥Â§öÁöÑÊ†áÁ≠æÁ±ªÂûãÂàôÊó†Ê≥ïÊîØÊåÅÔºåÂª∫ËÆÆÁî®‰∏ä 10 Âíå 01</li>
<li>ÂΩìÂàù DNS ÂçèËÆÆ‰∏≠ËÆæËÆ°ÁöÑÁî® UDP ÂåÖ‰º†ËæìÊó∂ DNS Êï∞ÊçÆÂ§ßÂ∞èÈôêÂà∂‰∏∫ 512 Â≠óËäÇÔºåÁé∞Âú®ÂæàÂ§ö‰∏ªÊú∫Â∑≤ÁªèÂÖ∑Â§áÈáçÁªÑÂ§ßÊï∞ÊçÆÂåÖÁöÑËÉΩÂäõÔºåÊâÄ‰ª•Ë¶ÅÊúâ‰∏ÄÁßçÊú∫Âà∂Êù•ÂÖÅËÆ∏ DNS ËØ∑Ê±ÇÊñπÈÄöÁü• DNS ÊúçÂä°Âô®ËÆ©ÂÖ∂ËøîÂõûÂ§ß‰∏Ä‰∫õÁöÑÊï∞ÊçÆÂåÖÔºõ</li>
</ol>
<p>‰∏ãÈù¢‰ºöÁúãÂà∞ÔºåDNSSEC„ÄÅedns-client-subnet Á≠âÈÉΩÈúÄË¶ÅÊúâ EDNS ÁöÑÊîØÊåÅ„ÄÇ‰ΩÜÊòØÁõ¥Êé•Êõ¥ÊîπÂçèËÆÆÊòØ‰∏çÂèØËÉΩÁöÑÔºåÊ≤°Ê≥ï‰øùËØÅÂÖ®ÁêÉÁöÑ DNS ‰ª•ÂèäËÆæÂ§áÈÉΩËÉΩÂêåÊó∂Êõ¥Êñ∞ÔºåÊâÄ‰ª• EDNS ‰∏≠ÂºïÂÖ•‰∫Ü‰∏ÄÁßçÊñ∞ÁöÑ‰º™ËµÑÊ∫êËÆ∞ÂΩï <code>OPT</code>ÔºàResource RecordÔºâÔºå‰πãÊâÄ‰ª•Âè´ÂÅö‰º™ËµÑÊ∫êËÆ∞ÂΩïÊòØÂõ†‰∏∫ÂÆÉ‰∏çÂåÖÂê´‰ªª‰Ωï DNS Êï∞ÊçÆÔºåOPT RR ‰∏çËÉΩË¢´ cache„ÄÅ‰∏çËÉΩË¢´ËΩ¨Âèë„ÄÅ‰∏çËÉΩË¢´Â≠òÂÇ®Âú® zone Êñá‰ª∂‰∏≠„ÄÇOPT Ë¢´ÊîæÂú® DNS ÈÄö‰ø°ÂèåÊñπ DNS Êï∞ÊçÆÂåÖÁöÑ <code>ADDITIONAL SECTION</code> ‰∏≠ÔºåÊØè‰∏™ DNS Êï∞ÊçÆÂåÖ‰∏≠Âè™ËÉΩÊúâ‰∏Ä‰∏™ OPT ‰º™ËµÑÊ∫êËÆ∞ÂΩï„ÄÇ<strong>ÂØπ‰∫éÊàë‰ª¨ÊêûÂÆâÂÖ®ÁöÑÊù•ËØ¥ÔºåÊØîËæÉÈáçË¶ÅÁöÑÊòØÁ¨¨ 3 ÁÇπ</strong>ÔºåÂç≥ <code>UDP payload size</code>„ÄÇÂÆÉÂèØ‰ª•ÂëäËØâ DNS ÊúçÂä°Âô®ÔºåËØ∑Ê±ÇÊñπÂ§üÂ§ÑÁêÜÁöÑÊúÄÂ§ß UDP Êä•ÊñáÁöÑÂ§ßÂ∞èÔºàÊ≤°‰∫ãÊàëËøòÊâõÂæó‰ΩèÔºå‰Ω†Â∞ΩÁÆ°Êù•Ôºâ„ÄÇÁî® dig ÁöÑÊó∂ÂÄôÂÆÉÈÉΩ‰ºöËá™Â∑±Â∏¶‰∏äËøô‰∏™ bufsizeÔºåÈªòËÆ§Â§ßÂ∞èÊòØ <code>4096</code>ÔºåÊàë‰ª¨ÂèØ‰ª•ÊåáÂÆöËøô‰∏™Â§ßÂ∞èÔºö<code>dig @8.8.8.8 github.com any +bufsize=6666</code>ÔºåÂΩìÁÑ∂Êàë‰ª¨‰πüÂèØ‰ª•Â∞Ü bufsize ËÆæÁΩÆÁöÑÂ∞è‰∏Ä‰∫õÔºåÂº∫Ëø´ DNS ÊúçÂä°Âô®‰ΩøÁî® TCP ‰º†Ëæì„ÄÇÂ§ßÂÆ∂ÂèØ‰ª•Ëá™Ë°åÂØπÊØî‰∏Ä‰∏ãÔºö<code>dig @8.8.8.8 github.com any</code> Âíå <code>dig @8.8.8.8 github.com any +bufsize=1</code>Ôºö<br />
<img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/DNS-2-attack-dns/20200930044402187.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload /></p>
<p><img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/DNS-2-attack-dns/20200930044411324.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload /></p>
<p>Êúâ‰∫õÊØîËæÉÊúâÊÑèÊÄùÁöÑÁé∞Ë±°Ôºö</p>
<ol type="1">
<li>ÊàëÈÅáÂà∞ÁöÑ DNS ÊúçÂä°Âô®ÈÉΩÂè™ÊúâÂú®ÂìçÂ∫îÊï∞ÊçÆ &gt;= 512ÔºàÁúãÊúçÂä°Âô®ËÆæÂÆöÁöÑÂ§ßÂ∞èÔºâÁöÑÊó∂ÂÄôÊâç‰ºöÊåâÁÖß bufsize ÂéªËµ∞ TCPÔºåÊØîÂ¶Ç‰Ω†Ë¶ÅÊòØ <code>dig @8.8.8.8 github.com +bufsize=1</code>ÔºåÊù•Âº∫Ëø´‰ΩøÁî® TCP ÂçèËÆÆÊòØÊ≤°Áî®ÁöÑ„ÄÇ</li>
<li>Êúâ‰∫õ DNS ÊúçÂä°Âô®ÂΩì bufsize ËÆæÁΩÆÁöÑÂæàÂ§ßÁöÑÊó∂ÂÄôÔºåÂè™‰ºöËøîÂõûÂøÖË¶ÅÁöÑÊï∞ÊçÆÔºå‰ΩÜÊòØÂ¶ÇÊûúËøîÂõûÁöÑÊï∞ÊçÆË∂ÖËøáËÆæÂÆöÁöÑ bufsizeÔºåÂ∞±‰ºöËµ∞ TCP ËøîÂõûÊâÄÊúâÁöÑÊï∞ÊçÆ„ÄÇÂõ†‰∏∫Ëøô‰∏™Êó∂ÂÄôÂ∑≤ÁªèÊ≤°ÊúâË¢´ÊãøÂéªÊîæÂ§ßÁöÑÈ£éÈô©‰∫Ü„ÄÇÂ§ßÂÆ∂ÂèØ‰ª•Ëá™Ë°åÊë∏Á¥¢‰∏Ä‰∏ãÊâßË°å <code>dig @dns-1.datamerica.com defcon.org RRSIG +bufsize=593</code> ‰∏é <code>dig @dns-1.datamerica.com defcon.org RRSIG +bufsize=592</code> ËøîÂõûÊï∞ÊçÆÁöÑ‰∏çÂêå„ÄÇ</li>
<li>ÁªìÂêà‰∏äÈù¢ 2 Êù°ÔºåËã• DNS ÊúçÂä°Âô®ÂèëÁé∞Âà†Èô§ <code>ADDITIONAL SECTION</code> ‰πãÂêéÂ∞è‰∫éÊåáÂÆöÁöÑÂ≠óËäÇÔºåÂàô‰∏ç‰ºöËµ∞ TCPÔºåËÄåÊòØËøîÂõûÂà†Èô§ <code>ADDITIONAL SECTION</code> ‰πãÂêéÁöÑÂìçÂ∫î„ÄÇ</li>
</ol>
<p>‰∏äËø∞Ë°å‰∏∫ÊàëÊ≤°Âéª rfc ÈáåÁ°ÆËÆ§ÔºåÂÆûÂú®ÂïÉ‰∏çÂä®‰∫Ü„ÄÇ„ÄÇ„ÄÇÊàëÂ∞±ÂΩìÂÅö DNS ÊúçÂä°Âô®ÔºàÁªÑ‰ª∂ÔºâÁöÑÂÖ±ÂêåÁâπÊÄßÂ•Ω‰∫Ü„ÄÇ</p>
<p>ÊúÄÂêéÔºåÂ¶ÇÊûúÊúçÂä°Âô®‰∏çÊîØÊåÅ EDNSÔºåÈÇ£‰πàÂ∞±‰ºöËøîÂõû <code>RCODE NOTIMPL</code>„ÄÅ<code>FORMERR</code> ÊàñËÄÖ <code>SERVFAIL</code>ÔºåÂèØ‰ª•ÂèÇËÄÉ‰∏äÈù¢ÁöÑÈÇ£‰∏™ÈîôËØØÂàÜÂ∏ÉÂõæ„ÄÇrfc ÊòéÁ°ÆÊåáÂá∫‰∫ÜËøô‰∏ÄÁÇπÔºö<br />
<img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/DNS-2-attack-dns/20200930044459555.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload /></p>
<h3 id="edns-client-subnet">edns-client-subnet</h3>
<p>Ëøô‰∏™ÊòØ‰∏é CDN ÊúâÂÖ≥ÁöÑÔºåËÉΩÂ§üÊõ¥Âä†Êñπ‰æø‰∏éÂø´Êç∑Âú∞Âä†ÈÄüÂÜÖÂÆπ‰º†ËæìÔºå‰∏éÊú¨ÊñáÂÖ≥Á≥ª‰∏çÊòØÂæàÂ§ßÔºåÊâÄ‰ª•ÁÆÄÂçïÊèê‰∏Ä‰∏ã„ÄÇedns-client-subnet ÁöÑËØ¶ÁªÜÊ†ºÂºèÂ≠òÂú® EDNS ÁöÑ RDATA ‰∏≠Ôºå‰æãÂ¶Ç 1.1.1.1 ÂΩì localDNS ÈÄíÂΩíÂêë CDN ÊúçÂä°ÂéÇÂÆ∂ DNS Êü•ËØ¢ÁöÑÊó∂ÂÄôÔºå‰ºöÂ∏¶‰∏äÁî®Êà∑Âá∫Âè£ÁöÑ ipÔºà1.1.1.1ÔºâÂú∞ÂùÄÔºåDNS ÊúçÂä°Âô®‰ºöÊ†πÊçÆÁî®Êà∑Âá∫Âè£ ip Âú∞ÂùÄÂΩíÂ±ûÔºåËøîÂõûÂØπÂ∫î CDN Êé•ÂÖ•ÁÇπÊúÄËøëÁöÑ ip Âú∞ÂùÄ„ÄÇ</p>
<h3 id="dnssec">DNSSEC</h3>
<p>DNSSECÔºàDomain Name System Security ExtensionsÔºâÔºåDNS ÂÆâÂÖ®Êâ©Â±ï„ÄÇ</p>
<p>ÊµÅÁ®ãÂü∫Êú¨‰∏äÊ≤°ÂèòÔºåÂè™ÊòØÊùÉÂ®ÅÊúçÂä°Âô®ËøîÂõûÁöÑÂìçÂ∫îÁöÑÊó∂ÂÄôÂõûÈôÑÂ∏¶ type ÊòØ <code>RRSIG</code>ÔºàResource Record SignatureÔºâÁöÑ RR„ÄÇÂÆ¢Êà∑Á´ØÂú®ÊãøÂà∞‰πãÂêéÂèëÁé∞Êúâ RRSIGÔºåËã•ÈÄâÊã©È™åËØÅÔºåÂàôÈúÄË¶ÅÁªßÁª≠Ëµ∞‰∏ãÈù¢ÁöÑÂá†‰∏™Ê≠•È™§„ÄÇ</p>
<p>ÁÆÄÂçïÂú∞Êù•ËØ¥Â∞±Âú® DNS ‰∏äÂä†‰∫ÜÊï∞Â≠óËØÅ‰π¶„ÄÇRRSIG ËÆ∞ÂΩïÊ≠£Â¶Ç‰∏äÈù¢ÊâÄËÆ≤ÁöÑÔºåÂ∞±ÊòØ DNS ÊùÉÂ®ÅÊúçÂä°Âô®ÂØπËøô‰∏™Ëß£ÊûêÁªìÊûúÁöÑ‰∏Ä‰∏™Êï∞Â≠óÁ≠æÂêç„ÄÇDNS ÊùÉÂ®ÅÊúçÂä°Âô®ÊúâËá™Â∑±ÂØπÂ∫îÁöÑÁßÅÈí•ÔºàZSKÔºâÔºåÂÆÉÁöÑ‰ΩúÁî®Â∞±ÊòØÁî®Êù•ÂØπ DNS ËØ∑Ê±ÇÁªìÊûúËøõË°åÊï∞Â≠óÁ≠æÂêçÁîüÊàêÊï∞Â≠óÊëòË¶ÅÔºåÁÑ∂ÂêéÂéüÂÖàÁöÑËÆ∞ÂΩï‰ª•ÂèäËøôÊù°‰ø°ÊÅØÊëòË¶ÅÂ∞±‰ºö‰∏ÄÂêåÂèëÈÄÅÁªôÊàë‰ª¨„ÄÇÊúâ‰∫ÜÁ≠æÂêç‰πãÂêéÔºåÊàë‰ª¨Â∞±Êé•ÁùÄÈÄöËøáËØ∑Ê±Ç DNSKEY ËÆ∞ÂΩïÊù•Ëé∑ÂèñÂØπÂ∫îÁöÑÂÖ¨ÂºÄÂØÜÈí•„ÄÇÊãøÂà∞‰∫ÜÂÖ¨ÂºÄÂØÜÈí•‰πãÂêéÔºåÊàë‰ª¨ÂèØ‰ª•Áî®ÂÆÉÂÖàÊù•Ëß£ÂØÜ RRSIG ÁöÑÊëòË¶ÅÔºåÁÑ∂ÂêéÊàë‰ª¨Âà©Áî®Áõ∏ÂêåÁöÑÊï£ÂàóÁÆóÊ≥ïÂÜçÁÆó‰∏ÄÊ¨°ÊëòË¶ÅÔºåÁÑ∂Âêé‰πãÂâçÊãøÂà∞ÁöÑ RRSIG ‰∏≠ÁöÑÊëòË¶ÅÂíåËá™Â∑±ÁÆóÂá∫Êù•ÁöÑÊëòË¶ÅËøõË°åÊØîÂØπÔºåÂ¶ÇÊûúÁõ∏ÂêåÁöÑËØùÂ∞±ËØ¥ÊòéËøôÊ¨°Êü•ËØ¢ÁªìÊûúÊòØÂèØ‰ø°ÁöÑ„ÄÇ</p>
<p>ÈÇ£‰πàÈóÆÈ¢òÊù•‰∫ÜÔºåÊàë‰ª¨Âàù‰∏≠ÁöÑÊó∂ÂÄôÂ∞±Áü•ÈÅìÊï∞Â≠óÁ≠æÂêçÊòØÊ≤°Ê≥ïÊäµÂæ°‰∏≠Èó¥‰∫∫ÊîªÂáªÁöÑÔºåÂéüÂõ†Âú®‰∫éÊàë‰ª¨Ê≤°Ê≥ïÈ™åËØÅÂÖ¨Èí•ÊòØÂê¶ÊòØÂèØ‰ø°ÁöÑ„ÄÇÂú® DNSSEC Âú∫ÊôØ‰∏ãÔºåÂ∞±ÊòØÂ¶ÇÊûúÊîªÂáªËÄÖÊää RRSIG ‰ª•Âèä DNSKEY ËÆ∞ÂΩïÈÉΩÂä´ÊåÅ‰∫ÜÔºåËØ•ÊÄé‰πàÂäûÂë¢ÔºüÂØπ‰∫éÈ™åËØÅËØÅ‰π¶Ëøô‰∏™ÈóÆÈ¢òÔºåHTTPS ÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØ CAÔºåDNSSEC ÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØ KSK„ÄÇ</p>
<p>DS (Delegation Signer) ÔºåDS ÁöÑÂÄºÊòØÁî®ÂüüÂêçÔºà‰æãÂ¶Ç baidu.comÔºâÁöÑ‰∏ä‰∏ÄÁ∫ßÔºàcomÔºâÁöÑÁßÅÈí•ÔºàKSKÔºâÂØπ baidu.com ÁöÑ DNSKEY ËøõË°åÂä†ÂØÜ‰πãÂêéÂæóÂà∞ÁöÑ„ÄÇÂ¶ÇÊûú‰Ω†‰∏ç‰ø°‰ªª baidu.com ÁöÑ DNSKEYÔºåÂèØ‰ª•Êãø com ÁöÑÂÖ¨Èí•ËøõË°åËß£ÂØÜ„ÄÅËÆ°ÁÆó„ÄÅÊØîÂØπÔºåËøôÊ†∑Â∞±ÂèØ‰ª•È™åËØÅ DNSKEY ÊòØ‰∏çÊòØÁúüÂÆûÁöÑ„ÄÇÂ¶ÇÊûú‰Ω†Ëøû com ÁöÑËÆ∞ÂΩïÈÉΩ‰∏ç‰ø°ÁöÑËØùÔºåÂèØ‰ª•Âú®Âéª‰∏äÊ†πÂüüÂêçÈ™åËØÅÔºåÈÄöËøáÁ±ª‰ººÁöÑÊñπÊ≥ïÔºåÊØîÂØπ com ÁöÑËÆ∞ÂΩïÊòØÂê¶Ê≠£Á°Æ„ÄÇÈÇ£‰πàÈóÆÈ¢òÊòØÊ†πÂüüÂêçË¶ÅÊÄé‰πàÈ™åËØÅÂë¢ÔºüËøô‰∏™ÈúÄË¶ÅÊâãÂä®Â≠òÂú®Êú¨Âú∞Ôºå‰πüÂ∞±ÊòØËØ¥Â¶ÇÊûúÂÜôÁöÑÂÆ¢Êà∑Á´ØÔºåÊÉ≥Ë¶ÅÁî® DESSEC ‰øùÊä§Ëá™Â∑±ÁöÑ DNS Êü•ËØ¢ÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅËá™Ë°åÂ≠ò‰∏Ä‰ªΩ„ÄÇÈôÑ‰∏ä‰∏Ä‰ªΩÂèÇËÄÉËµÑÊñôÔºöhttp://suo.im/5sP2RT</p>
<p><img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/DNS-2-attack-dns/20200930044515080.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload /></p>
<p>ÂèØÊÉúÁé∞Âú®ÈÉ®ÁΩ≤ DNSSEC ÁöÑÁΩëÁ´ôËøòÊòØÂ§™Â∞ë‰∫ÜÔºåÊó©ÊúüÁöÑ chrome ÊîØÊåÅËøá DNSSEC ÁöÑÈ™åËØÅÊµÅÁ®ãÔºåÂêéÈù¢‰πü‰∏ãÊéâ‰∫Ü„ÄÇÂπ∂‰∏î DNSSEC ÊòØÊ≤°Ê≥ï‰øùÊä§ÈöêÁßÅÁöÑÔºå‰πüÂ∞±ÊòØËØ¥‰ªª‰ΩïËÉΩÁõëËßÜ‰Ω†ÁΩëÁªúÊµÅÈáèÁöÑ‰∫∫Ôºå‰πüÂèØ‰ª•ÁúãÂà∞‰Ω†ÈÄöËøá DNSSEC Êü•ËØ¢‰∫ÜÂì™‰∫õÂüüÂêç„ÄÇ</p>
<h3 id="dot-‰∏é-doh">DoT ‰∏é DoH</h3>
<p>DoT Âç≥ <code>DNS over TLS</code>ÔºåDoH Âç≥ <code>DNS over HTTPS</code>„ÄÇÊòæÁÑ∂ÔºåDoT ÊØî DoH Â∞ë‰∫Ü‰∏ÄÂ±ÇÔºåÊâÄ‰ª•ÈÄüÂ∫¶Êõ¥Âø´Ôºõ‰ΩÜÊòØ DNS ÁºìÂ≠òÊú∫Âà∂ÔºåÂü∫‰∫éËøô‰∏§‰∏™ÂçèËÆÆËÆæËÆ°ÁöÑ DNS ‰πüÂèØ‰ª•ÊúâÁºìÂ≠òÊú∫Âà∂ÔºåÊâÄ‰ª•ÊàëËÆ§‰∏∫‰∏§ËÄÖÂú®ÈÄüÂ∫¶‰∏äÁöÑÂ∑ÆÂà´ÂèØ‰ª•ÂøΩÁï•„ÄÇÂπ∂‰∏îÂØπ‰∫éÂÆ¢Êà∑Á´ØÊù•ËØ¥ÔºåÁî® HTTPS ÊòØÊúÄÊñπ‰æøÁöÑÔºå‰∏çÁÆ°ÊòØÊµèËßàÂô®ËøòÊòØÁºñÁ®ãËØ≠Ë®ÄÁöÑÂ∫ì„ÄÇÊâÄ‰ª•ÊàëÊÑüËßâ DoH Ë¶ÅÊØî DoT ÊúâÂ∏åÊúõ„ÄÇ</p>
<p>‰∏æ‰∏™ DoH ÁöÑ‰æãÂ≠êÂêßÔºö<br />
<figure class="highlight puppet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs puppet"><span class="hljs-comment"># macr0phag3 in ~ [11:55:41]</span><br>¬ª curl -s -H <span class="hljs-string">&#x27;accept: application/dns-json&#x27;</span> <span class="hljs-string">&#x27;https://cloudflare-dns.com/dns-query?name=baidu.com&amp;type=A&#x27;</span> | <span class="hljs-keyword">jq</span><br>&#123;<br>  <span class="hljs-string">&quot;Status&quot;</span>: <span class="hljs-number">0</span>,<br>  <span class="hljs-string">&quot;TC&quot;</span>: <span class="hljs-keyword">false</span>,<br>  <span class="hljs-string">&quot;RD&quot;</span>: <span class="hljs-keyword">true</span>,<br>  <span class="hljs-string">&quot;RA&quot;</span>: <span class="hljs-keyword">true</span>,<br>  <span class="hljs-string">&quot;AD&quot;</span>: <span class="hljs-keyword">false</span>,<br>  <span class="hljs-string">&quot;CD&quot;</span>: <span class="hljs-keyword">false</span>,<br>  <span class="hljs-string">&quot;Question&quot;</span>: [<br>    &#123;<br>      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;baidu.com&quot;</span>,<br>      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-number">1</span><br>    &#125;<br>  ],<br>  <span class="hljs-string">&quot;Answer&quot;</span>: [<br>    &#123;<br>      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;baidu.com&quot;</span>,<br>      <span class="hljs-string">&quot;type&quot;</span>: 1,<br>      <span class="hljs-string">&quot;TTL&quot;</span>: 375,<br>      <span class="hljs-string">&quot;data&quot;</span>: <span class="hljs-string">&quot;220.181.38.148&quot;</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;baidu.com&quot;</span>,<br>      <span class="hljs-string">&quot;type&quot;</span>: 1,<br>      <span class="hljs-string">&quot;TTL&quot;</span>: 375,<br>      <span class="hljs-string">&quot;data&quot;</span>: <span class="hljs-string">&quot;39.156.69.79&quot;</span><br>    &#125;<br>  ]<br>&#125;<br></code></pre></td></tr></table></figure></p>
<p>Áî®Ëµ∑Êù•ÊòØ‰∏çÊòØÊØîÊÉ≥Ë±°ÁöÑÁÆÄÂçïÂë¢ÔºüÁé∞Âú® Chrome ‰∏é Firefox ‰πüÈÉΩÊîØÊåÅ‰∫Ü DoHÔºå‰ΩÜÊòØÈúÄË¶ÅÊâãÂä®ÊâìÂºÄÔºåÊÑüÂÖ¥Ë∂£ÁöÑËØùÂèØ‰ª•Ëá™Ë°å‰ΩìÈ™å„ÄÇ</p>
<p>ÈÇ£‰πàÂú®‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÊîªÂáªËÄÖËÉΩ‰∏çËÉΩÈÄöËøáÂä´ÊåÅ <code>cloudflare-dns.com</code> ÁöÑ DNS Ëß£ÊûêÔºåËøõËÄåÂä´ÊåÅÂæÖÊü•ËØ¢ÁöÑÂüüÂêçÂë¢ÔºüËøô‰∏™ÈóÆÈ¢òÊú¨Ë¥®‰∏äÊòØÔºåhttps ËÉΩÂê¶Ë¢´Âä´ÊåÅÔºåËøô‰∏™ÈóÆÈ¢òÂõûÁ≠îËµ∑Êù•‰∏çÈöæ‰ΩÜÊòØÊØîËæÉÊúâË∂£ÔºåÊâÄ‰ª•ÊàëÂ∞±ÁïôÁªôÂêÑ‰ΩçËá™Â∑±ÊÄùËÄÉ‰∫Ü„ÄÇ</p>
<h3 id="dns-Ê≥õËß£Êûê">DNS Ê≥õËß£Êûê</h3>
<p>DNS Ê≥õËß£ÊûêÂæàÂ•ΩÁêÜËß£ÔºåÂ∞±ÊòØÂ∞Ü<code>*.ÂüüÂêç</code>Ëß£ÊûêÂà∞Âêå‰∏Ä IPÔºåËøôÊ†∑Êñπ‰æøÁÆ°ÁêÜÔºåÂêåÊó∂Áõ∏ÂΩì‰∫éÂàõÈÄ†‰∫ÜÊó†Êï∞‰∏™ÂèØ‰ª•ËÆøÈóÆÁöÑ‰∫åÁ∫ßÂüüÂêçÔºåÂØπÁî®Êà∑ÊØîËæÉÂèãÂ•Ω„ÄÇ</p>
<p>‰ΩÜÊòØÂ±ÖÁÑ∂Êúâ‰∫õ TLD ÈÉΩÂ≠òÂú®Ê≥õËß£ÊûêÔºåÈùûÂ∏∏‰∏çÂèØÊÄùËÆÆÔºåÂõ†‰∏∫È°∂Á∫ßÂüüÁöÑÁÆ°ÁêÜÂ∫îËØ•ÈùûÂ∏∏‰∏•Ê†º„ÄÇËá≥Â∞ë <code>ws</code>„ÄÅ<code>ph</code> Ëøô 2 ‰∏™ <code>ccTLD</code> ÊòØÂºÄÂêØÊ≥õËß£ÊûêÁöÑÔºåÈöè‰æøÊåëÈÄâÂú®ÂÆÉ‰ª¨‰∏ãÈù¢ÁöÑÈ°∂Á∫ßÂüüÂêçÔºåÈÉΩÂèØ‰ª•Ëß£ÊûêÂá∫ IP Âπ∂‰∏îÂæÄÂæÄÊòØÂêå‰∏Ä‰∏™„ÄÇÊØîÂ¶Ç <code>xm91iplj6tugqkf.ws</code>„ÄÅ<code>uOwnucwMkuiqpSJ.ws</code> Ëøô‰∫õÈöèÊú∫ÂüüÂêçÁöÑ IP ÈÉΩÊòØ <code>64.70.19.203</code>ÔºõÂØπÂ∫îÁöÑ <code>ph</code>ÔºåËøô‰∫õÈöèÊú∫ÂüüÂêçÁöÑ IP Âú∞ÂùÄÈÉΩÊòØ <code>45.79.222.138</code>„ÄÇËøô‰∏ÄË°å‰∏∫‰ºöÂØπÂÆâÂÖ®ÂàÜÊûêÂ∏¶Êù•‰∏•ÈáçÁöÑÂΩ±ÂìçÔºåÂèØËÉΩ‰ºöÂØºËá¥ËØØÂà§Ôºå‰∏Ä‰∏™ÂÖ∏ÂûãÁöÑ‰æãÂ≠êÊØîÂ¶ÇÈì∂Ë°åÊú®È©¨ dyre ÁöÑ DGA ÂüüÂêçÊúâÁöÑÊòØ‰ª• ws ‰Ωú‰∏∫ TLDÔºåÊòæÁÑ∂ÂÆÉ‰ª¨ÈÉΩ‰ºöÊúâÊúâÊïàÁöÑËß£ÊûêÂú∞ÂùÄÔºå‰ΩÜÂπ∂‰∏çÊòØÁúüÊ≠£ÁöÑ C&amp;C Âú∞ÂùÄÔºàÂØπ‰∫é DGA ÁöÑ‰ªãÁªç‰ºöÂú®Á¨¨‰∏âÁØáÈáåÂá∫Áé∞ÔºåËøôÂè•ËØù‰∏çÁêÜËß£ÂèØ‰ª•ÂÖàË∑≥ËøáÔºâ„ÄÇ</p>
<p>‰∏çËøáÁõÆÂâç‰∏çÊòØÂæàÊ∏ÖÊ•ö ICANN ‰∏∫Âï•Ê≤°ÊúâÈôêÂà∂Ëøô‰∏™Ë°å‰∏∫ÔºåÊÑüËßâÊúâ‰ªÄ‰πà py ‰∫§Êòì„ÄÇ„ÄÇ„ÄÇ</p>
<h2 id="ÈíàÂØπ-dns-ÂçèËÆÆÁöÑÊîª‰∏éÈò≤">ÈíàÂØπ DNS ÂçèËÆÆÁöÑÊîª‰∏éÈò≤</h2>
<h3 id="ÊúçÂä°Âô®ÂÆ¢Êà∑Á´ØË¢´ÂÖ•‰æµÊéßÂà∂">ÊúçÂä°Âô®/ÂÆ¢Êà∑Á´ØË¢´ÂÖ•‰æµ/ÊéßÂà∂</h3>
<ol type="1">
<li>ÈíàÂØπ DNS ÊúçÂä°Âô®ÔºöÊîªÂáªËÄÖÂ¶ÇÊûúÊåñÂà∞ DNS ÁªÑ‰ª∂ÁöÑ 0dayÔºåÊØîÂ¶Ç bindÔºå‰ªéËÄåÊéßÂà∂‰∫Ü DNS ÊúçÂä°Âô®ÔºåÂèØ‰ª•‰øÆÊîπÂêÑÁßçËß£ÊûêËÆ∞ÂΩïÔºåËøô‰∏™Âç±ÂÆ≥ÊòØÊúÄÂ§ßÁöÑÔºå‰ºöÂΩ±ÂìçÂ§ßÈáèÁöÑÁî®Êà∑„ÄÇ‰ª•Âèä DNS ÁªÑ‰ª∂ÁöÑ‰∏Ä‰∫õÊºèÊ¥ûÔºåÂèØËÉΩ‰ºöË¢´Áî®‰∫éÂèëËµ∑ DDoSÔºå‰æãÂ¶Ç CVE-2020-8616„ÄÇ</li>
<li>ÈíàÂØπ‰ΩøÁî® DNS ÁöÑ‚ÄúÂÆ¢Êà∑Á´Ø‚ÄùÔºàÂèØËÉΩÊòØÂÆ¢Êà∑Á´ØÊàñËÄÖÊúçÂä°Âô®ÔºåÂç≥ÂèëËµ∑ DNS Êü•ËØ¢ÁöÑ‰∏ªÊú∫ÔºâÔºöÊîªÂáªËÄÖÊàêÂäüÊéßÂà∂‚ÄúÂÆ¢Êà∑Á´Ø‚Äù‰πãÂêéÔºåÂèØ‰ª•ÁØ°Êîπ hostsÔºå‰øÆÊîπÂêÑÁßçËß£ÊûêËÆ∞ÂΩïÔºå‰ΩÜÁî±‰∫éÂç±ÂÆ≥ÈôêÂÆöÂú®ÂçïÂè∞Êú∫Âô®‰∏äÔºåÊâÄ‰ª•ÂΩ±Âìç‰∏ÄËà¨Ê≤°ÊúâÁ¨¨‰∏ÄÁÇπÂ§ß„ÄÇ</li>
</ol>
<p>Á¨¨‰∏ÄÁÇπÂÖ∂ÂÆûÊ≤°Âï•Â•ΩËØ¥ÁöÑ„ÄÇÁ¨¨‰∫åÁÇπ‰∏æ‰∏™‰æãÂ≠êÔºåÊØîÂ¶ÇÔºåÂâçÂá†Âπ¥È¢ëÁπÅÂá∫Áé∞ÁöÑÂÆ∂Áî®Ë∑ØÁî±Âô®Ë¢´ csrf ÊîªÂáª„ÄÇÈúÄË¶Å‰∏Ä‰∏™ÂâçÊèêÂ∞±ÊòØË∑ØÁî±Âô®Êèê‰æõ‰øÆÊîπ dns ÈÖçÁΩÆÁöÑ web Êé•Âè£ÔºàÊù°‰ª∂ÂíåÂ∏∏ËßÑÁöÑ csrf ‰∏ÄÊ†∑ÔºåÂ∞±‰∏çÂ§öËØ¥‰∫ÜÔºâÔºå‰∏æ‰∏™‰æãÂ≠êÔºà‰∏∫‰∫ÜÁúãÂæóÊñπ‰æøÂä†‰∫ÜÊç¢Ë°åÔºâÔºö<br />
<figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sas">http://admin:admin@192.168.1.1/userRpm/LanDhcpServerRpm.htm<br>?dhcpserver=1<br><span class="hljs-variable">&amp;ip1</span>=192.168.1.100<br><span class="hljs-variable">&amp;ip2</span>=192.168.1.199<br><span class="hljs-variable">&amp;Lease</span>=120<br><span class="hljs-variable">&amp;gateway</span>=0.0.0.0<br><span class="hljs-variable">&amp;domain</span>=<br><span class="hljs-variable">&amp;dnsserver</span>=106.187.36.85<br><span class="hljs-variable">&amp;dnsserver2</span>=8.8.8.8<br><span class="hljs-variable">&amp;Save</span>=<span class="hljs-title function_">%B1</span><span class="hljs-title function_">%A3</span>+<span class="hljs-title function_">%B4</span><span class="hljs-title function_">%E6</span><br></code></pre></td></tr></table></figure><br />
‰∏ªË¶ÅÁõÆÁöÑÂ∞±ÊòØÊää dns ÊúçÂä°Âô®Êç¢Êàê 106.187.36.85Ôºå‰∏∫‰∫ÜÁ°Æ‰øùÊâÄÊúâËÆøÈóÆÈÉΩÊ≤°ÊúâÈóÆÈ¢òÔºåÂÜçÂä†ÂÖ•‰∫Ü google ÁöÑ dnsÔºåÂΩì 106.187.36.85 Êúâ‰∏çËÉΩËß£ÊûêÁöÑÂüüÂêçÊó∂ÔºåÂéª 8.8.8.8 Ëé∑ÂèñÂú∞ÂùÄÔºåÊΩú‰ºèÂæó‰ºöÈöêËîΩ‰∏Ä‰∫õ„ÄÇÂè™Ë¶ÅÂì™‰∏™‰∫∫Áî®ÁöÑÊòØËøô‰∏™Êé•Âè£ÁöÑË∑ØÁî±Âô®Ôºå‰Ωç‰∫éÁôªÂΩïÊÄÅÊàñËÄÖÊòØÂº±ÂØÜÁ†ÅÔºåËÆøÈóÆ‰∫ÜÊîªÂáªËÄÖÊéßÂà∂ÁöÑÂüüÂêçÔºå‰ªñÁöÑ DNS Â∞±‰ºöË¢´ÊîªÂáªËÄÖÂä´ÊåÅ„ÄÇ</p>
<p>Ëá≥‰∫éÈò≤Êä§ÂòõÔºåÂÖ∂ÂÆûÊ≤°Âï•Â•ΩËØ¥ÁöÑÔºåÂ∞±ÊòØÈÇ£‰∫õÂ∏∏ËßÑÁöÑ‰∏úË•ø„ÄÇ</p>
<h3 id="dns-Ê¨∫È™óÂä´ÊåÅsinkholeÈíìÈ±º‰∏éÁºìÂ≠òÊäïÊØí">DNS Ê¨∫È™ó/Âä´ÊåÅ/Sinkhole/ÈíìÈ±º‰∏éÁºìÂ≠òÊäïÊØí</h3>
<p>ËøôÂá†‰∏™ÂÖ∂ÂÆûÂéüÁêÜÊòØ‰∏ÄËá¥ÁöÑÔºåÂà©Áî® DNS ÂçèËÆÆËÆ§ËØÅÁöÑÁº∫Èô∑ÔºàÊü•ËØ¢ËØ∑Ê±ÇÁöÑ ip„ÄÅÁ´ØÂè£„ÄÅÈöèÊú∫ÁöÑÊü•ËØ¢ id ÊòØÂê¶‰∏ÄËá¥ÔºâÔºåÂè™‰∏çËøá‰æßÈáçÁÇπÁ®çÊúâ‰∏ç‰∏ÄÊ†∑ÔºåÈùûË¶ÅÂå∫ÂàÜÁöÑËØùÔºåÁºìÂ≠òÊäïÊØí‰∏éÂâç‰∏âËÄÖÁöÑÊîªÂáªÁõÆÊ†á‰∏çÂêåÔºö</p>
<p><img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/DNS-2-attack-dns/20200930044534304.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload /></p>
<p>ÊâÄË∞ìÁöÑ ‚ÄúÊ¨∫È™ó/Âä´ÊåÅ/ÈíìÈ±º‚ÄùÔºåÂèØ‰ª•ÈíàÂØπÂÆ¢Êà∑Á´Ø‰πüÂèØ‰ª•ÈíàÂØπ localDNSÔºåËÄå ÁºìÂ≠òÊäïÊØí ‰∏ÄËà¨ÊòØÈíàÂØπ localDNS„ÄÇ</p>
<p>Êàë‰ª¨Â∞èÂ≠¶ÂÖ≠Âπ¥Á∫ßÂ∞±Áü•ÈÅìÔºåDNS ÂìçÂ∫îÊòØÂÖàÂà∞ÂàôÂÖàË¢´Êé•Êî∂„ÄÇÂ¶ÇÊûúÊîªÂáªËÄÖËÉΩÂ§üÂú® DNS ÊúçÂä°Âô®‰∏éÊîªÂáªÁõÆÊ†á‰πãÈó¥ÊèíÂÖ•‰∏Ä‰∏™ÊÅ∂ÊÑèÁöÑËäÇÁÇπÔºåÂ∞±ËÉΩÊä¢ÂÖàÂú® DNS ÊúçÂä°Âô®ÂõûÂ§ç‰πãÂâçÂèëÈÄÅÊÅ∂ÊÑèÁöÑ DNS ÂìçÂ∫îÁªôÊîªÂáªÁõÆÊ†áÔºåÁúüÊ≠£ÁöÑÂìçÂ∫îÁî±‰∫éÂú®Êó∂Èó¥‰∏äÊôö‰∫éÊîªÂáªËÄÖÔºåÊâÄ‰ª•Áõ¥Êé•Ë¢´ÊîªÂáªÁõÆÊ†áËàçÂºÉ„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºåÊîªÂáªÁõÆÊ†áÂ∞ùËØïËß£Êûê <code>www.baidu.com</code>ÔºåÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ã A ËÆ∞ÂΩïÂ∫îËØ•ÊòØ <code>112.80.248.76</code>Ôºå‰ΩÜÊòØÊîªÂáªËÄÖÂèØ‰ª•Â∞Ü A ËÆ∞ÂΩï‰∏∫ <code>1.1.1.1</code>ÔºàÊîªÂáªËÄÖÁöÑÊúçÂä°Âô® ipÔºâ ÁöÑÂìçÂ∫îÂèëÁªôÊîªÂáªÁõÆÊ†áÔºåËÄåËøô‰∏™Êó∂ÂÄôÁúüÊ≠£ÁöÑ DNS ÂìçÂ∫îËØ¥‰∏çÂÆöËøòÂú®Ë∑Ø‰∏äÂë¢„ÄÇÊàêÂäü<strong>Ê¨∫È™ó</strong>‰πãÂêéÊîªÂáªËÄÖÂ∞±ÂèØ‰ª•<strong>Âä´ÊåÅ</strong>ÊîªÂáªÁõÆÊ†á‰∏é <code>www.baidu.com</code> ‰πãÈó¥ÊâÄÊúâÁöÑÈÄö‰ø°ÊµÅÈáèÔºåÂèØ‰ª•ÁõëÂê¨‰πüÂèØ‰ª•<strong>ÈíìÈ±º</strong>Á≠âÁ≠â„ÄÇÈÇ£‰πàÊòæÁÑ∂ÔºåÊîªÂáªËÄÖÈúÄË¶ÅËÉΩÂ§üÂèäÊó∂ÂìçÂ∫î DNS Êü•ËØ¢ËØ∑Ê±Ç„ÄÇËã•ÁõÆÊ†á‰Ωç‰∫éÂÜÖÁΩëÔºåÂèØ‰ª•ÂæàÊñπ‰æøÂú∞‰ΩøÁî® arp Ê¨∫È™óÔºõÂ¶ÇÊûúË¶ÅÂä´ÊåÅ‰Ωç‰∫éÂÖ¨ÁΩëÁöÑ DNS ÊúçÂä°Âô®ÔºåÊúÄÊúÄÊúÄËëóÂêçÁöÑ‰æãÂ≠êÂòõÔºåÂ∞±ÊòØ G!F!W ‰∫Ü...ÂóØÔºåËøô‰πüÊòØ‰∏∫‰ªÄ‰πàÊúâ‰∫õÁΩëÁ´ôÊòØÊó†Ê≥ïÁõ¥Êé•ËÆøÈóÆÁöÑÔºåÂèØ‰ª•ÈÄöËøá‰øÆÊîπ hosts Êù•Áßë!Â≠¶!‰∏ä!ÁΩëÔºå‰πüÂèØ‰ª•‰øÆÊîπ hosts Êù•Â±èËîΩÂπøÂëäÔºåÁîöËá≥ÊòØÁ†¥Ëß£ËΩØ‰ª∂„ÄÇÂØπ‰∫é‰ºÅ‰∏öÊù•ËØ¥Ôºå‰πüÂèØ‰ª•Áî®Êù•ÂØπÂëòÂ∑•„ÄÅÊúçÂä°Âô®ËøõË°å‰∏äÁΩëË°å‰∏∫ÊéßÂà∂„ÄÇÁî±‰∫éÊàë!ÂõΩ!ÂõΩ!ÊÉÖÔºåÂêÑ‰ΩçÂèØ‰ª•Áúã‰∏Ä‰∏ãËøô‰∏™ÊñáÁ´†Ôºöhttp://suo.im/5HROq3</p>
<p><img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/DNS-2-attack-dns/20200930044545620.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload /></p>
<p>ËøêËê•ÂïÜÊäÄÊúØËøòÊòØÂæàÂº∫ÁöÑÔºåËÉΩÂÅöÁöÑ‰∫ãÊÉÖ‰πüÊØîËæÉÂ§öÔºåËá≥‰∫éÊúâÊ≤°ÊúâÂÅöÂòõÔºåÂêÑ‰ΩçËá™Ë°åÂà§Êñ≠Âêß„ÄÇËá≥Â∞ëËøêËê•ÂïÜÔºàÈÄö‰ø°ÂïÜÊàñËÄÖÂçñÂüüÂêçÁöÑÊ≥®ÂÜåÂïÜÔºâÂØπ‰∫éÂì™‰∫õ‰∏çÂ≠òÂú®ÁöÑÂüüÂêçÔºåÊúâÊó∂ÂÄô‰ºöËøîÂõûËá™Â∑±ÊéßÂà∂ÁöÑ IP ‰ª•ËææÂà∞ÂØºÊµÅÁöÑÁõÆÁöÑÔºàÂÆ£‰º†ÂüüÂêçÊ≥®ÂÜåÂï¶ÊàñËÄÖÈªÑÈ°µÂï¶ÔºâÔºåËøôÁßçË°å‰∏∫Âπ∂‰∏ç‰ªÖ‰ªÖÂèëÁîüÂú®ÂõΩÂÜÖÔºåÂú®ÂÖ®‰∏ñÁïåÂêÑÂú∞ÈÉΩÂ≠òÂú®ËøôÁßç‚ÄúÂä´ÊåÅ‚ÄùË°å‰∏∫Ôºå‰ª•Ëá≥‰∫é ChromeÔºà‰ª•ÂèäÂü∫‰∫é Chrome ÂÜÖÊ†∏ÁöÑÂÖ∂‰ªñÊµèËßàÂô®ÔºâÂú®ÂêØÂä®ÁöÑÊó∂ÂÄôË¶ÅÂèëÈÄÅÈöèÊú∫ DNS Êü•ËØ¢ÂØπËøôÁßç‚ÄúÂä´ÊåÅ‚ÄùË°å‰∏∫ËøõË°åÊé¢Êµã‰ª•ÂÖçÂπ≤Êâ∞ÊµèËßàÂô®ÁöÑÊ≠£Â∏∏Â∑•‰ΩúÔºàÂèÇËÄÉÔºö<a target="_blank" rel="noopener" href="https://mikewest.org/2012/02/chrome-connects-to-three-random-domains-at-startup">Chrome ÈöèÊú∫ÂüüÂêçÊü•ËØ¢</a>ÔºâÔºõ‰∏äÈù¢ÊèêÂà∞ÁöÑÊ≥õËß£ÊûêÂÆûÈôÖ‰∏ä‰πüÁÆóÂä´ÊåÅÁöÑ‰∏ÄÁßçÔºåÂóØÔºå‚ÄúÂ§ßÈù¢ÁßØÂÆòÊñπÂä´ÊåÅ‚ÄùÔºõÂÜçÊØîÂ¶ÇÊàëÊúâ‰∏ÄÊ¨°ÂèëÁé∞Áî® 4G ËÆøÈóÆÊàëÁöÑÂçöÂÆ¢‰ºöÂá∫Áé∞ÂπøÂëä„ÄÇ„ÄÇ„ÄÇÂÖ∂‰ªñÁöÑÂ∞±‰∏çÂ§öËØ¥‰∫ÜÔºåÊàë‰ª¨ËøòÊòØÂõûÂà∞ÊäÄÊúØ‰∏äÊù•„ÄÇ</p>
<p>Âõ†‰∏∫ DNS ÂçèËÆÆÊúâÁºìÂ≠òÁöÑÁâπÊÄßÔºåÊâÄ‰ª•‰∏Ä‰ªΩÊÅ∂ÊÑèÁöÑ DNS ËÆ∞ÂΩï‰ºöË¢´ localDNS ÁºìÂ≠ò‰∏ãÊù•ÔºåÂØºËá¥<strong>ÁºìÂ≠òË¢´ÊäïÊØí</strong>Ôºå‰πüÂ∞±ÊòØËØ¥Âç≥‰ΩøÊîªÂáªËÄÖÊí§Êéâ‰∫ÜÊÅ∂ÊÑèËäÇÁÇπÔºåËøô‰∏™Âä´ÊåÅ‰æùÊóß‰ºöÁª¥ÊåÅ‰∏ÄÊÆµÊó∂Èó¥ÔºåÁõ¥Âà∞ ttl Ë∂ÖÊó∂ÔºåÁºìÂ≠òÂà∞ÊúüÂ§±Êïà„ÄÇÈÇ£‰πàÊòæÁÑ∂ÔºåÊîªÂáªËÄÖÂè™ËÉΩÂú® localDNS ÁöÑ DNS ÁºìÂ≠òÂ§±Êïà‰πãÂêéÊâçËÉΩÊäïÊØíÊàêÂäüÔºåËøôÊ†∑ÊîªÂáªÊïàÁéáÂ∞±ÊØîËæÉ‰ΩéÔºåÂπ∂‰∏îÂ§ßÂÆ∂ÂèØËÉΩ‰ºö‰ª•‰∏∫ÔºåDNS Âä´ÊåÅ‰∏ÄÊ¨°Âè™ËÉΩÂä´ÊåÅ‰∏Ä‰∏™ÂüüÂêçÔºåÂÖ∂ÂÆûÂèØ‰ª•Âä´ÊåÅÂÖ∂‰∏ÄÁ∫ßÂüü ns ÊâÄÁÆ°ËæñÁöÑÊâÄÊúâÂüüÂêç„ÄÇ</p>
<p>2008 Âπ¥ÁöÑÂ§èÂ§©ÔºåDan Kaminsky ÊèêÂá∫‰∫ÜÊñ∞Âûã DNS ÁºìÂ≠òÊäïÊØíÊîªÂáªÔºö‰æãÂ¶Ç baidu.comÔºåÊîªÂáªËÄÖÈöèÊú∫ÁîüÊàê‰∏Ä‰∏™ localDNS ‰∏çÂ≠òÂú®ÁöÑÂ≠êÂüüÂêçÔºå<code>a21m2u2ed0.baidu.com</code>ÔºåÂêë localDNS Êü•ËØ¢Ëøô‰∏™ÂüüÂêçÔºåËøô‰∏™Êó∂ÂÄô localDNS Â∞±ÂæóÂéªËµ∞ DNS Êü•ËØ¢ÁöÑÂÆåÊï¥ÊµÅÁ®ã„ÄÇÊó¢ÁÑ∂Êü•ËØ¢Â∑≤ÁªèÂèëÂá∫‰∫ÜÔºåÊîªÂáªÂ∞±ÂÆåÊàê‰∫Ü‰∏ÄÂçäÔºåÊé•‰∏ãÊù•‰º™ÈÄ† baidu.com ÁöÑÊùÉÂ®Å DNS Â∫îÁ≠îÊï∞ÊçÆÂåÖÂç≥ÂèØ„ÄÇÊîªÂáªËÄÖÂèØ‰ª•Âú®ÂìçÂ∫îÂåÖÁöÑ <code>AUTHORITY SECTION</code> ‰∏≠ÈáåÂä†ÂÖ•Ëá™Â∑±ÊéßÂà∂ÁöÑ nsÔºå‰æãÂ¶Ç <code>baidu.com</code> ÁöÑ ns ËÆ∞ÂΩï‰∏∫ <code>ns.tr0y.wang</code>ÔºàÊîªÂáªËÄÖÁöÑ DNS ÊúçÂä°Âô® ipÔºâÔºålocalDNS ÁöÑÁºìÂ≠òË¢´ÊäïÊØíÊàêÂäü‰πãÂêéÔºåÂÆ¢Êà∑Á´ØÂØπ <code>baidu.com</code> ns ÊâÄÁÆ°ËæñÁöÑÊâÄÊúâÂüüÂêçÁöÑÊü•ËØ¢ÈÉΩÂ∞ÜË¢´ÂèëÈÄÅÂà∞ÊîªÂáªËÄÖÁöÑ DNS ÊúçÂä°Âô®‰∏ä„ÄÇÂΩìÁÑ∂ÔºåËøô‰∏™ÊÅ∂ÊÑèÁöÑ‰∏≠Èó¥ËäÇÁÇπ‰∏ç‰∏ÄÂÆöË¶Å‰Ωç‰∫é localDNS ‰∏é DNS ÊùÉÂ®ÅÊúçÂä°Âô®‰πãÈó¥Ôºå‰∏é localDNS ‰Ωç‰∫é‰∏Ä‰∏™ÂÜÖÁΩëÈÉΩÂèØ‰ª•ÂØπÂêßÔºüÂè™Ë¶ÅËÉΩÂèëÈÄÅ‰º™ÈÄ†ÁöÑÂìçÂ∫îÁªô localDNS Â∞±Ë°åÔºåÂõ†‰∏∫ÂØπÈöèÊú∫ÂüüÂêçÁöÑÊü•ËØ¢ÊòØÁî±Êàë‰ª¨Ëß¶ÂèëÁöÑ„ÄÇÂÆûÊñΩËøô‰∏™ÊîªÂáªËøòÊúâ‰∏™ÁªÜËäÇÔºåÂ¶ÇÊûúÂä´ÊåÅÂ§±Ë¥•ÔºåÊ≠£Â∏∏ÊµÅÁ®ã‰∏ãÔºåÊØîÂ¶Ç <code>a21m2u2ed0.baidu.com</code> Âú® baidu.com ÁöÑ DNS ÊùÉÂ®ÅÊúçÂä°Âô®‰∏≠ËÇØÂÆöÊòØ‰∏çÂ≠òÂú®ÁöÑÔºåÊâÄ‰ª• baidu.com ÁöÑ DNS ÊùÉÂ®ÅÊúçÂä°Âô®Â∫îËØ•ËøîÂõûÂåÖÂê´ <code>NXDOMIAN</code>Ôºà‰ª£Ë°®ÂüüÂêç‰∏çÂ≠òÂú®ÔºâÁöÑÂìçÂ∫îÂåÖÔºåËÄå DNS ÊòØÊúâÁºìÂ≠òÂê¶ÂÆöÁ≠îÊ°àÊú∫Âà∂ÁöÑÔºåTTL ‰ªéÂêå‰∏Ä‰∏™ÂìçÂ∫îÁöÑ SOA ËÆ∞ÂΩï‰∏≠Ëé∑ÂèñÔºå‰πüÂ∞±ÊòØËØ¥ÔºåÂ¶ÇÊûúÂú®‰∏çÊñ≠Êö¥ÂäõÂ∞ùËØï dns id ÁöÑËøáÁ®ã‰∏≠ÔºåÂèëÁé∞Âêë localDNS Êü•ËØ¢ <code>a21m2u2ed0.baidu.com</code> ÁªìÊûúÊòØ <code>NXDOMIAN</code>ÔºåÈÇ£‰πàËøô‰∏™ÂüüÂêçÂ∞±Ê≤°ÂøÖË¶ÅÁªßÁª≠Â∞ùËØï‰∫ÜÔºåÈúÄË¶ÅÊõ¥Êç¢‰∏ã‰∏Ä‰∏™ÈöèÊú∫ÂüüÂêçÁªßÁª≠Â∞ùËØï„ÄÇ</p>
<p>ËøôÈáåÈ°∫‰æøÊèê‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂ§ßÂÆ∂Âà§Êñ≠‰∏Ä‰∏ãËøô‰∏™ÊÄùË∑ØÂèØ‰∏çÂèØË°åÔºö</p>
<p>Âú® Kaminsky ÊîªÂáª‰∏≠ÔºåÂèØ‰ª•Áî® cname ÂéªÂä´ÊåÅÂÖ∂‰ªñÂüüÂêçÂêóÔºüÊÄùË∑ØÂ¶Ç‰∏ãÔºöA ‰∏∫ÊÅ∂ÊÑèËäÇÁÇπÔºåC ‰∏∫ localDNSÔºåA Âêë C ÂèëËµ∑ <code>a21m2u2ed0.baidu.com</code> Êü•ËØ¢ÔºåÂπ∂Êä¢ÂÖàÂú® DNS ÊùÉÂ®ÅÊúçÂä°Âô®‰πãÂâçËøîÂõûÊï∞ÊçÆÂåÖÔºåÂÖ∂‰∏≠ 2 Êù°ËÆ∞ÂΩïÔºö1. cname ÊòØ <code>www.baidu.com</code>Ôºõ2. <code>www.baidu.com</code> ÁöÑ A ËÆ∞ÂΩïÊòØ <code>1.1.1.1</code>„ÄÇÈÇ£‰πàËØ∑ÈóÆÔºå<code>www.baidu.com</code> ÊòØÂê¶‰ºöË¢´ localDNS ÁºìÂ≠ò‰∏ãÊù•Ôºåip ÊòØ <code>1.1.1.1</code>ÔºüÊòæÁÑ∂ÔºåÂ¶ÇÊûúËøô‰∏™ÊñπÊ≥ïÂèØË°åÁöÑËØùÔºåÂèØ‰ª•Âä´ÊåÅÈùû‰∏ÄÁ∫ßÂüü‰∏ãÁöÑ‰ªªÊÑèÂüüÂêçÔºåÂè™Ë¶Å‰Ω† cname Âà∞ÂÖ∂‰ªñ‰∫∫ÁöÑÂüüÂêçÔºåÂÜçÁªôÂá∫ A ËÆ∞ÂΩïÂç≥ÂèØ„ÄÇÊàëÊâãËæπÊ≤°Êúâ localDNSÔºåË¶ÅÂéªÈ™åËØÅÁ®çÊúâ‰∫õÈ∫ªÁÉ¶ÔºåÊâÄ‰ª•ÊàëÊãø windows ÊµãËØï‰∫Ü‰∏Ä‰∏ãÔºåÂõ†‰∏∫ÂÆ¢Êà∑Á´Ø„ÄÅos„ÄÅlocalDNS ÈÉΩ‰ºöÊúâÁºìÂ≠òÔºåÂèØ‰ª•ÂÜçÁúã‰∏ÄÈÅç‰∏äÈù¢ÈÇ£‰∏™ÁºìÂ≠òÂàÜÂ∏ÉÂõæ„ÄÇ‰∏∫‰ªÄ‰πàË¶ÅÈÄâ Windows Âë¢ÔºüÂõ†‰∏∫ÊàëÊ≤°ÊâæÂà∞ Linux Âíå macos ÊÄé‰πàÊü•Áúã DNS ÁºìÂ≠ò...ÊµãËØïÁªìÊûúÂ¶Ç‰∏ãÔºö<br />
È¶ñÂÖàÊ∏ÖÁ©∫ÁºìÂ≠òÔºö<code>ipconfig /flushdns</code>ÔºåÁÑ∂ÂêéËÆøÈóÆ‰∏Ä‰∏ãÁôæÂ∫¶Ôºö<code>curl www.baidu.com</code>ÔºàÊ≥®ÊÑèÔºåËøôÈáåÂ¶ÇÊûúÁî® dig ÊàñËÄÖ nslookup Êó†Ê≥ïËß¶Âèë win ÁöÑ dns ÁºìÂ≠òÊú∫Âà∂ÔºåÂéüÂõ†Êú™Áü•ÔºâÔºåÁÑ∂ÂêéÁî® <code>ipconfig /displaydns</code> Êü•Áúã‰∏Ä‰∏ã <code>www.baidu.com</code> ÁöÑÁºìÂ≠òÔºö<br />
<img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/DNS-2-attack-dns/20200930044558304.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload /></p>
<p>Âú®ËøôÂêå‰∏ÄÁ∫ßÂà´‰∏ãÈù¢Á°ÆÂÆûÂèØ‰ª•ÁúãËßÅ <code>www.a.shifen.com</code> ÁöÑ A ËÆ∞ÂΩïÔºå‰ΩÜÊòØËøô‰∏™Êó∂ÂÄôÊòØÊâæ‰∏çÂà∞ÂçïÁã¨ÂàóÂá∫ÁöÑ <code>www.a.shifen.com</code> ÁºìÂ≠òÁöÑÔºåÂè™ÊúâÊàëÊâßË°å‰∫Ü <code>curl www.a.shifen.com</code> ‰πãÂêéÔºåÊâçËÉΩÊâæÂà∞ÂçïÁã¨ÂàóÂá∫ÁöÑÁºìÂ≠òÔºö<br />
<img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/DNS-2-attack-dns/20200930044607580.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload /></p>
<p>ÊåâÁÖß‰∏äÈù¢ÁöÑÊÄùË∑ØÔºåÂ¶ÇÊûúÂèØË°åÔºåÂú® <code>curl www.baidu.com</code> ÁªìÊùü‰πãÂêéÂ∫îËØ•Â∞±ËÉΩÊâæÂà∞ÂçïÁã¨ÂàóÂá∫ÁöÑ<code>www.a.shifen.com</code> ÁöÑ A ËÆ∞ÂΩïÔºåÂÆûÈ™åËØÅÊòéÊ≠§ÊÄùË∑ØËá≥Â∞ëÂØπ windows ÁöÑ dns ÁºìÂ≠òÊú∫Âà∂ÊòØ‰∏çÂèØË°åÁöÑ„ÄÇ</p>
<p>ÊúÄÂêéÔºåÊîªÂáªËÄÖÂ¶ÇÊûúÊ≤°Ê≥ïÊéßÂà∂Êï¥‰∏™ÈÄö‰ø°ËøáÁ®ãÔºåÈÇ£‰πà‰∏ÄËà¨ÊòØÈÄöËøáÁåúÊµã dns id Êù•ËøõË°åÂä´ÊåÅ„ÄÇÊâÄ‰ª•‰πü‰ºöÊúâÁõ∏Â∫îÁöÑ‚ÄúË°•‰∏Å‚ÄùÊñπÊ°àÔºåÊé•Êî∂ÂìçÂ∫îÁöÑÁªÑ‰ª∂ÂèØ‰ª•ÂÅö‰ª•‰∏ãÂá†‰ª∂‰∫ãÊÉÖÔºö</p>
<ol type="1">
<li>Ê£ÄÊü• DNS ÁöÑÈöèÊú∫ id ÊòØÂê¶ÂåπÈÖçÔºåid ÊòØ 2 ‰ΩçÁöÑ hexÔºå‰πüÂ∞±ÊòØ 32 ‰ΩçÁöÑÈöèÊú∫Èáè„ÄÇ</li>
<li>ÈöèÊú∫ÂåñÊ∫êÁ´ØÂè£Ôºå‰πüÊòØ 32 ‰ΩçÁöÑÈöèÊú∫ÈáèÔºåËøô‰∏™ÂÖ∂ÂÆû‰∏ÄËà¨ÈÉΩÊª°Ë∂≥Ôºå‰∏çËøáÊàëÁúã bind ÁöÑÈÖçÁΩÆÂèØ‰ª•Âõ∫ÂÆöÊ∫êÁ´ØÂè£Ôºå‰∏çË¶ÅËøô‰πàÂÅöÔºåÊîªÂáªËÄÖÂè™Ë¶ÅÊäì‰∏™ÂåÖÂ∞±Áü•ÈÅì‰Ω†ÁöÑÁ´ØÂè£‰∫Ü„ÄÇ</li>
<li>Êü•ËØ¢ÂüüÂêçÁöÑÊó∂ÂÄôÔºåÈöèÊú∫ÂåñÂüüÂêçÁöÑÂ§ßÂ∞èÂÜôÔºåËøô‰∏™ÂèØ‰ª•Â¢ûÂä†ÂæàÂ§öÁöÑÈöèÊú∫Èáè„ÄÇ‰æãÂ¶ÇÊü•ËØ¢ <code>www.baidu.com</code> ÁöÑÊó∂ÂÄôÔºåÊü• <code>www.baidu.cOm</code>„ÄÇÁî±‰∫éÂüüÂêç‰∏çÂàÜÂ§ßÂ∞èÂÜôÔºåÊâÄ‰ª•ÊùÉÂ®Å DNS ÊúçÂä°Âô®‰æùÊóßÊòØÊü• <code>www.baidu.com</code>ÔºåËôΩÁÑ∂ËøîÂõûÁöÑ Answer Èáå‰πüÊòØÂ∞èÂÜôÔºå‰ΩÜÊòØËøîÂõûÁöÑÊï∞ÊçÆÂåÖ‰ºöÈôÑ‰∏ä QueryÔºåÈáåÈù¢‰∏éÊü•ËØ¢ÁöÑ Query ÊòØ‰∏ÄÊ†∑ÁöÑÔºö<br />
<img src="https://rzx1szyykpugqc-1252075454.piccd.myqcloud.com/DNS-2-attack-dns/20200930044619374.png!blog" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload /></li>
</ol>
<p>ÈÇ£‰πàÂØπÊØî‰∏Ä‰∏ãÂìçÂ∫î‰∏≠ÁöÑ Query ÁöÑÂüüÂêçÔºå‰∏éËá™Â∑±Ë∞ÉÊï¥ÁöÑÂüüÂêçÊòØÂê¶‰∏ÄËá¥Â∞±Áü•ÈÅìÊúâÊ≤°ÊúâË¢´Âä´ÊåÅ‰∫Ü„ÄÇÊúÄÂêéËøòÊúâ‰∏Ä‰∏™Áé∞Ë±°ÔºåÂ¶ÇÊûúÁúüÁöÑË¢´Âä´ÊåÅ‰∫ÜÔºåÈÇ£‰πàÊü•ËØ¢Êüê‰∏™ÂüüÂêçÊÄªÊòØ‰ºöÂá∫Áé∞ 2 ‰∏™Â∫îÁ≠îÁîöËá≥ÊòØÂ§ö‰∏™Â∫îÁ≠îÔºà‰∏çÂêåÁ´ØÂè£‰∏çÂêå idÔºâ„ÄÇ</p>
<p>ÂΩìÁÑ∂Ëøô‰∫õÈÉΩÊòØÊØîËæÉÁÆÄÂçïÁöÑÊâãÊÆµÔºåÊØîËæÉÂ•ΩÁöÑÂäûÊ≥ïÊòØ‰∏äÈù¢ÊèêÂà∞ÁöÑ DNSSECÔºå‰∏çËøáÊàëÊÑüËßâ DNSSEC Âø´Âáâ‰∫Ü„ÄÇ„ÄÇ„ÄÇ„ÄÇ‰ΩÜÊòØÊàë‰ª¨ËøòÂèØ‰ª•ÈÄâÊã© DNS-over-TLS„ÄÅDNS-over-HTTPSÔºåËôΩÁÑ∂Ë¶ÅËµ∞ÁöÑË∑ØËøòÊúâÂæàÈïø„ÄÇ</p>
<p>‰∏çËøáÔºåÂêÑ‰Ωç‰∏çË¶Å‰ª•‰∏∫‰øùÊä§ÈöêÁßÅÊàñËÄÖÂä†ÂØÜÈÄö‰ø°ÊÄªÊòØÂ•Ω‰∫ãÔºåÊ≠£Â∏∏ÁöÑÈÄö‰ø°ÂèØ‰ª•Êî∂Âà∞‰øùÊä§ÔºåÈÇ£‰πàÊÅ∂ÊÑèÁöÑÈÄö‰ø°ÂêåÊ†∑ÂèØ‰ª•ÈÄöËøáËøô‰∫õÂäûÊ≥ïÂæóÂà∞‰øùÊä§ÔºåÁé∞Âú® NIDS Ê£ÄÊµãÊÅ∂ÊÑèÂüüÂêçËß£ÊûêÊòØÂæàÁÆÄÂçïÁöÑÔºåÁõ¥Êé•ÊãÜ DNS Êï∞ÊçÆÂåÖÁúãÂ∞±ÂÆå‰∫ã‰∫ÜÔºåÂ¶ÇÊûúÊÅ∂ÊÑèËΩØ‰ª∂‰πü‰∏ä‰∫Ü DoHÔºåÊ£ÄÊµãÂ∞±ÂèòÂæóÂæàÈ∫ªÁÉ¶‰∫Ü„ÄÇ</p>
<p>Ëá≥‰∫é Sinkhole ÂòõÔºåÂÖ∂ÂÆûÊîπ hosts Êñá‰ª∂Â∞±ÊòØ‰∏Ä‰∏™Âà©Áî®Â∞èÂûãÁöÑ Sinkhole ÁöÑ‰æãÂ≠êÔºåÈÄöËøá DNS Âä´ÊåÅÂÆåÊàêÂÆâÂÖ®Èò≤Êä§ÔºåÊàëÊØîËæÉÂñúÊ¨¢ÊääÂÆÉÁß∞‰∏∫ DNS ÈªëÊ¥û„ÄÇÁî±‰∫éÁé∞Âú®ÂæàÂ§öÊÅ∂ÊÑèËΩØ‰ª∂Â∏∏Áî®ÂüüÂêçËøõË°åÈÄö‰ø°ÔºåÈÇ£‰πàÂÆâÂÖ®ÂéÇÂïÜÊàñËÄÖÈò≤Âæ°ËÄÖÂèØ‰ª•ÊääËøô‰∏™ÂüüÂêçÁöÑËß£ÊûêÊé•ÁÆ°‰∫ÜÔºà‰∏é DNS ÊúçÂä°ÂïÜÂêà‰ΩúÊàñËÄÖÊòØ localDNS ‰∏äÈù¢ÈÖçÁΩÆÔºâÔºåÊääÂüüÂêçËß£ÊûêËÆ∞ÂΩïÊîπ‰∏∫‰∏Ä‰∏™Êó†ÂÆ≥ÁöÑÂú∞ÂùÄÔºåËøôÊ†∑ÊÅ∂ÊÑèËΩØ‰ª∂ÁöÑÈÄö‰ø°Â∞±Ë¢´ÈòªÊñ≠Êéâ‰∫Ü„ÄÇÈÇ£‰πàÊòæÁÑ∂ÔºåDNS ÊúçÂä°Âô®ÊâÄÂú®ÁöÑÂ±ÇÁ∫ßË∂äÈ´òÔºåÂæóÂà∞‰øùÊä§ÁöÑ‰∏ªÊú∫Â∞±‰ºöË∂äÂ§öÔºåÊâÄ‰ª•Êúâ‰∫õÂÆâÂÖ®ÂéÇÂïÜÈÄöËøáÂêà‰ΩúÔºåÊääÂÉµÂ∞∏ÁΩëÁªúÈÄö‰ø°ÁöÑÂüüÂêçÂä´ÊåÅÂà∞Ëá™Â∑±ÁöÑÊúçÂä°Âô®‰∏äÔºåËøôÊ†∑Â∞±ËÉΩÂ§üÂà©Áî® Sinkhole ÂÖ≥Èó≠‰∏Ä‰∫õÂ§ßÂûãÁöÑÂÉµÂ∞∏ÁΩëÁªúÔºåÈ°∫‰æøËøòÂèØ‰ª•Á†îÁ©∂‰∏Ä‰∏ãÂÉµÂ∞∏ÁΩëÁªúÁöÑË°å‰∏∫ÔºàÊØïÁ´üÈÄö‰ø° ip Áî®ÁöÑÊòØÂÆâÂÖ®ÂéÇÂïÜËá™Â∑±ÁöÑÔºåÊï∞ÊçÆÈÉΩÂèØ‰ª•ÊãøÂà∞‰∫ÜÔºâ„ÄÇ‰∏Ä‰∏™ÈùûÂ∏∏ËëóÂêçÁöÑ‰æãÂ≠êÂ∞±ÊòØ <code>WannaCry</code>ÔºåÂÜÖÁΩÆ‰∫Ü‰∏Ä‰∏™ÂüüÂêçÔºö<code>iuqerfsodp9ifjaposdfjhgosurijfaewrwergwea.com</code>ÔºåÂú®ÊÑüÊüìËøáÁ®ã‰∏≠ÔºåÂÆÉ‰ºöÈ¶ñÂÖàÂ∞ùËØïËÆøÈóÆËøô‰∏™ÂüüÂêçÁöÑÁΩëÈ°µÔºåÂ¶ÇÊûúÊàêÂäüËÆøÈóÆÁΩëÈ°µÂàôÈÄÄÂá∫Ôºå‰∏ç‰ºöËøõ‰∏ÄÊ≠•ÊâßË°åÔºõÂ¶ÇÊûúËÆøÈóÆÁΩëÈ°µÂ§±Ë¥•ÔºåÂàô‰ºöÁªßÁª≠ËøêË°åÔºåÂºπÊ°ÜÂãíÁ¥¢ËµéÈáë„ÄÇÂ¶ÇÊûú‰Ω†ÂØπ WannaCry Sinkhole ÁöÑÊï∞ÊçÆÂàÜÊûêÊÑüÂÖ¥Ë∂£ÔºåÂèØ‰ª•Áúã‰∏Ä‰∏ã 360 ÁöÑ<a target="_blank" rel="noopener" href="https://blog.netlab.360.com/wannacry-from-dns-and-sinkhole-view/">ËøôÁØáÊñáÁ´†</a>„ÄÇ</p>
<p>Â¶Ç‰ªäÔºåÂ§ßÂ§öÊï∞ÁöÑ DGA ÂüüÂêçÈÉΩÂ∑≤ÁªèË¢´‰∏çÂêåÁöÑÂÆâÂÖ®Êú∫ÊûÑÂÅö‰∫Ü SinkholeÔºåÊâÄ‰ª•Â¶ÇÊûú‰Ω†ÂèëÁé∞ NIDS ÈáåÂèëÂá∫ÁöÑÂëäË≠¶ÔºåÊÅ∂ÊÑèÂüüÂêçÁöÑ ip ÊòØ SinkholeÔºåÈÇ£‰πàËØ¥ÊòéËøô‰∏™ÊÅ∂ÊÑèËΩØ‰ª∂Âü∫Êú¨‰∏äÂ∑≤ÁªèË¢´Á†îÁ©∂ÈÄèÂΩª‰∫Ü„ÄÇÂΩìÁÑ∂ÔºåÈò≤Âæ°ËÄÖÂèØ‰ª•Êü•ÔºåÊîªÂáªËÄÖËá™ÁÑ∂‰πüÂèØ‰ª•Êü•ÔºåÊâÄ‰ª•ÂêÑÂÆ∂ÂÆâÂÖ®Á†îÁ©∂Êú∫ÊûÑÂá∫‰∫é‰øùÊä§Ëá™Ë∫´ÁöÑ Sinkhole ÁöÑÁõÆÁöÑÔºå‰∏ÄËà¨‰πü‰∏ç‰ºöÂÖ¨ÂºÄ Sinkhole ÂàóË°®ÔºåÊâÄ‰ª•‰∏öÁïåÂ∞öÊú™ÊúâÂÆåÊï¥ÁöÑ Sinkhole Ê∫ê„ÄÇ‰∏çËøáÁöÑÁ°ÆÊúâÂÆâÂÖ®Á†îÁ©∂Êú∫ÊûÑÂÅö‰∫Ü‰∏Ä‰∫õÊï¥ÁêÜÔºåÊØîÂ¶Ç abuse.ch ÁöÑ <a target="_blank" rel="noopener" href="https://sinkdb.abuse.ch/">sinkdb</a>„ÄÇ</p>
<h3 id="ddos-ÊîªÂáª">DDoS ÊîªÂáª</h3>
<p>DDoS Áõ∏ÂÖ≥ÁöÑÁü•ËØÜÂêéÈù¢Êúâ‰∏ìÈó®ÁöÑÁ≥ªÂàó‰ºöËÆ≤ÔºåÊâÄ‰ª•ËøôÈáåÂ∞±ÁÆÄÂçïÊèê‰∏Ä‰∏ã 2 Â§ßÁ±ª</p>
<p><strong>ÔºàÊ≥®ÊÑèÔºåËøô‰∏§Á±ªÊúâÈáçÂêàÁöÑÂú∞ÊñπÔºåÁ¨¨‰∏ÄÁ±ªÊàëÂ∞±ÈôêÂÆö‰∏∫Âú®ËØ∑Ê±ÇÊï∞ÊçÆÂåÖ‰∏éÂìçÂ∫îÊï∞ÊçÆÂåÖÂ§ßÂ∞èÂ∑Æ‰∏çÂ§öÁöÑÊÉÖÂÜµ‰∏ãÔºâ</strong></p>
<blockquote>
<ol type="1">
<li>Áõ¥Êé•ÂêëÁõÆÊ†á DNS ÊúçÂä°Âô®ÂèëËµ∑Â§ßÈáèÊü•ËØ¢</li>
</ol>
</blockquote>
<p>ÊØîÂ¶ÇÊîªÂáªËÄÖÂèØ‰ª•ÁîüÊàêÈöèÊú∫ÁöÑÂ≠êÂüüÂêçÂéªÈÄº localDNS ‰∏çÊñ≠ËøõË°åÈÄíÂΩíÊü•ËØ¢ÊàñËÄÖÊü•ÈÇ£‰∫õ‰∏çÂ≠òÂú®ÁöÑÂüüÂêçÔºàËøôÁßçÊîªÂáªÊñπÂºèË¢´Áß∞‰∏∫ ‚ÄúDNS Êï£ÂàóÂâçÁºÄÊîªÂáª‚ÄùÔºâÔºåÂ∞ùËØïÂ∞ÜÊúçÂä°Âô®ÁöÑ DNS ÁºìÂ≠òÂ°´Êª°ÔºõÊàñËÄÖÈÄâÊã©ÂìçÂ∫îÂÜÖÂÆπËæÉÂ§öÁöÑÂüüÂêçÔºåÁõ¥Êé•ÂêëÊùÉÂ®Å DNS ÊúçÂä°Âô®Êü•ËØ¢ÔºåÊ∂àËÄóÊúçÂä°Âô®ÁöÑÊÄßËÉΩ„ÄÇ‰ΩÜÊòØËøôÁßçÊÉÖÂÜµÊØîËæÉÂ∞ëÔºå‰∏ªË¶ÅËøòÊòØÂú®ÊîªÂáªÊàêÊú¨‰∏äÔºåDNS ÊúçÂä°Âô®Êú¨Ë∫´Â∞±ËÉΩÂ§üÊâøÂèóÂ§ßÈáèÁöÑÊµÅÈáèÔºàÊØîÂ¶ÇÂÉè DNS Ê†πÊúçÂä°Âô®ÔºâÔºåÂü∫Êú¨‰∏ä‰∏ç‰ºöÂá∫Âï•ÈóÆÈ¢òÔºåÊØïÁ´üÊîªÂáªËÄÖÂèëËµ∑ÊØîÂÖ®ÁêÉËÆæÂ§áÊõ¥Â§öÁöÑÊü•ËØ¢ÈáèÊàêÊú¨Â§™È´ò‰∫ÜÔºàÂÆûÈôÖ‰∏äÁé∞Âú®‰πüÊ≤°ÊúâËøôÊ†∑ D Âà´‰∫∫ÁöÑÂêß...Ôºâ„ÄÇ</p>
<blockquote>
<ol start="2" type="1">
<li>ÊîæÂ§ßÂûã DDoS ÊîªÂáª</li>
</ol>
</blockquote>
<p>ÂÖ∂ÂÆû DNS DDoS ‰∏ÄËà¨ÈÉΩÊòØËøôÁßçÊÉÖÂÜµÔºåÂõ†‰∏∫Âú®ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÈöè‰æø‰∏Ä‰∏™Â∞èÂ∞èÁöÑÊü•ËØ¢ÔºåDNS ÊúçÂä°Âô®Â∞±‰ºöÂõûÂ§ç‰∏Ä‰∏™ÂæàÂ§ßÁöÑÊï∞ÊçÆÂåÖÔºåÊîªÂáªËÄÖ‰æøÂèØ‰ª•Âà©Áî®Ëøô‰∏™ÊîæÂ§ßÁöÑÁâπÊÄßÊù•Ê∂àËÄó DNS ÊúçÂä°Âô®ÁöÑÂ∏¶ÂÆΩ‰∏éÊÄßËÉΩÔºå‰πüÂèØ‰ª•‰º™ÈÄ†Ê∫ê ip Êù• D ÂÖ∂‰ªñÊúçÂä°Âô®„ÄÇ‰æãÂ¶ÇÁÆÄÂçïÁöÑ <code>dig @ÁõÆÊ†áip . ns</code> ÊàñËÄÖÂà©Áî® scapy ÂèëÈÄÅ <code>b"\x51\x84\x00\x10\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x02\x00\x01"</code>Ôºå‰ªÖ‰ªÖ 17 bytesÔºåÊúçÂä°Âô®Â∞±‰ºöÂõûÂ§ç 492 bytes ÁöÑÂÜÖÂÆπÔºåÂç≥ÊîæÂ§ß 28 ÂÄçÔºà‰ΩøÁî® dig ÁöÑËØùÊîæÂ§ßÊØî‰ºöÂ∞è‰∏Ä‰∫õÔºåÂõ†‰∏∫ dig ÂèëÂá∫ËØ∑Ê±ÇÁöÑÊó∂ÂÄôÂÆÉËá™Â∑±‰ºöÂ§öÈôÑÂ∏¶‰∏Ä‰∫õ‰∏úË•øÔºåÁî® scapy ÂèëÂá∫ÁöÑËØ∑Ê±ÇÊï∞ÊçÆÂåÖÊòØÊúÄÂ∞èÁöÑÔºåÊâÄ‰ª•ÊîæÂ§ßÊØîÂ∞±ÊòØÊúÄÂ§ßÁöÑÔºâÔºö<br />
<figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs dns"># macr0phag3 in ~ [<span class="hljs-number">18</span>:<span class="hljs-number">44</span>:<span class="hljs-number">30</span>]<br>¬ª dig @x.x.x.x . ns<br>...<br>...<br><br><span class="hljs-comment">;; QUESTION SECTION:</span><br><span class="hljs-comment">;.              IN  NS</span><br><br><span class="hljs-comment">;; ANSWER SECTION:</span><br>.           <span class="hljs-number">420390</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">NS</span>  c.root-servers.net.<br>.           <span class="hljs-number">420390</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">NS</span>  b.root-servers.net.<br>.           <span class="hljs-number">420390</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">NS</span>  l.root-servers.net.<br>.           <span class="hljs-number">420390</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">NS</span>  a.root-servers.net.<br>.           <span class="hljs-number">420390</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">NS</span>  g.root-servers.net.<br>.           <span class="hljs-number">420390</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">NS</span>  k.root-servers.net.<br>.           <span class="hljs-number">420390</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">NS</span>  m.root-servers.net.<br>.           <span class="hljs-number">420390</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">NS</span>  d.root-servers.net.<br>.           <span class="hljs-number">420390</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">NS</span>  h.root-servers.net.<br>.           <span class="hljs-number">420390</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">NS</span>  e.root-servers.net.<br>.           <span class="hljs-number">420390</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">NS</span>  f.root-servers.net.<br>.           <span class="hljs-number">420390</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">NS</span>  i.root-servers.net.<br>.           <span class="hljs-number">420390</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">NS</span>  j.root-servers.net.<br><br><span class="hljs-comment">;; ADDITIONAL SECTION:</span><br>a.root-servers.net. <span class="hljs-number">78399</span>   <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">A</span>   <span class="hljs-number">198.41.0.4</span><br>b.root-servers.net. <span class="hljs-number">78731</span>   <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">A</span>   <span class="hljs-number">199.9.14.201</span><br>c.root-servers.net. <span class="hljs-number">78702</span>   <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">A</span>   <span class="hljs-number">192.33.4.12</span><br>d.root-servers.net. <span class="hljs-number">78383</span>   <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">A</span>   <span class="hljs-number">199.7.91.13</span><br>e.root-servers.net. <span class="hljs-number">518309</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">A</span>   <span class="hljs-number">192.203.230.10</span><br>f.root-servers.net. <span class="hljs-number">78358</span>   <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">A</span>   <span class="hljs-number">192.5.5.241</span><br>g.root-servers.net. <span class="hljs-number">78365</span>   <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">A</span>   <span class="hljs-number">192.112.36.4</span><br>h.root-servers.net. <span class="hljs-number">78365</span>   <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">A</span>   <span class="hljs-number">198.97.190.53</span><br>i.root-servers.net. <span class="hljs-number">78476</span>   <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">A</span>   <span class="hljs-number">192.36.148.17</span><br>j.root-servers.net. <span class="hljs-number">431905</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">A</span>   <span class="hljs-number">192.58.128.30</span><br>k.root-servers.net. <span class="hljs-number">431911</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">A</span>   <span class="hljs-number">193.0.14.129</span><br>l.root-servers.net. <span class="hljs-number">78731</span>   <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">A</span>   <span class="hljs-number">199.7.83.42</span><br>m.root-servers.net. <span class="hljs-number">79004</span>   <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">A</span>   <span class="hljs-number">202.12.27.33</span><br>a.root-servers.net. <span class="hljs-number">518309</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">AAAA</span>    <span class="hljs-number">2001:503:ba3e::2:30</span><br>b.root-servers.net. <span class="hljs-number">518309</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">AAAA</span>    <span class="hljs-number">2001:500:200::b</span><br>c.root-servers.net. <span class="hljs-number">518309</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">AAAA</span>    <span class="hljs-number">2001:500:2::c</span><br>d.root-servers.net. <span class="hljs-number">518309</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">AAAA</span>    <span class="hljs-number">2001:500:2d::d</span><br>e.root-servers.net. <span class="hljs-number">518309</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">AAAA</span>    <span class="hljs-number">2001:500:a8::e</span><br>f.root-servers.net. <span class="hljs-number">518309</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">AAAA</span>    <span class="hljs-number">2001:500:2f::f</span><br>g.root-servers.net. <span class="hljs-number">518309</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">AAAA</span>    <span class="hljs-number">2001:500:12::d0d</span><br>h.root-servers.net. <span class="hljs-number">518309</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">AAAA</span>    <span class="hljs-number">2001:500:1::53</span><br>i.root-servers.net. <span class="hljs-number">518309</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">AAAA</span>    <span class="hljs-number">2001:7fe::53</span><br>j.root-servers.net. <span class="hljs-number">518309</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">AAAA</span>    <span class="hljs-number">2001:503:c27::2:30</span><br>k.root-servers.net. <span class="hljs-number">518309</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">AAAA</span>    <span class="hljs-number">2001:7fd::1</span><br>l.root-servers.net. <span class="hljs-number">518309</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">AAAA</span>    <span class="hljs-number">2001:500:9f::42</span><br>m.root-servers.net. <span class="hljs-number">518309</span>  <span class="hljs-keyword">IN</span>  <span class="hljs-keyword">AAAA</span>    <span class="hljs-number">2001:dc3::35</span><br><br>...<br>...<br></code></pre></td></tr></table></figure><br />
ËøôÈáåÊîæÂ§ßÁöÑÂéüÂõ†ÂòõÔºå‰∏ªË¶ÅÂú®‰∫é <code>ADDITIONAL SECTION</code>ÔºåËøôÈáåÈù¢ËÉΩÈôÑÂ∏¶ÂæàÂ§ö‰ø°ÊÅØ„ÄÇËÄåÂÉè <code>8.8.8.8</code> ËøôÁßçËëóÂêçÁöÑ localDNSÔºå‰∏ÄËà¨ÈÉΩÂéªÊéâ‰∫Ü<code>ADDITIONAL SECTION</code>Ôºö<br />
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs tap">¬ª dig @x.x.x.x . ns<br>...<br>...<br><br>;; QUESTION SECTION:<br>;.              IN  NS<br><br>;; ANSWER SECTION:<br>.          <span class="hljs-number"> 86774 </span>  IN  NS  m.root-servers.net.<br>.          <span class="hljs-number"> 86774 </span>  IN  NS  b.root-servers.net.<br>.          <span class="hljs-number"> 86774 </span>  IN  NS  c.root-servers.net.<br>.          <span class="hljs-number"> 86774 </span>  IN  NS  d.root-servers.net.<br>.          <span class="hljs-number"> 86774 </span>  IN  NS  e.root-servers.net.<br>.          <span class="hljs-number"> 86774 </span>  IN  NS  f.root-servers.net.<br>.          <span class="hljs-number"> 86774 </span>  IN  NS  g.root-servers.net.<br>.          <span class="hljs-number"> 86774 </span>  IN  NS  h.root-servers.net.<br>.          <span class="hljs-number"> 86774 </span>  IN  NS  i.root-servers.net.<br>.          <span class="hljs-number"> 86774 </span>  IN  NS  a.root-servers.net.<br>.          <span class="hljs-number"> 86774 </span>  IN  NS  j.root-servers.net.<br>.          <span class="hljs-number"> 86774 </span>  IN  NS  k.root-servers.net.<br>.          <span class="hljs-number"> 86774 </span>  IN  NS  l.root-servers.net.<br><br>;; Query time:<span class="hljs-number"> 20 </span>msec<br>;; SERVER: 8.8.8.8<span class="hljs-comment">#53(8.8.8.8)</span><br>;; WHEN: Thu Sep<span class="hljs-number"> 24 </span>18:48:05 CST 2020<br>;; MSG SIZE  rcvd: 239<br></code></pre></td></tr></table></figure></p>
<p>‰∏çËøáÂ∞±ÁÆóÁ¶ÅÁî®‰∫Ü <code>ADDITIONAL SECTION</code>ÔºåËøòÊúâ‰∫õÊÉÖÂÜµÊòØ‰ºöÁõ¥Êé•Âú® <code>ANSWER SECTION</code> ËøîÂõûÂ§ßÈáèÂÜÖÂÆπÁöÑÔºå<code>ns</code>„ÄÅ<code>A</code> Á≠âÂèØËÉΩÊ≤°ÊúâÂ§öÂ∞ëÔºå‰ΩÜÊòØ <code>RRSIG</code> ÂèØÂ∞±Â§öÂíØÔºö<br />
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-comment"># macr0phag3 in ~ [19:02:57]</span><br>¬ª dig @<span class="hljs-number">8.8</span>.<span class="hljs-number">8.8</span> defcon.org RRSIG<br>...<br>...<br><br>;; QUESTION <span class="hljs-params">SECTION:</span><br>;defcon.org.            IN  RRSIG<br><br>;; ANSWER <span class="hljs-params">SECTION:</span><br>defcon.org.     <span class="hljs-number">0</span>   IN  RRSIG   NSEC3PARAM <span class="hljs-number">10</span> <span class="hljs-number">2</span> <span class="hljs-number">0</span> <span class="hljs-number">20201021013759</span> <span class="hljs-number">20200921011007</span> <span class="hljs-number">50153</span> defcon.org. GtoW4gli0iuyaTG75sWltQJ3xfXs08YWr8wG<span class="hljs-symbol">/tEd9IDqyOxHYUoJrSnj</span> TiDyPItyoUECBZPW1aWDgFdkqDUxqFMjwwl4wjmVjX4gjvHoWJ6X2lrV kHVK4FQGN<span class="hljs-operator">+</span>uuCyx<span class="hljs-symbol">/OPjH6B8VqxeHkFqT1+JM3BRhbgwAAso+/d9DyJqF</span> NYR5LvhLl6laAsTnTJlCndMTIUouHwpxEmYZ6BC<span class="hljs-operator">+</span><span class="hljs-number">20</span>Jr7xBypE4lzQYF DM6s7A9Cpy4HInwFpl9NjjS7OCku0RZYpbRXvOATQiv0VuHyMRFdbK9S Bkn<span class="hljs-operator">+</span>MEjYaUhl<span class="hljs-operator">+</span><span class="hljs-number">0</span>x<span class="hljs-operator">+</span>H4Ek<span class="hljs-operator">+</span>gEDmRk5wduCTxscyqaXzoHtJnzw510ztZWw Rk<span class="hljs-symbol">/wtTr8xSHmQxzM7ndw9yomE/3VOPCmY2atuCo8k5a+ugBzQS+RraXD</span> dz0tWLU8fBYnv3tr04Peq<span class="hljs-symbol">/RAyi4r3Yek5J0Jz6Jy2u+Ig5oGe16XJ0A4</span> rh94UEM<span class="hljs-operator">+</span><span class="hljs-number">0</span>N6G<span class="hljs-symbol">/JS6P5EvuG9gfHNFxAOVcrZRYpwGXBW63dUrEc3oX6xh</span> <span class="hljs-number">1</span>z7etZb6F<span class="hljs-symbol">/uNuxIYCyiZxmX/BgGYXM2J/1YO3vLhehmAhfbjTJh8MmKZ</span> yWvs9H0LQAuZrGjrSQKzIuGAgpot5X58lERsyuNNZqB8vXkDuGessFhP oHXbhADjBGcsdq<span class="hljs-symbol">/tyKRlq08+st0cK5ZijExdgobZpkCFsLEaOnzDu1qq</span> nuGHQriZjXw<span class="hljs-operator">=</span><br><br>...<br>...<br></code></pre></td></tr></table></figure></p>
<p>ËøôËøòÊòØÂÅö‰∫ÜÈôêÂà∂ÁöÑÔºåÂ¶ÇÊûú‰Ω†Êâæ‰∏™Ê≤°ÂÅöÈôêÂà∂ÁöÑ localDNS ÊàñËÄÖÊòØÊùÉÂ®Å DNS ÊúçÂä°Âô®ÔºåËøîÂõûÂÜÖÂÆπÂèØÂ∞±Â§ß‰∫ÜÔºåÊÄé‰πà‰πüÂæóÊúâ‰∏™ 20 ÂÄçÂêß„ÄÇÁîöËá≥‰Ω†ËøòÂèØ‰ª•Áî® <code>dig @ÁõÆÊ†áip defcon.org any</code>ÔºåÊâÄÊúâÁ±ªÂûãÁöÑËÆ∞ÂΩïÈÉΩËøîÂõûÔºåÊõ¥‰∏ä‰∏ÄÂ±ÇÊ•º„ÄÇÁî±‰∫é any ÂÆûÂú®ÊòØÂ§™ imba ‰∫ÜÔºåÂêÑÂ§ß localDNS ‰∏ÄËà¨ÈÉΩ‰ºöÈôêÂà∂ any ÁöÑÊü•ËØ¢ÔºåÂ∞±ÁÆó‰∏çÈôêÂà∂Ôºå‰∏ÄËà¨‰πü‰ºöÊó†ËßÜ bufsize ËΩ¨‰∏∫ TCP ‰º†ËæìÔºåËøôÊ†∑Â∞±Ê≤°Ê≥ï‰º™ÈÄ†Ê∫ê ip ‰∫ÜÔºåËá≥Â∞ëËá™Â∑±‰∏ç‰ºöÊàê‰∏∫ DDoS ÊîæÂ§ßÁöÑÂ∑•ÂÖ∑‰∫∫ÔºàËôΩÁÑ∂ËøòÊòØ‰ºöÊ∂àËÄóËá™Â∑±ÁöÑÊµÅÈáè‰∏éÊÄßËÉΩÔºâ„ÄÇ</p>
<p>‰∏äÈù¢ÁöÑÂÄçÊï∞ÈÉΩÊòØ 1:nÔºåÂ¶ÇÊûúÊîªÂáªËÄÖÊâãÈáåÊúâÂæàÂ§öËÇâÈ∏°ÁöÑËØùÔºåÈÇ£ÁîªÈù¢Â∞±Êõ¥Áæé‰∫Ü„ÄÇ</p>
<p>‰∏çËøáÊàëÊÑüËßâ localDNS ‰∏ÄËà¨‰∏ç‰ºöÈÅ≠Âèó DDoSÔºåÊîªÂáªËÄÖ‰∏ÄËà¨ÈÉΩ‰ºöÁî® localDNS Êù•ÊîæÂ§ßÊµÅÈáèÊâìÂà´‰∫∫„ÄÇÈô§ÈùûËøô‰∏™ localDNS Êú¨Ë∫´ÈùûÂ∏∏Êúâ‰ª∑ÂÄºÔºå‰æãÂ¶ÇÂ§ßËøêËê•ÂïÜÁöÑ localDNS ÊàñËÄÖÊòØËëóÂêçÁöÑÂÖ¨ÂÖ± localDNSÔºåËÉΩ D ÊàêÂäüÁöÑËØùÔºåÂΩ±ÂìçËåÉÂõ¥ÈùûÂ∏∏Â§ß„ÄÇ‰ΩÜÊòØËøô‰∫õÂæàÊúâ‰ª∑ÂÄºÁöÑ localDNS ‰∏ÄËà¨ÈÉΩ‰ºöÊúâÂæàÂ•ΩÁöÑÈò≤Êä§Ôºåso...ËÄåÊùÉÂ®ÅÊúçÂä°Âô®‰∏ÄËà¨Â∞±ÊòØÈáçÁÅæÂå∫‰∫ÜÔºå‰∏ÄÊó¶ÊàêÂäüÂΩ±ÂìçÈù¢ÂπøÔºåÊâÄ‰ª•‰ºöÈù¢ÂØπÂêÑÁßçÊîæÂ§ßÂûã DDoS ÂçèËÆÆÁöÑÊîªÂáª„ÄÇ</p>
<p>Ëá≥‰∫éÈò≤Êä§ÂòõÔºåÂêåÊ†∑ÁïôÂà∞ DDoS Á≥ªÂàóÂÜçËÆ≤Â•Ω‰∫Ü</p>
<h2 id="ÊÄªÁªì">ÊÄªÁªì</h2>
<p>Ëøô‰∏ÄÁØáÁªà‰∫éÂÜôÂÆå‰∫Ü„ÄÇÂÖ∂ÂÆûËøòÊòØË¶ÅÂ§öÂÅöÊµãËØï„ÄÅÂÆûÈ™åÔºåÁî® wireshark Â§öÁúãÁúãÊï∞ÊçÆÂåÖ„ÄÇËá≥‰∫é‰∏ã‰∏ÄÁØáÂòõÔºåÊÑüËßâË¶ÅËØ¥ÁöÑ‰∏úË•ø‰πüÂæàÂ§öÔºåÊúÄËøë‰πüÂæàÂøôÔºåÊÖ¢ÊÖ¢ÂÜôÂ•Ω‰∫Ü„ÄÇ</p>
<p>‰∏Ä‰ªΩÂçèËÆÆ‰ªéÊèêÂá∫„ÄÅËµ∑ËçâÂà∞Êé®ÂπøÔºåÈÉΩÊúâÊå∫Â§ßÁöÑÈòªÂäõÔºåÈúÄË¶ÅÂæàÈïøÊó∂Èó¥Ôºå‰ΩÜÊòØ‰∏çÁÆ°ÊÄé‰πàËØ¥ÔºåÊÄªÊòØÊúùÁùÄÊõ¥Âä†ÂÆâÂÖ®ÁöÑÊñπÂêëËøàËøõÔºåÁºìÊÖ¢‰ΩÜÂùöÂÆö„ÄÇ</p>
<br>
<p style="text-align: center;">
<font size="2px" color="gray">Êù•ÂëÄÂø´Ê¥ªÂëÄ</font><br />
<img src="https://clean-1252075454.cos.ap-nanjing.myqcloud.com/20200528120800990.png" srcset="https://blog-theme-source-1252075454.cos.ap-nanjing.myqcloud.com/img/loading.gif" lazyload style="zoom:30%" />
</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/" class="category-chain-item">ÁªèÈ™åÊÄªÁªì</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/DNS/">#DNS</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>DNS ÂÆâÂÖ®Ôºà‰∫åÔºâÔºöÈíàÂØπ DNS ÂçèËÆÆÁöÑÊîªÂáª</div>
      <div>https://www.tr0y.wang/2020/09/30/DNS-2-attack-dns/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>‰ΩúËÄÖ</div>
          <div>Tr0y</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>ÂèëÂ∏É‰∫é</div>
          <div>2020Âπ¥9Êúà30Êó•</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Êõ¥Êñ∞‰∫é</div>
          <div>2023Âπ¥12Êúà13Êó•</div>
        </div>
      
      <div class="license-meta-item">
        <div>ËÆ∏ÂèØÂçèËÆÆ</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - ÁΩ≤Âêç">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2020/11/02/DNS-3-attack-by-dns/" title="DNS ÂÆâÂÖ®Ôºà‰∏âÔºâÔºöÂà©Áî® DNS ÂçèËÆÆÂèëËµ∑ÁöÑÊîª‰∏éÈò≤">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">DNS ÂÆâÂÖ®Ôºà‰∏âÔºâÔºöÂà©Áî® DNS ÂçèËÆÆÂèëËµ∑ÁöÑÊîª‰∏éÈò≤</span>
                        <span class="visible-mobile">‰∏ä‰∏ÄÁØá</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2020/09/14/DNS-1-basic/" title="DNS ÂÆâÂÖ®Ôºà‰∏ÄÔºâÔºöÂü∫Á°ÄÁü•ËØÜÂ§ç‰π†">
                        <span class="hidden-mobile">DNS ÂÆâÂÖ®Ôºà‰∏ÄÔºâÔºöÂü∫Á°ÄÁü•ËØÜÂ§ç‰π†</span>
                        <span class="visible-mobile">‰∏ã‰∏ÄÁØá</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'Macr0phag3/Macr0phag3.github.io');
      s.setAttribute('issue-term', 'title');
      
      s.setAttribute('label', 'comment');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ÁõÆÂΩï</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">ÊêúÁ¥¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">ÂÖ≥ÈîÆËØç</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        ÊÄªËÆøÈóÆÈáè 
        <span id="leancloud-site-pv"></span>
         Ê¨°
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        ÊÄªËÆøÂÆ¢Êï∞ 
        <span id="leancloud-site-uv"></span>
         ‰∫∫
      </span>
    
    

  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":true,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.1/es5/tex-mml-chtml.js" ></script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- ‰∏ªÈ¢òÁöÑÂêØÂä®È°πÔºåÂ∞ÜÂÆÉ‰øùÊåÅÂú®ÊúÄÂ∫ïÈÉ® -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">ÂçöÂÆ¢Âú®ÂÖÅËÆ∏ JavaScript ËøêË°åÁöÑÁéØÂ¢É‰∏ãÊµèËßàÊïàÊûúÊõ¥‰Ω≥</div>
  </noscript>
</body>
</html>
